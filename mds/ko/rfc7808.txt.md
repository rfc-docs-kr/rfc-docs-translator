

```text
Internet Engineering Task Force (IETF)                       M. Douglass
Request for Comments: 7808                           Spherical Cow Group
Category: Standards Track                                       C. Daboo
ISSN: 2070-1721                                                    Apple
                                                              March 2016

                  Time Zone Data Distribution Service
```

---
# **Abstract**

이 문서에서는 일정 관리 및 예약 애플리케이션이나 운영 체제와 같은 클라이언트 시스템에 시간대 데이터와 윤초 규칙을 안정적이고 안전하며 빠르게 전달할 수 있는 시간대 데이터 배포 서비스를 정의합니다.

---
# **Status of This Memo**

이것은 인터넷 표준 추적 문서입니다.

이 문서는 IETF\(Internet Engineering Task Force\)의 제품입니다. 이는 IETF 커뮤니티의 합의를 나타냅니다. 공개 검토를 받았으며 IESG\(Internet Engineering Steering Group\)의 출판 승인을 받았습니다. 인터넷 표준에 대한 자세한 내용은 RFC 5741의 섹션 2에서 확인할 수 있습니다.

이 문서의 현재 상태, 정오표, 피드백 제공 방법에 대한 정보는 http://www.rfc-editor.org/info/rfc7808에서 얻을 수 있습니다.

---
# **Copyright Notice**

Copyright \(c\) 2016 IETF Trust 및 문서 작성자로 확인된 사람. 판권 소유.

이 문서는 이 문서의 발행일에 유효한 BCP 78 및 IETF 문서에 관한 IETF 트러스트의 법적 조항\(http://trustee.ietf.org/license-info\)의 적용을 받습니다. 이 문서와 관련된 귀하의 권리 및 제한 사항을 설명하므로 이 문서를 주의 깊게 검토하십시오. 이 문서에서 추출한 코드 구성 요소는 Trust Legal Provisions의 섹션 4.e에 설명된 대로 Simplified BSD License 텍스트를 포함해야 하며 Simplified BSD License에 설명된 대로 보증 없이 제공됩니다.

---
# **Table of Contents**

```text
   1.  Introduction  . . . . . . . . . . . . . . . . . . . . . . . .   4
     1.1.  Conventions . . . . . . . . . . . . . . . . . . . . . . .   4
   2.  Architectural Overview  . . . . . . . . . . . . . . . . . . .   5
   3.  General Considerations  . . . . . . . . . . . . . . . . . . .   7
     3.1.  Time Zone . . . . . . . . . . . . . . . . . . . . . . . .   7
     3.2.  Time Zone Data  . . . . . . . . . . . . . . . . . . . . .   7
     3.3.  Time Zone Metadata  . . . . . . . . . . . . . . . . . . .   7
     3.4.  Time Zone Data Server . . . . . . . . . . . . . . . . . .   7
     3.5.  Observance  . . . . . . . . . . . . . . . . . . . . . . .   7
     3.6.  Time Zone Identifiers . . . . . . . . . . . . . . . . . .   7
     3.7.  Time Zone Aliases . . . . . . . . . . . . . . . . . . . .   8
     3.8.  Time Zone Localized Names . . . . . . . . . . . . . . . .   8
     3.9.  Truncating Time Zones . . . . . . . . . . . . . . . . . .   9
     3.10. Time Zone Versions  . . . . . . . . . . . . . . . . . . .  10
   4.  Time Zone Data Distribution Service Protocol  . . . . . . . .  10
     4.1.  Server Protocol . . . . . . . . . . . . . . . . . . . . .  10
       4.1.1.  Time Zone Queries . . . . . . . . . . . . . . . . . .  11
       4.1.2.  Time Zone Formats . . . . . . . . . . . . . . . . . .  11
       4.1.3.  Time Zone Localization  . . . . . . . . . . . . . . .  12
       4.1.4.  Conditional Time Zone Requests  . . . . . . . . . . .  12
       4.1.5.  Expanded Time Zone Data . . . . . . . . . . . . . . .  14
       4.1.6.  Server Requirements . . . . . . . . . . . . . . . . .  14
       4.1.7.  Error Responses . . . . . . . . . . . . . . . . . . .  14
       4.1.8.  Extensions  . . . . . . . . . . . . . . . . . . . . .  14
     4.2.  Client Guidelines . . . . . . . . . . . . . . . . . . . .  14
       4.2.1.  Discovery . . . . . . . . . . . . . . . . . . . . . .  14
         4.2.1.1.  SRV Service Labels for the Time Zone Data
                   Distribution Service  . . . . . . . . . . . . . .  15
         4.2.1.2.  TXT Records for a Time Zone Data Distribution
                   Service . . . . . . . . . . . . . . . . . . . . .  15
         4.2.1.3.  Well-Known URI for a Time Zone Data Distribution
                   Service . . . . . . . . . . . . . . . . . . . . .  16
           4.2.1.3.1.  Example: Well-Known URI Redirects to Actual
                       Context Path  . . . . . . . . . . . . . . . .  17
       4.2.2.  Synchronization of Time Zones . . . . . . . . . . . .  17
         4.2.2.1.  Initial Synchronization of All Time Zones . . . .  17
         4.2.2.2.  Subsequent Synchronization of All Time Zones  . .  17
         4.2.2.3.  Synchronization with Preexisting Time Zone Data .  18
   5.  Actions . . . . . . . . . . . . . . . . . . . . . . . . . . .  18
     5.1.  "capabilities" Action . . . . . . . . . . . . . . . . . .  18
       5.1.1.  Example: get capabilities . . . . . . . . . . . . . .  19
     5.2.  "list" Action . . . . . . . . . . . . . . . . . . . . . .  21
       5.2.1.  Example: List Time Zone Identifiers . . . . . . . . .  22
     5.3.  "get" Action  . . . . . . . . . . . . . . . . . . . . . .  23
       5.3.1.  Example: Get Time Zone Data . . . . . . . . . . . . .  24
       5.3.2.  Example: Conditional Get Time Zone Data . . . . . . .  25
       5.3.3.  Example: Get Time Zone Data Using a Time Zone Alias .  25
       5.3.4.  Example: Get Truncated Time Zone Data . . . . . . . .  26
       5.3.5.  Example: Request for a Nonexistent Time Zone  . . . .  27
     5.4.  "expand" Action . . . . . . . . . . . . . . . . . . . . .  27
       5.4.1.  Example: Expanded JSON Data Format  . . . . . . . . .  29
     5.5.  "find" Action . . . . . . . . . . . . . . . . . . . . . .  30
       5.5.1.  Example: find action  . . . . . . . . . . . . . . . .  31
     5.6.  "leapseconds" Action  . . . . . . . . . . . . . . . . . .  32
       5.6.1.  Example: Get Leap-Second Information  . . . . . . . .  33
   6.  JSON Definitions  . . . . . . . . . . . . . . . . . . . . . .  34
     6.1.  capabilities Action Response  . . . . . . . . . . . . . .  34
     6.2.  list/find Action Response . . . . . . . . . . . . . . . .  37
     6.3.  expand Action Response  . . . . . . . . . . . . . . . . .  38
     6.4.  leapseconds Action Response . . . . . . . . . . . . . . .  39
   7.  New iCalendar Properties  . . . . . . . . . . . . . . . . . .  40
     7.1.  Time Zone Upper Bound . . . . . . . . . . . . . . . . . .  40
     7.2.  Time Zone Identifier Alias Property . . . . . . . . . . .  41
   8.  Security Considerations . . . . . . . . . . . . . . . . . . .  42
   9.  Privacy Considerations  . . . . . . . . . . . . . . . . . . .  43
   10. IANA Considerations . . . . . . . . . . . . . . . . . . . . .  44
     10.1.  Service Actions Registration . . . . . . . . . . . . . .  45
       10.1.1.  Service Actions Registration Procedure . . . . . . .  45
       10.1.2.  Registration Template for Actions  . . . . . . . . .  46
       10.1.3.  Actions Registry . . . . . . . . . . . . . . . . . .  47
     10.2.  timezone Well-Known URI Registration . . . . . . . . . .  47
     10.3.  Service Name Registrations . . . . . . . . . . . . . . .  47
       10.3.1.  timezone Service Name Registration . . . . . . . . .  47
       10.3.2.  timezones Service Name Registration  . . . . . . . .  48
     10.4.  TZDIST Identifiers Registry  . . . . . . . . . . . . . .  48
       10.4.1.  Registration of invalid-action Error URN . . . . . .  49
       10.4.2.  Registration of invalid-changedsince Error URN . . .  49
       10.4.3.  Registration of tzid-not-found Error URN . . . . . .  50
       10.4.4.  Registration of invalid-format Error URN . . . . . .  50
       10.4.5.  Registration of invalid-start Error URN  . . . . . .  50
       10.4.6.  Registration of invalid-end Error URN  . . . . . . .  51
       10.4.7.  Registration of invalid-pattern Error URN  . . . . .  51
     10.5.  iCalendar Property Registrations . . . . . . . . . . . .  52
   11. References  . . . . . . . . . . . . . . . . . . . . . . . . .  52
     11.1.  Normative References . . . . . . . . . . . . . . . . . .  52
     11.2.  Informative References . . . . . . . . . . . . . . . . .  55
   Acknowledgements  . . . . . . . . . . . . . . . . . . . . . . . .  55
   Authors' Addresses  . . . . . . . . . . . . . . . . . . . . . . .  56
```

---
## **1.  Introduction**

시간대 데이터는 일반적으로 UTC\(협정 세계시\) 오프셋과 DST\(일광 절약 시간\) 규칙을 결합합니다. 시간대는 일반적으로 특정 지리적, 지정학적 지역과 연결되어 있습니다. 특정 지역의 UTC 오프셋은 자주 변경되지 않지만 DST 규칙은 자주 변경될 수 있으며 때로는 사전 통지 없이\(변경 사항이 적용되기 몇 시간 전\) 경우도 있습니다.

iCalendar \[RFC5545\]를 사용하는 것과 같은 달력 및 일정 관리 시스템과 운영 체제는 정확한 현지 시간을 결정하기 위해 시간대 데이터에 크게 의존합니다. 따라서 시간대 데이터가 변경되면 최신 상태로 유지되어야 합니다. 지금까지 이를 수행하는 빠르고 쉬운 방법은 없었습니다. 시간대 데이터는 클라이언트 애플리케이션이나 운영 체제에서 사용하기 위해 적합한 데이터베이스 형식으로 "컴파일"해야 하는 데이터 파일 세트의 형태로 제공되는 경우가 많습니다. 운영 체제의 경우 이러한 변경 사항은 운영 체제 업데이트가 있는 경우에만 클라이언트 시스템에 전파되는 경우가 많으며, 이로 인해 부정확한 시간대 데이터가 상당한 시간 동안 존재하게 될 수 있습니다. 경우에 따라 이전 버전의 운영 체제는 지원이 중단되지만 여전히 사용 중이므로 사용자가 시간대 변경 사항을 최신 상태로 유지하려면 시스템을 수동으로 "패치"해야 합니다.

시간대 데이터와 함께 국제 원자시\(TAI\)와 UTC 간의 매핑을 허용하기 위해 윤초 사용을 추적하는 것도 중요합니다. 윤초는 일반적으로 정확한 천문 관측에 의해 결정되는 불규칙한 패턴으로 일년 중 다양한 시기에 추가되거나 제거될 수 있습니다. UTC에 윤초를 삽입하는 것은 현재 International Earth Rotation Service의 책임입니다.

이 사양은 시간대 데이터와 윤초 정보를 클라이언트 시스템에 빠르고 안정적이며 정확하게 전달할 수 있는 시간대 데이터 배포 서비스 프로토콜을 정의합니다. 이 프로토콜은 간단한 JSON 기반 API \[RFC7159\]를 사용하는 HTTP \[RFC7230\]를 기반으로 합니다.

이 사양은 시간대 데이터 또는 윤초 정보의 소스를 정의하지 않습니다. 신뢰할 수 있고 정확한 출처가 있다고 가정합니다. 그러한 소스 중 하나가 IANA에서 호스팅하는 시간대 데이터베이스 \[RFC6557\]입니다.

---
### **1.1.  Conventions**

이 문서에서 키워드 "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT", "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY" 및 "OPTIONAL"은 다음과 같습니다. \[RFC2119\]에 설명된 대로 해석됩니다.\(MUST NOT\)

달리 명시하지 않는 한, \[RFC3339\]에 지정된 UTC 날짜-시간 값은 고정된 숫자 오프셋이 아닌 "Z" 접미사를 사용합니다.

이 사양에는 HTTP 요청 및 응답의 예가 포함되어 있습니다. 경우에 따라 이 문서의 최대 줄 길이 제한과 일치하도록 요청 또는 응답 데이터에 추가 줄 바꿈이 도입되었습니다.

---
## **2.  Architectural Overview**

시간대 데이터 전달에 대한 전반적인 프로세스는 아래 다이어그램을 통해 시각화할 수 있습니다.

```text
               ====================  ====================
   (a)         |   Contributors   |  |   Contributors   |
               ====================  ====================
                         |                    |
               ====================  ====================
   (b)         |   Publisher A    |  |   Publisher B    |
               ====================  ====================
                           \           /
                        ====================
   (c)                  |  Root Provider   |
                        ====================
                       /            |       \
                      /             |        \
           ======================   |  ======================
   (d)     | Secondary Provider |   |  | Secondary Provider |
           ======================   |  ======================
             |           |          |              |
             |           |          |              |
        ==========  ==========  ==========      ==========
   (e)  | Client |  | Client |  | Client |      | Client |
        ==========  ==========  ==========      ==========

        Figure 1: Time Zone Data Distribution Service Architecture
```

전체 서비스는 여러 레이어로 구성됩니다.

\(a\) 기여자: 출판 과정에 시간대에 대한 정보를 제공하는 개인, 정부 또는 조직. 많은 기여자가 있을 수 있습니다. 이 사양은 기여 방법을 다루지 않습니다.

\(b\) 출판사: 출판사는 기여자로부터 정보를 집계하고 정보의 신뢰성을 판단하며 이를 기반으로 시간대 데이터를 생성합니다. 게시자가 많을 수 있으며 각각은 다양한 기여자로부터 정보를 얻습니다. 어떤 경우에는 게시자가 다른 게시자의 데이터를 "다시 게시"하도록 선택할 수도 있습니다.

\(c\) 루트 공급자: 게시자로부터 시간대 데이터를 획득하여 제공하고 이를 다른 서버나 클라이언트에서 사용할 수 있도록 하는 서버입니다. 루트 공급자는 여러 개가 있을 수 있습니다. 루트 공급자는 하나 이상의 게시자로부터 시간대 데이터를 제공하도록 선택할 수 있습니다.

\(d\) 보조 공급자: 대량의 요청을 처리하고 루트 서버의 로드를 줄이는 서버입니다. 이는 일반적으로 클라이언트에 더 가까운 루트 서버의 간단한 캐시입니다. 예를 들어 대규모 인터넷 서비스 공급자\(ISP\)는 네트워크 내의 클라이언트가 네트워크 외부의 서버를 요청하는 대신 해당 서버에 요청할 수 있도록 자체 보조 공급자를 설정하도록 선택할 수 있습니다. 보조 서버는 루트 서버의 데이터를 캐시하고 주기적으로 새로 고칩니다.

\(e\) 클라이언트: 시간대 데이터를 활용하고 이를 루트 또는 보조 공급자로부터 검색하는 애플리케이션, 운영 체제 등.

이러한 레이어 중 일부는 구현자에 의해 통합될 수 있습니다. 예를 들어 공급업체는 전체 서비스를 분산 시스템에 주소가 포함된 단일 모놀리식 가상 서버로 구현하도록 선택할 수 있습니다. 다른 사람들은 여러 계층의 공급자, 많은 보조 서버 및 소수의 루트 서버로 구성된 서비스를 제공하기로 선택할 수 있습니다.

이 사양은 공급자 간, 공급자에서 클라이언트로 데이터를 교환하는 데 사용되는 프로토콜에만 관련됩니다. 이 사양은 기여자가 자신의 정보를 게시자에게 전달하는 방법, 해당 게시자가 신뢰할 수 있는 데이터를 얻기 위해 해당 정보를 조사하는 방법, 게시자가 생성한 데이터 형식을 정의하지 않습니다.

---
## **3.  General Considerations**

이 섹션에서는 여러 용어를 정의하고 이 사양에 사용된 몇 가지 주요 개념을 설명합니다.

---
### **3.1.  Time Zone**

시간대는 일치하도록 의도된 시계 모음의 과거 및 예측된 미래 시간 측정 방식에 대한 설명입니다.

"시간대"라는 용어는 특정 UTC 오프셋\(일광 절약 시간에 의해 수정될 수 있음\)에 있는 세계 지역의 일반적인 의미를 갖지 않습니다. 예를 들어, "중앙 유럽 표준시" 구역은 과거에 소지역에서 시간을 다르게 유지했기 때문에 "유럽/베를린", "유럽/파리" 등의 여러 시간대에 해당할 수 있습니다.

---
### **3.2.  Time Zone Data**

시간대 데이터는 식별자, UTC 오프셋 값, DST 규칙 및 시간대 약어와 같은 기타 정보를 포함하여 단일 시간대를 정의하는 데이터입니다.

---
### **3.3.  Time Zone Metadata**

시간대 메타데이터는 시간대 데이터 자체에 포함되지 않은 시간대의 추가 속성을 설명하는 데이터입니다. 여기에는 게시자 이름, 버전 식별자, 별칭, 현지화된 이름 등이 포함될 수 있습니다\(아래 참조\).

---
### **3.4.  Time Zone Data Server**

타임존 데이터 서버는 본 규격에서 정의한 타임존 데이터 분산 서비스 프로토콜\(Time Zone Data Distribution Service Protocol\)을 구현하는 서버이다.

---
### **3.5.  Observance**

UTC 오프셋에 대한 다양한 규칙이 있는 시간대에는 서로 다른 UTC 오프셋을 사용하는 인접한 기간이 있습니다. UTC 오프셋이 일정한 각 기간을 준수라고 합니다.

---
### **3.6.  Time Zone Identifiers**

시간대 식별자는 게시자가 정의한 대로 각 시간대와 연결된 고유한 이름입니다. iCalendar \[RFC5545\] 사양에는 값이 해당 시간대 식별자로 설정되고 시간대 데이터를 식별하고 시간대를 이벤트의 시작 및 종료 날짜와 연결하는 데 사용되는 "TZID" 속성과 매개변수가 있습니다.

등. 이 사양은 사용해야 하는 시간대 식별자의 형식을 정의하지 않습니다. 서로 다른 게시자의 시간대 식별자가 겹칠 가능성이 있으며 공급자는 게시자를 식별하는 "네임스페이스" 접두사 형식을 사용하여 이를 구별해야 할 수도 있습니다. 그러나 시간대 식별자에 대한 표준\(전역\) 명명 체계의 개발은 이 사양의 범위를 벗어납니다.

---
### **3.7.  Time Zone Aliases**

시간대 별칭은 이름을 시간대 식별자에 매핑합니다. 예를 들어 "US/Eastern"은 일반적으로 "America/New\_York"에 매핑됩니다. 시간대 별칭은 일반적으로 사용자에게 정보를 제공할 때 시간대 식별자와 같은 의미로 사용됩니다.

시간대 데이터 배포 서비스는 시간대 별칭 매핑 정보를 유지 관리하고 해당 데이터를 클라이언트에 노출할 뿐만 아니라 클라이언트가 별칭을 사용하여 시간대 데이터를 쿼리할 수 있도록 해야 합니다. 시간대 데이터를 클라이언트에 반환할 때 서버는 쿼리와 일치하는 식별자가 포함된 데이터를 반환하지만, 대체 식별자를 사용할 수 있다는 힌트를 클라이언트에 제공하기 위해 데이터에 하나 이상의 추가 식별자를 포함할 수 있습니다. 예를 들어 "US/Eastern"에 대한 쿼리에는 "America/New\_York" 또는 "America/Montreal"에 대한 추가 식별자가 포함될 수 있습니다.

별칭 집합은 시간대 데이터가 잘리는지 여부에 따라 달라질 수 있습니다\(섹션 3.9 참조\). 예를 들어, 미국 미시간 주에 있는 클라이언트는 "US/Eastern"을 "America/Detroit"의 별칭으로 볼 수 있는 반면, 미국 뉴저지 주에 있는 클라이언트는 "America/New\_York"의 별칭으로 볼 수 있습니다. "이며 시간대가 2013년 이후 데이터로 잘린 경우 세 이름 모두 별칭일 수 있습니다.

---
### **3.8.  Time Zone Localized Names**

지역화된 이름은 사용자에게 자신의 언어로 표시될 수 있는 시간대의 이름입니다. 각 시간대에는 하나 이상의 현지화된 이름이 연결되어 있을 수 있습니다. 이름은 목록으로 사용자에게 표시될 수 있으므로 일반적으로 해당 로케일에서 고유합니다. 현지화된 이름은 시간대 내에서 UTC 오프셋에 일반적으로 사용되는 약어와 다릅니다. 예를 들어, 시간대 "America/ New\_York"는 자체 지역화가 있을 수도 있고 없을 수도 있는 약어 "EST" 및 "EDT"와 구별되는 스페인어 로케일의 지역화된 이름 "Nueva York"을 가질 수 있습니다.

시간대 데이터 배포 서비스는 하나 이상의 선택된 언어에 대해 지역화된 이름 정보를 유지해야 할 뿐만 아니라 클라이언트가 지역화된 이름을 사용하여 시간대 데이터를 쿼리할 수 있도록 해야 합니다.

---
### **3.9.  Truncating Time Zones**

시간대 데이터에는 특정 서버의 대상 클라이언트와 관련이 없을 수 있는 과거 및 미래 UTC 오프셋에 대한 정보가 포함될 수 있습니다. 예를 들어, 사용자는 일반적으로 현재와 미래에 대해서만 새 이벤트를 만들기 때문에 일정 관리 및 예약 클라이언트는 과거 1\~2년 동안의 기간을 포함하는 시간대 데이터에 가장 관심이 있을 가능성이 높습니다. 마찬가지로, 시간대 데이터에는 수십 년 후에 발생하는 전환에 대한 대량의 "미래" 정보가 포함될 수 있습니다. 다시 말하지만, 클라이언트는 미래의 더 작은 범위에만 관심을 가질 수 있으며 해당 지점 이후의 데이터는 불필요할 수 있습니다.

불필요한 데이터를 전송하지 않기 위해 서버는 시간대 데이터를 시작 및 끝 날짜-시간 값에 의해 결정된 범위로 자르고 해당 지점 사이의 오프셋과 규칙만 제공하도록 선택할 수 있습니다. 이러한 잘림이 수행되면 서버는 "기능" 작업 응답\(섹션 6.1 참조\)에 사용 중인 범위를 포함해야 합니다. 그래야 클라이언트가 해당 범위를 벗어난 시간에 대한 시간대 데이터가 필요한 경우 적절한 작업을 수행할 수 있습니다.\(MUST\)

범위의 시작과 끝 부분에 있는 잘림 지점은 항상 UTC 날짜-시간 값이며, 시작 지점은 전체 범위에 "포함"되고 끝 지점은 전체 범위에 "제외"됩니다\(즉, 끝 값이 범위의 마지막 유효한 값의 끝을 막 지난 경우\). 서버는 제공할 수 있는 잘린 데이터의 잘림 범위를 알리거나 임의의 범위를 생성하기 위해 임의의 시작점이나 끝점에서자를 수 있다는 표시기를 제공합니다. 또한 서버는 잘리지 않은 데이터, 즉 원본 게시자가 제공하는 전체 시간 범위를 포괄하는 데이터를 제공한다고 광고할 수 있습니다. 서버에서 잘린 데이터를 사용할 수 있다는 표시가 없으면 서버는 잘리지 않은 데이터만 제공합니다.

"VTIMEZONE" 구성 요소의 시작 부분을 자르는 경우 서버는 잘림 범위의 시작 지점과 일치하는 "DTSTART" 속성 값과 적절한 "TZOFFSETFROM" 및 "TZOFFSETTO"를 가진 정확히 하나의 "STANDARD" 또는 "DAYLIGHT" 하위 구성 요소를 포함해야 합니다. " 속성을 사용하여 잘림 범위의 시작점 바로 전후에 유효한 올바른 오프셋을 나타냅니다. 시간대 데이터에 의해 정의된 첫 번째 준수 사항인 이 하위 구성요소는 잘린 "VTIMEZONE" 구성요소에서 시간대 데이터에 포함되는 가장 빠른 유효한 날짜-시간을 나타냅니다.\(MUST\)

"VTIMEZONE" 구성 요소의 끝을 자르는 경우 서버는 잘림 범위의 끝 지점을 나타내기 위해 "VTIMEZONE" 구성 요소에 "TZUNTIL" iCalendar 속성\(7.1절\)을 포함해야 합니다.\(MUST\)

---
### **3.10.  Time Zone Versions**

시간대 데이터는 시간이 지남에 따라 변경되므로 해당 데이터의 소비자가 최신 버전을 유지하는 것이 중요합니다. 따라서 시간대 데이터 게시자가 제공한 특정 버전 번호 또는 버전 식별자를 사용하여 개별 시간대를 식별하는 것이 유용합니다. 시간대 데이터 게시자가 시간대 데이터에 대한 업데이트를 게시하는 데 사용할 수 있는 두 가지 일반적인 모델이 있습니다.

ㅏ. "모놀리식" 모델을 사용하면 모든 시간대의 데이터가 전체 데이터 세트에 단일 버전 번호 또는 식별자가 적용되어 한 번에 게시됩니다. 예를 들어, 1년에 여러 번 데이터를 생성하는 게시자는 버전 식별자 "2015a", "2015b" 등을 사용할 수 있습니다.

비. "증분" 모델을 사용하면 각 시간대에 고유한 버전 식별자가 있으므로 각 시간대는 다른 시간대에 영향을 주지 않고 독립적으로 업데이트될 수 있습니다. 예를 들어, 초기 데이터에 시간대 "A"에 대해 버전 "A.1"이 있고 시간대 "B"에 대해 "B.1" 버전이 있는 경우 시간대 "B"가 변경됩니다. 다음에 데이터가 게시되면 시간대 "A"에는 여전히 "A.1" 버전이 있지만, 시간대 "B"에는 이제 "B.2" 버전이 있습니다.

시간대 데이터 배포 서비스는 시간대별 실제 게시자 이름과 함께 시간대 데이터 게시자가 사용하는 버전 식별자를 모든 클라이언트에서 사용할 수 있도록 해야 합니다. 이를 통해 클라이언트는 모든 서버의 게시자/버전 세부 정보를 기존 로컬 캐시 클라이언트 데이터와 비교하고 실제로 변경된 시간대만 가져올 수 있습니다\(클라이언트가 서버에서 데이터를 동기화하는 방법에 대한 자세한 내용은 섹션 4.2.2 참조\).

---
## **4.  Time Zone Data Distribution Service Protocol**
---
### **4.1.  Server Protocol**

시간대 데이터 배포 서비스 프로토콜은 시간대 데이터, 메타데이터 및 윤초 정보를 쿼리하고 전달하기 위해 HTTP \[RFC7230\]를 사용합니다. HTTP 서버와의 상호 작용은 요청되는 전체 기능을 정의하는 일련의 "작업"으로 분류될 수 있습니다\(섹션 5 참조\). 각 작업은 필요에 따라 동작을 변경하는 다양한 요청-URI 매개변수와 함께 GET 메서드를 사용하여 특정 HTTP 리소스를 대상으로 합니다.

요청에 사용되는 HTTP 리소스는 URI 템플릿 \[RFC6570\]을 통해 식별됩니다. 전체 시간대 데이터 배포 서비스에는 "{/service-prefix}"로 정의된 "컨텍스트 경로" 요청-URI 템플릿이 있습니다. 이 "루트" 접두사는 다음과 같이 클라이언트에 의해 발견됩니다.

섹션 4.2.1. 시간대 데이터를 대상으로 하는 요청-URI는 접두사 템플릿 "{/service-prefix,data-prefix}"를 직접 사용합니다. 접두사 템플릿의 두 번째 구성 요소는 시간대 데이터를 "분할"하는 대체 방법을 허용하기 위해 요청-URI에 추가 경로 세그먼트를 도입하는 데 사용될 수 있습니다. 예를 들어 시간대 데이터는 게시자 출시 날짜나 버전 식별자로 분할될 수 있습니다. 이 사양은 파티션을 정의하지 않습니다. 이는 향후 확장을 위해 남겨졌습니다. "data-prefix" 변수가 비어 있으면 서버는 지원하는 모든 게시자에 대해 현재 버전의 시간대 데이터를 반환해야 합니다.

모든 URI 템플릿 변수 값과 텍스트 값을 포함하는 URI 요청 매개변수는 UTF-8 \[RFC3629\] 문자 집합을 사용하여 인코딩되어야 합니다. 모든 응답은 UTF-8 \[RFC3629\] 문자 세트를 사용하여 데이터를 반환해야 합니다. 시간대 식별자에서 자주 발견되는 "/" 문자는 URI 템플릿의 경로 세그먼트 확장 변수 값에 사용될 때 백분율로 인코딩된다는 점에 유의하는 것이 중요합니다\(\[RFC6570의 섹션 3.2.6에 따름\). \]\). 따라서 시간대 식별자 "America/New\_York"는 이 사양의 뒷부분에 정의된 "{/tzid}" URI 템플릿 변수의 값으로 사용될 때 "America%2FNew\_York"로 나타납니다.\(MUST, MUST\)

서버는 JSON \[RFC7159\] 객체 형식으로 시간대 메타데이터를 제공합니다. 클라이언트는 시간대 메타데이터를 직접 요청하거나 특정 기준과 일치하는 메타데이터 하위 집합에 대한 쿼리를 실행할 수 있습니다.

이 프로토콜에 대한 보안 및 개인 정보 보호 고려 사항은 각각 섹션 8과 9에서 자세히 논의됩니다.

---
#### **4.1.1.  Time Zone Queries**

시간대 식별자, 별칭 또는 현지화된 이름을 사용하여 시간대 데이터 또는 메타데이터를 쿼리할 수 있습니다. 이는 각 작업에 대해 아래에서 더 명확하게 정의됩니다. 그러나 일반적으로 "tzid" URI 템플릿 변수가 사용되는 경우 값은 식별자 또는 별칭일 수 있습니다. "패턴" URI 쿼리 매개변수가 사용되는 경우 식별자, 별칭 또는 지역화된 이름일 수 있습니다.

---
#### **4.1.2.  Time Zone Formats**

시간대 데이터를 반환하기 위한 기본 미디어 유형 \[RFC2046\] 형식은 iCalendar \[RFC5545\] 데이터 형식입니다. 또한 iCalendar-in-XML \[RFC6321\] 및 iCalendar-in-JSON \[RFC7265\] 표현을 사용할 수 있습니다. 클라이언트는 HTTP Accept 헤더 필드\(\[RFC7231\]의 섹션 5.3.2 참조\)를 사용하여 반환된 데이터 형식에 대한 선호도를 나타냅니다. 서버는 "기능" 작업 응답\(섹션 5.1\)을 통해 지원하는 사용 가능한 형식을 나타냅니다.

---
#### **4.1.3.  Time Zone Localization**

섹션 3.8에 따라 시간대 데이터는 지역화된 이름을 지원할 수 있습니다. 클라이언트는 HTTP Accept-Language 헤더 필드\(\[RFC7231\]의 섹션 5.3.5 참조\)를 사용하여 응답 데이터의 지역화된 이름에 사용되는 언어에 대한 선호도를 나타냅니다.

---
#### **4.1.4.  Conditional Time Zone Requests**

시간대 데이터나 메타데이터가 변경되면 시간대 데이터 변경 사항이 게시된 후 며칠 이내에 현지 시간 오프셋이 변경될 수 있으므로 적시에 배포해야 합니다. 일반적으로 변경되는 시간대의 수는 적지만 전체 시간대의 수는 클 수 있습니다. 따라서 클라이언트가 여러 시간대를 사용하는 경우 클라이언트가 변경된 시간대\(증분 업데이트\)만 다운로드할 수 있는 것이 더 효율적입니다.

클라이언트는 처음에 "목록" 작업 요청을 사용하여 서버에서 전체 시간대 목록을 요청합니다\(섹션 5.2 참조\). 해당 요청에 대한 응답에는 후속 "조건부"\(증분 업데이트\) 요청에 사용하기 위해 클라이언트가 캐시하는 두 가지 항목이 포함됩니다.

1. "synctoken" JSON 멤버의 불투명 동기화 토큰. 이 토큰은 하나 이상의 시간대와 연관된 메타데이터가 변경될 때마다 변경됩니다\(여기서 메타데이터는 각 시간대에 대한 "목록" 작업 응답에 보고된 정보입니다\).

2. 응답에 반환된 각 시간대에 대한 HTTP ETag 헤더 필드 값입니다. ETag 헤더 필드 값은 "etag" JSON 멤버에 반환되며 해당 시간대 데이터 리소스에 대해 "get" 작업 요청\(섹션 5.3 참조\)을 실행할 때 반환되는 ETag 헤더 필드 값에 해당합니다.

캐시된 데이터에 대한 후속 업데이트를 위해 클라이언트는 다음 절차를 사용할 수 있습니다.

ㅏ. 서버에서 반환한 마지막 불투명 동기화 토큰으로 값이 설정된 "changedsince" URI 쿼리 매개변수와 함께 "목록" 작업 요청을 보냅니다. 서버는 마지막 요청 이후 변경된 시간대에 대해서만 시간대 메타데이터를 반환합니다.

비. 클라이언트는 반환된 시간대 메타데이터 정보와 함께 다음 증분 업데이트에 대한 응답으로 반환된 새로운 불투명 동기화 토큰을 캐시합니다.

씨. 클라이언트는 각 시간대 메타데이터를 확인하여 "etag" 값이 캐시된 시간대 데이터의 값과 다른지 확인합니다.

디. 클라이언트는 "get" 작업 요청을 사용하여 ETag 헤더 필드 값이 변경된 시간대에 대해 캐시된 시간대 데이터를 업데이트합니다.

해당 시간대 데이터가 변경되면 시간대 메타데이터도 항상 변경됩니다. 그러나 그 반대는 사실이 아닙니다. 해당 시간대 데이터가 변경되지 않은 채 시간대 메타데이터의 일부가 변경될 수 있습니다. 예를 들어 "모놀리식" 게시자의 경우\(섹션 3.10 참조\) 모든 시간대 메타데이터 요소의 버전 식별자는 새로 게시된 개정마다 변경됩니다. 그러나 실제로는 시간대 데이터의 작은 하위 집합만 변경됩니다.

클라이언트가 하나 또는 일부 시간대 집합\(예: 고정된 위치의 시계\)에 대한 데이터만 필요한 경우 조건부 HTTP 요청을 사용하여 시간대 데이터가 변경되었는지 확인하고 새 데이터를 검색할 수 있습니다. HTTP 조건부 요청에 대한 자세한 내용은 \[RFC7232\]에 설명되어 있습니다. 다음은 클라이언트가 일반적으로 수행하는 작업에 대한 간략한 요약입니다.

ㅏ. 클라이언트가 "get" 작업\(섹션 5.3 참조\)을 사용하여 서버에서 시간대 데이터를 검색하면 서버는 응답에 HTTP ETag 헤더 필드를 포함합니다.

비. 클라이언트는 요청에 사용된 요청-URI와 함께 해당 헤더 필드의 값을 저장합니다.

씨. 클라이언트가 업데이트를 확인하려고 할 때 원래 요청-URI에 대해 또 다른 "get" 작업 HTTP 요청을 발행하지만 이번에는 값이 ETag 헤더로 설정된 If-None-Match HTTP 요청 헤더 필드가 포함됩니다. 이전 응답의 필드 값입니다. 시간대 데이터가 변경되지 않은 경우 서버는 304\(수정되지 않음\) HTTP 응답을 반환합니다. 데이터가 변경된 경우 서버는 변경된 데이터와 ETag 헤더 필드의 새 값을 포함하는 일반적인 HTTP 성공 응답을 반환합니다.

클라이언트는 적어도 하루에 한 번 적절한 조건부 요청을 사용하여 변경 사항을 폴링해야 합니다. 다른 서버의 시간대 데이터를 캐싱하는 보조 공급자 역할을 하는 서버는 시간당 한 번씩 변경 사항을 폴링해야 합니다. 높은 요청 비율과 관련하여 예상되는 클라이언트 및 서버 동작에 대해서는 섹션 8을 참조하세요.\(SHOULD, SHOULD\)

---
#### **4.1.5.  Expanded Time Zone Data**

일광 절약 시간제에 대한 규칙이 복잡할 수 있으므로 특정 시점의 시간대 오프셋을 결정하는 것은 복잡한 프로세스인 경우가 많습니다. 이를 돕기 위해 시간대 데이터 배포 서비스는 클라이언트가 고정된 기간 동안 시간대를 "준수" 집합으로 확장하도록 서버에 요청할 수 있는 작업을 제공합니다\(섹션 5.4 참조\). 이러한 각 준수 사항은 이전 시간과 준수 시간에 대한 UTC 시작 시간과 UTC 오프셋을 설명합니다. 이는 함께 전체 시간대 확장을 수행하지 않고도 "씬" 클라이언트가 임의 날짜에 대한 적절한 UTC 오프셋을 결정할 수 있는 빠른 방법을 제공합니다.

---
#### **4.1.6.  Server Requirements**

간단한 클라이언트 구현을 활성화하려면 서버는 다양한 게시자로부터 일반적으로 사용되는 모든 시간대에 대한 데이터를 제공하거나 캐시해야 합니다. 이를 통해 클라이언트 구현에서는 모든 시간대 데이터를 가져오도록 단일 서버를 구성할 수 있습니다. 결과적으로 모든 서버는 다른 서버의 데이터를 새로 고칠 수 있습니다. 단, 루트 서버는 가장 최신 데이터 복사본을 제공할 수 있습니다.\(SHOULD\)

---
#### **4.1.7.  Error Responses**

HTTP 오류 응답이 클라이언트에 반환되면 서버는 \[RFC7807\]에 따라 응답 본문에 JSON "문제 세부 정보" 개체를 반환해야 합니다. 모든 JSON "문제 세부 정보" 개체에는 적용 가능한 오류 코드\(섹션 5의 각 작업에 대해 정의됨\)와 일치하는 URI 값이 있는 "유형" 멤버가 포함되어야 합니다.\(SHOULD, MUST\)

---
#### **4.1.8.  Extensions**

이 프로토콜은 표준 기반 등록 메커니즘을 통해 확장 가능하도록 설계되었습니다\(섹션 10 참조\). 다른 유용한 시간대 작업이 향후 추가될 것으로 예상되므로\(예: 지리적 위치를 시간대 식별자에 매핑, 시간대에 대한 변경 기록 가져오기\) 서버는 해당 기능에 대한 설명을 반환해야 합니다. 이를 통해 클라이언트는 새 기능이 설치되었는지 확인하고, 설치되지 않은 경우 이전 기능으로 대체하거나 일부 클라이언트 기능을 비활성화할 수 있습니다.\(MUST\)

---
### **4.2.  Client Guidelines**
---
#### **4.2.1.  Discovery**

클라이언트 구현은 시간대 데이터 배포 서비스가 있는 위치를 알거나 일부 메커니즘을 통해 이를 검색해야 합니다. 타임존 데이터 분산 서비스를 이용하기 위해서는 클라이언트가

FQDN\(정규화된 도메인 이름\), 포트 및 HTTP 요청-URI 경로가 필요합니다. 검색을 통해 찾은 요청-URI 경로는 서비스 자체에 대한 "컨텍스트 경로"입니다. "컨텍스트 경로"는 작업을 실행할 때 "service-prefix" URI 템플릿 변수의 값으로 사용됩니다\(섹션 5 참조\).

다음 하위 섹션에서는 DNS SRV 레코드\[RFC2782\]와 HTTP "잘 알려진"\[RFC5785\] 리소스를 사용하여 서비스를 검색하는 두 가지 방법을 설명합니다. 그러나 대체 메커니즘을 사용할 수도 있습니다\(예: DHCP 서버 옵션 \[RFC2131\]\).

---
##### **4.2.1.1.  SRV Service Labels for the Time Zone Data Distribution Service**

\[RFC2782\]는 SRV RR 레코드를 사용하여 LAN 내외에서 특정 서비스를 찾는 수단으로 널리 채택된 DNS 기반 서비스 검색 프로토콜을 정의합니다. 이는 서비스의 FQDN 및 포트를 검색하는 데 사용할 수 있습니다.

이 사양은 SRV 레코드에 사용할 두 가지 서비스 유형을 추가합니다.

timezone: 전송 계층 보안\(\[RFC2818\]\) 없이 HTTP를 사용하는 시간대 데이터 배포 서버를 식별합니다.

timezones: 전송 계층 보안\(\[RFC2818\]\)과 함께 HTTP를 사용하는 시간대 데이터 배포 서버를 식별합니다.

클라이언트는 \[RFC2782\]에 설명된 대로 SRV 레코드의 "TTL", "우선 순위" 및 "가중치" 값을 존중해야 합니다.\(MUST\)

예: 전송 계층 보안이 없는 서버에 대한 서비스 레코드.

```text
   _timezone._tcp SRV 0 1 80 tz.example.com.
```

예: 전송 계층 보안이 있는 서버의 서비스 레코드.

```text
   _timezones._tcp SRV 0 1 443 tz.example.com.
```

---
##### **4.2.1.2.  TXT Records for a Time Zone Data Distribution Service**

SRV RR을 사용하여 시간대 데이터 배포 서비스를 광고하는 경우 동시에 검색할 DNS에 "컨텍스트 경로"를 지정할 수 있는 것도 편리합니다. 이를 활성화하기 위해 이 사양은 \[RFC6763\]의 섹션 6에 정의된 구문을 따르는 TXT RR을 사용하고 해당 레코드에 사용할 "경로" 키를 정의합니다. 키 값은 서버의 해당 서비스에 대한 실제 "컨텍스트 경로"여야 합니다.\(MUST\)

사이트에서는 각 서비스에 대한 SRV 레코드 외에 TXT 레코드도 제공할 수 있습니다. 존재하는 경우 클라이언트는 HTTP 요청에서 서비스에 대한 "컨텍스트 경로"로 "경로" 값을 사용해야 합니다. 존재하지 않는 경우 클라이언트는 섹션 4.2.1.3에 설명된 ".well-known" URI 접근 방식을 사용합니다.\(MUST\)

섹션 8에 따라 클라이언트가 TXT RR에 지정된 경로 URI에 액세스하려고 할 때 서버는 인증을 요구할 수 있습니다. 즉, 서버는 클라이언트의 인증되지 않은 요청에 대해 401 상태 응답을 반환한 다음, 클라이언트의 성공적인 인증\).\(MAY\)

예: 전송 계층 보안이 포함된 서비스에 대한 텍스트 기록.

```text
   _timezones._tcp TXT path=/timezones
```

---
##### **4.2.1.3.  Well-Known URI for a Time Zone Data Distribution Service**

"잘 알려진" URI \[RFC5785\]는 시간대 데이터 배포 서비스인 "timezone"에 대한 이 사양에 의해 등록됩니다\(섹션 10 참조\). 이 URI는 클라이언트가 연결하려는 서비스에 대한 초기 "컨텍스트 경로"로 사용할 수 있는 리소스를 가리킵니다. 서버는 HTTP에서 제공하는 사용 가능한 메커니즘 중 하나를 사용하여\(예: 적절한 3xx 상태 응답 사용\) 해당 리소스에 대한 HTTP 요청을 실제 "컨텍스트 경로"로 리디렉션해야 합니다. 클라이언트는 섹션 8에 설명된 리디렉션에 대한 보안 제한을 고려하여 ".well-known" URI에서 HTTP 리디렉션을 처리해야 합니다. 서버는 다음과 같이 ".well-known" URI에서 실제 시간대 데이터 배포 서비스 엔드포인트를 찾아서는 안 됩니다. \[RFC5785\]의 섹션 1.1. "컨텍스트 경로"를 지정하기 위해 DNS에서 TXT RR\(섹션 4.2.1.2\)을 사용하는 경우에도 "잘 알려진" URI가 서버에 있어야 합니다.\(MUST, MUST, MUST NOT, MUST\)

서버는 필요에 따라 또는 생성된 응답 유형에 따라 캐싱이 발생하도록 리디렉션 응답에 적절한 Cache-Control 헤더 필드 값\(\[RFC7234\]의 섹션 5.2에 따라\)을 설정해야 합니다. 예를 들어 리디렉션 위치가 시간이 지남에 따라 변경될 것으로 예상되는 경우 적절한 "max-age" 값이 사용됩니다.\(SHOULD\)

섹션 8에 따라 클라이언트가 ".well-known" URI에 액세스하려고 할 때 서버는 인증을 요구할 수 있습니다. 즉, 서버는 클라이언트의 인증되지 않은 요청에 대해 401 상태 응답을 반환한 다음, 클라이언트의 성공적인 인증\).\(MAY\)

---
###### **4.2.1.3.1.  Example: Well-Known URI Redirects to Actual Context Path**

시간대 데이터 배포 서버에는 "/servlet/timezone"이라는 "컨텍스트 경로"가 있습니다. 클라이언트는 SRV 조회 또는 사용자의 수동 정보 입력을 통해 FQDN 및 포트 번호를 처음 찾은 후 "/.well-known/timezone"을 서비스 경로로 사용합니다. 클라이언트가 "/.well-known/timezone"에 대해 초기 HTTP 요청을 하면 서버는 "/servlet/timezone" 경로를 사용하여 위치 응답 헤더 필드가 포함된 HTTP 301 리디렉션 응답을 발행합니다. 그런 다음 클라이언트는 새 리소스로의 이 리디렉션을 "따라" 그곳에서 계속해서 HTTP 요청을 만듭니다. 클라이언트는 또한 후속 요청에 사용하기 위해 Cache-Control 지시어에 따라 리디렉션 정보를 캐시합니다.

---
#### **4.2.2.  Synchronization of Time Zones**

이 섹션에서는 해당 목적을 위해 서버에서 제공하는 다양한 프로토콜 요소를 사용하여 가능한 클라이언트 동기화 전략에 대해 설명합니다.

---
##### **4.2.2.1.  Initial Synchronization of All Time Zones**

모든 시간대 데이터를 캐시하려는 보조 서비스 또는 클라이언트가 처음 시작되거나 전체 새로 고침을 수행하려는 경우 모든 시간대 메타데이터를 검색하는 "목록" 작업을 실행하여 다른 서버와 동기화합니다. 클라이언트는 후속 사용을 위해 반환된 불투명 토큰을 보존합니다\(섹션 5.2.1의 "synctoken" 참조\). 클라이언트는 응답으로 반환된 각 시간대에 대한 메타데이터를 저장합니다. 그런 다음 각 해당 시간대에 대한 시간대 데이터를 가져와 로컬에 저장할 수 있습니다. 또한 메타데이터를 통해 별칭과 시간대의 매핑을 구축할 수 있습니다. 이 사양이 게시된 시점을 기준으로 IANA 시간대 데이터베이스 \[RFC6557\]를 사용하는 서비스의 경우 일반적인 "목록" 작업 응답 크기는 약 50-100KB의 "예쁘게 인쇄된" JSON 데이터입니다.

---
##### **4.2.2.2.  Subsequent Synchronization of All Time Zones**

모든 시간대를 캐싱하는 보조 서비스나 클라이언트는 주기적으로 서버와 동기화해야 합니다. 이를 위해 마지막 동기화에서 반환된 불투명 토큰의 값으로 설정된 "changedsince" URI 쿼리 매개변수를 사용하여 "list" 작업을 실행합니다. 클라이언트는 이후 사용을 위해 반환된 불투명 토큰을 다시 보존합니다. 클라이언트는 응답에 반환된 새 값을 사용하여 저장된 시간대 메타데이터를 업데이트합니다. 여기에는 마지막 동기화 이후 변경된 시간대에 대한 시간대 메타데이터만 포함됩니다. 또한 각 시간대 메타데이터의 "etag" 값을 이전에 캐시한 해당 시간대 데이터 리소스의 ETag 헤더 필드 값과 비교합니다. 서로 다르면 가져옵니다.

새로운 시간대 데이터. 클라이언트가 서버에서 지원하지 않는 "changedsince" 값을 서버에 제공하는 경우 요청에 "changedsince" 값이 포함되지 않은 경우와 마찬가지로 모든 시간대 데이터가 반환됩니다.

게시자는 시간대 이름을 "완전히" 삭제하면 단순 클라이언트에 문제가 발생할 수 있다는 사실을 고려해야 합니다. 따라서 삭제된 시간대 식별자를 적절한 대체 식별자로 별칭을 지정하는 것이 좋습니다.

---
##### **4.2.2.3.  Synchronization with Preexisting Time Zone Data**

클라이언트는 사용하도록 구성된 시간대 데이터 배포 서비스가 아닌 소스의 시간대 데이터로 사전 프로비저닝될 수 있습니다. 이러한 경우 클라이언트는 초기 "목록" 작업을 수행하여 모든 시간대 메타데이터를 검색한 다음 일치하지 않는 시간대에 대한 시간대 데이터만 가져옴으로써 동기화하는 시간대 데이터의 양을 최소화하려고 할 수 있습니다. 사전 프로비저닝된 데이터의 게시자 및 버전 세부정보입니다.

---
## **5.  Actions**

서버는 다음 작업을 지원해야 합니다. 아래 정보는 각 작업에 대한 세부 정보를 보여줍니다. 클라이언트가 대상으로 하는 요청-URI\(URI 템플릿 \[RFC6570\] 형식\), 설명, 허용되는 쿼리 매개변수 집합, 응답 특성 및 가능한 집합 응답에 대한 오류 코드\(섹션 4.1.7 참조\)\(MUST\)

아래에 정의된 특정 오류 코드에 포함되지 않은 오류의 경우 "urn:ietf:params:tzdist:error:invalid-action" 오류 코드가 JSON "문제 세부 정보" 개체로 클라이언트에 반환됩니다.

다음 하위 섹션의 예에서는 시간대 컨텍스트 경로가 "/servlet/timezone"\(섹션 4.2.1.3.1의 예에서와 같이\)으로 발견되었다고 가정합니다.

---
### **5.1.  "capabilities" Action**

```text
   Name:  capabilities

   Request-URI Template:
      {/service-prefix}/capabilities
```

설명: 이 작업은 서버의 기능을 반환하여 클라이언트가 특정 기능이 배포 및/또는 활성화되었는지 확인할 수 있도록 합니다.

```text
   Parameters:  None
```

응답: "version" 멤버, "info" 멤버, "actions" 멤버를 포함하는 JSON 개체입니다. 섹션 6.1을 참조하세요.

```text
   Possible Error Codes:  No specific code.
```

---
#### **5.1.1.  Example: get capabilities**

```text
   >> Request <<

   GET /servlet/timezone/capabilities HTTP/1.1
   Host: tz.example.com

   >> Response <<

   HTTP/1.1 200 OK
   Date: Wed, 4 Jun 2008 09:32:12 GMT
   Content-Type: application/json; charset="utf-8"
   Content-Length: xxxx

   {
     "version": 1,

     "info": {
       "primary-source": "Olson:2011m",
       "formats": [
         "text/calendar",
         "application/calendar+xml",
         "application/calendar+json"
       ],
       "truncated" : {
         "any": false,
         "ranges": [
           {
             "start": "1970-01-01T00:00:00Z",
             "end": "*"
           },
           {
             "start":"2010-01-01T00:00:00Z",
             "end":"2020-01-01T00:00:00Z"
           }
         ],
         "untruncated": true
       },
       "provider-details": "http://tz.example.com/about.html",
       "contacts": ["mailto:tzs@example.org"]
     },

     "actions": [
       {
         "name": "capabilities",
         "uri-template": "/servlet/timezone/capabilities",
         "parameters": []
       },

       {
         "name": "list",
         "uri-template": "/servlet/timezone/zones{?changedsince}",
         "parameters": [
           {
             "name": "changedsince",
             "required": false,
             "multi": false
           }
         ]
       },

       {
         "name": "get",
         "uri-template": "/servlet/timezone/zones{/tzid}{?start,end}",
         "parameters": [
           {
             "name": "start",
             "required": false,
             "multi": false
           },
           {
             "name": "end",
             "required": false,
             "multi": false
           }
         ]
       },

       {
         "name": "expand",
         "uri-template":
           "/servlet/timezone/zones{/tzid}/observances{?start,end}",
         "parameters": [
           {
             "name": "start",
             "required": true,
             "multi": false
           },
           {
             "name": "end",

             "required": true,
             "multi": false
           }
         ]
       },

       {
         "name": "find",
         "uri-template": "/servlet/timezone/zones{?pattern}",
         "parameters": [
           {
             "name": "pattern",
             "required": true,
             "multi": false
           }
         ]
       },

       {
         "name": "leapseconds",
         "uri-template": "/servlet/timezone/leapseconds",
         "parameters": []
       }
     ]
   }
```

---
### **5.2.  "list" Action**

```text
   Name:  list

   Request-URI Template:
      {/service-prefix,data-prefix}/zones{?changedsince}
```

설명: 이 작업을 수행하면 게시자, 버전, 별칭 및 선택적 현지화된 데이터와 함께 모든 시간대 식별자가 요약 형식으로 나열됩니다. 또한 전체 응답에 대해 불투명한 동기화 토큰을 반환합니다. "changedsince" URI 쿼리 매개변수가 있는 경우 해당 값은 이전에 반환된 동기화 토큰 값과 일치해야 합니다. "changedsince"가 사용되면 서버는 지정된 동기화 토큰 이후 변경된 시간대만 반환해야 합니다. "changedsince" 값이 서버에서 지원되지 않는 경우 서버는 요청을 "changedsince"가 없는 것처럼 처리하여 모든 시간대를 반환해야 합니다.\(MUST, MUST, MUST\)

```text
   Parameters:
```

이후 변경됨

- 선택 사항이며 두 번 이상 발생하면 안 됩니다.\(MUST NOT\)

응답: "synctoken" 멤버와 "timezones" 멤버를 포함하는 JSON 개체입니다. 섹션 6.2를 참조하세요.

```text
   Possible Error Codes:

      urn:ietf:params:tzdist:error:invalid-changedsince
```

- "changedsince" URI 쿼리 매개변수가 두 번 이상 나타납니다.

---
#### **5.2.1.  Example: List Time Zone Identifiers**

이 예에서 클라이언트는 전체 시간대 식별자 세트를 요청합니다.

```text
   >> Request <<

   GET /servlet/timezone/zones HTTP/1.1
   Host: tz.example.com

   >> Response <<

   HTTP/1.1 200 OK
   Date: Wed, 4 Jun 2008 09:32:12 GMT
   Content-Type: application/json; charset="utf-8"
   Content-Length: xxxx

   {
     "synctoken": "2009-10-11T09:32:11Z",
     "timezones": [
       {
         "tzid": "America/New_York",
         "etag": "123456789-000-111",
         "last-modified": "2009-09-17T01:39:34Z",
         "publisher": "Example.com",
         "version": "2015a",
         "aliases":["US/Eastern"],
         "local-names": [
           {
             "name": "America/New_York",
             "lang": "en_US"
           }
         ]
       },
       ...other time zones...
     ]
   }
```

---
### **5.3.  "get" Action**

```text
   Name:  get

   Request-URI Template:
      {/service-prefix,data-prefix}/zones{/tzid}{?start,end}
```

- 이 동작을 "list" 동작과 구별하기 위해 "tzid" 변수 값이 필수입니다.\(MUST\)

설명: 이 작업은 시간대를 반환합니다. 응답에는 시간대 리소스의 강력한 엔터티 태그의 현재 값을 나타내는 ETag 응답 헤더 필드가 포함되어야 합니다.\(MUST\)

- Accept HTTP 요청 헤더 필드가 없는 경우 서버는 "text/calendar" 미디어 유형을 사용하여 시간대 데이터를 반환해야 합니다.\(MUST\)

- "tzid" 변수 값이 실제로 시간대 별칭인 경우 서버는 별칭을 시간대 데이터의 식별자로 사용하여 일치하는 시간대 데이터를 반환합니다. 서버는 별칭으로 일치하는 시간대 식별자를 갖는 추가 식별자를 나타내기 위해 시간대 데이터에 하나 이상의 "TZID-ALIAS-OF" 속성\(섹션 7.2 참조\)을 포함할 수 있습니다.\(MAY\)

```text
   Parameters:
```

시작=<날짜-시간\>

- 선택 사항이며 두 번 이상 발생하면 안 됩니다. 반환된 시간대 데이터가 시작 시 잘리는 포함 UTC 날짜-시간 값을 지정합니다.\(MUST NOT\)

end=<날짜-시간\>

- 선택 사항이며 두 번 이상 발생하면 안 됩니다. 반환된 시간대 데이터의 끝 부분이 잘리는 단독 UTC 날짜-시간 값을 지정합니다.\(MUST NOT\)

응답: 요청된 모든 시간대 데이터가 지정된 형식으로 포함된 문서입니다.

```text
   Possible Error Codes:
```

항아리:ietf:params:tzdist:오류:tzid-not-found

- 지정된 "tzid" 경로 세그먼트 값과 연관된 시간대를 찾을 수 없습니다.

항아리:ietf:params:tzdist:오류:잘못된 형식

- 클라이언트가 제공한 Accept 요청 헤더 필드에 서버가 지원하는 시간대 데이터에 대한 미디어 유형이 포함되어 있지 않습니다.

항아리:ietf:params:tzdist:오류:잘못된 시작

- "시작" URI 쿼리 매개변수에 잘못된 값이 있거나, 두 번 이상 나타나거나, "기능" 작업 응답에 알려진 고정 잘림 범위 시작 값 중 하나와 일치하지 않습니다.

항아리:ietf:params:tzdist:오류:잘못된 끝

- "끝" URI 쿼리 매개변수에 잘못된 값이 있거나, 두 번 이상 나타나거나, "시작" URI 쿼리 매개변수보다 작거나 같은 값이 있거나, 에 광고된 고정 잘림 범위 끝 값 중 하나와 일치하지 않습니다. "능력" 작업 응답.

---
#### **5.3.1.  Example: Get Time Zone Data**

이 예에서 클라이언트는 특정 시간대 식별자가 있는 시간대가 반환되도록 요청합니다.

```text
   >> Request <<

   GET /servlet/timezone/zones/America%2FNew_York HTTP/1.1
   Host: tz.example.com
   Accept:text/calendar

   >> Response <<

   HTTP/1.1 200 OK
   Date: Wed, 4 Jun 2008 09:32:12 GMT
   Content-Type: text/calendar; charset="utf-8"
   Content-Length: xxxx
   ETag: "123456789-000-111"

   BEGIN:VCALENDAR
   ...
   BEGIN:VTIMEZONE
   TZID:America/New_York
   ...
   END:VTIMEZONE
   END:VCALENDAR
```

---
#### **5.3.2.  Example: Conditional Get Time Zone Data**

이 예에서 클라이언트는 특정 시간대 식별자가 있는 시간대가 반환되도록 요청하지만 요청에 If-None-Match 헤더 필드를 사용하고 이전에 반환된 ETag 헤더 필드의 값으로 설정됩니다. "목록" 작업 응답에서 반환된 JSON "시간대" 개체의 "etag" 멤버입니다. 이 예에서는 서버의 데이터가 변경되지 않았으므로 304 응답이 반환됩니다.

```text
   >> Request <<

   GET /servlet/timezone/zones/America%2FNew_York HTTP/1.1
   Host: tz.example.com
   Accept:text/calendar
   If-None-Match: "123456789-000-111"

   >> Response <<

   HTTP/1.1 304 Not Modified
   Date: Wed, 4 Jun 2008 09:32:12 GMT
```

---
#### **5.3.3.  Example: Get Time Zone Data Using a Time Zone Alias**

이 예에서 클라이언트는 별칭이 지정된 시간대 식별자가 있는 시간대가 반환되도록 요청하고 서버는 해당 식별자와 두 개의 별칭이 있는 시간대 데이터를 반환합니다.

```text
   >> Request <<

   GET /servlet/timezone/zones/US%2FEastern HTTP/1.1
   Host: tz.example.com
   Accept:text/calendar

   >> Response <<

   HTTP/1.1 200 OK
   Date: Wed, 4 Jun 2008 09:32:12 GMT
   Content-Type: text/calendar; charset="utf-8"
   Content-Length: xxxx
   ETag: "123456789-000-111"

   BEGIN:VCALENDAR
   ...
   BEGIN:VTIMEZONE
   TZID:US/Eastern
   TZID-ALIAS-OF:America/New_York
   TZID-ALIAS-OF:America/Montreal

   ...
   END:VTIMEZONE
   END:VCALENDAR
```

---
#### **5.3.4.  Example: Get Truncated Time Zone Data**

서버가 다음과 같이 나타나는 "기능" 응답에서 "잘린" 개체를 광고한다고 가정합니다.

```text
   "truncated": {
     "any": false,
     "ranges": [
       {"start": "1970-01-01T00:00:00Z", "end": "*"},
       {"start":"2010-01-01T00:00:00Z", "end":"2020-01-01T00:00:00Z"}
     ],
     "untruncated": false
   }
```

이 예에서 클라이언트는 서버가 지정한 범위 중 하나에서 잘린 특정 시간대 식별자가 있는 시간대가 반환되도록 요청합니다. 잘림 범위의 시작 지점과 일치하는 "STANDARD" 구성 요소가 있는지 확인하세요\(일치하는 UTC 시간에 적용되는 UTC 오프셋에 대한 현지 시간으로 변환됨\). 또한 "VTIMEZONE" 구성 요소에 시간대 데이터 유효 기간의 상한을 나타내는 "TZUNTIL"\(섹션 7.1\) iCalendar 속성이 있는지 확인하세요.

```text
   >> Request <<

   GET /servlet/timezone/zones/America%2FNew_York
     ?start=2010-01-01T00:00:00Z&end=2020-01-01T00:00:00Z HTTP/1.1
   Host: tz.example.com
   Accept:text/calendar

   >> Response <<

   HTTP/1.1 200 OK
   Date: Wed, 4 Jun 2008 09:32:12 GMT
   Content-Type: text/calendar; charset="utf-8"
   Content-Length: xxxx
   ETag: "123456789-000-111"

   BEGIN:VCALENDAR
   ...
   BEGIN:VTIMEZONE
   TZID:America/New_York
   TZUNTIL:20200101T000000Z

   BEGIN:STANDARD
   DTSTART:20101231T190000
   TZNAME:EST
   TZOFFSETFROM:-0500
   TZOFFSETTO:-0500
   END:STANDARD
   ...
   END:VTIMEZONE
   END:VCALENDAR
```

---
#### **5.3.5.  Example: Request for a Nonexistent Time Zone**

이 예에서 클라이언트는 특정 시간대 식별자가 있는 시간대가 반환되도록 요청합니다. 결과적으로 해당 식별자에는 시간대가 존재하지 않습니다.

```text
   >> Request <<

   GET /servlet/timezone/zones/America%2FPittsburgh HTTP/1.1
   Host: tz.example.com
   Accept:application/calendar+json

   >> Response <<

   HTTP/1.1 404 Not Found
   Date: Wed, 4 Jun 2008 09:32:12 GMT
   Content-Type: application/problem+json; charset="utf-8"
   Content-Language: en
   Content-Length: xxxx

   {
     "type": "urn:ietf:params:tzdist:error:tzid-not-found",
     "title": "Time zone identifier was not found on this server",
     "status": 404
   }
```

---
### **5.4.  "expand" Action**

```text
   Name:  expand

   Request-URI Template:
      {/service-prefix,data-prefix}/zones{/tzid}/observances{?start,end}
```

- "tzid" 변수 값은 필수입니다.\(MUST\)

설명: 이 작업은 지정된 시간대를 시작 시작 날짜/시간 값\(UTC\) 및 UTC 오프셋 목록으로 확장합니다. 응답에는 확장되는 시간대의 강력한 엔터티 태그의 현재 값을 나타내는 ETag 응답 헤더 필드가 포함되어야 합니다.\(MUST\)

```text
   Parameters:
```

- start=<date-time\>: 필수이며 한 번만 발생해야 합니다. 관심 기간의 시작에 대한 포함 UTC 날짜-시간 값을 지정합니다.\(MUST\)

- end=<date-time\>: 필수이며 한 번만 발생해야 합니다. 관심 기간 종료에 대한 배타적 UTC 날짜-시간 값을 지정합니다. 이는 배타적 최종 값입니다. 즉, 관심 범위 바로 뒤의 날짜를 나타냅니다. 클라이언트가 2014년에 대한 확장 날짜만 원하는 경우 시작 값 "2014-01-01T00:00:00Z"와 끝 값 "2015-01-01T00:00:00Z"를 사용합니다. 종료 값이 시작 값보다 작거나 같으면 오류가 발생합니다.\(MUST\)

응답: "tzid" 멤버와

- "준수" 회원; 섹션 6.3을 참조하세요. 확장 중인 시간대가 요청된 시간 범위에 걸쳐 완전히 정의되지 않은 경우\(예: 잘림으로 인해\) 서버는 실제 시작 및 종료 지점을 나타내기 위해 JSON 응답에 "start" 및/또는 "end" 멤버를 포함해야 합니다. 반환되는 준수 사항에 대해. 서버는 반환된 준수 기간이 시작될 때 유효한 시간대 정보를 나타내는 확장된 준수를 포함해야 합니다.\(MUST, MUST\)

```text
   Possible Error Codes
```

항아리:ietf:params:tzdist:오류:tzid-not-found

- 지정된 "tzid" 경로 세그먼트 값과 연관된 시간대를 찾을 수 없습니다.

항아리:ietf:params:tzdist:오류:잘못된 시작

- "시작" URI 쿼리 매개변수에 잘못된 값이 있거나, 두 번 이상 나타나거나, 누락되었거나, "기능" 작업 응답에 알려진 고정 잘림 범위를 벗어난 값이 있습니다.

항아리:ietf:params:tzdist:오류:잘못된 끝

- "종료" URI 쿼리 매개변수의 값이 잘못되었거나, 두 번 이상 나타나거나, 다음 값보다 작거나 같습니다.

- "시작" URI 쿼리 매개변수이거나 "기능" 작업 응답에 알려진 고정 잘림 범위를 벗어나는 값을 갖습니다.

---
#### **5.4.1.  Example: Expanded JSON Data Format**

이 예에서 클라이언트는 확장된 형식으로 시간대를 요청합니다.

```text
   >> Request <<

   GET /servlet/timezone/zones/America%2FNew_York/observances
    ?start=2008-01-01T00:00:00Z&end=2009-01-01T00:00:00Z HTTP/1.1
   Host: tz.example.com

   >> Response <<

   HTTP/1.1 200 OK
   Date: Mon, 11 Oct 2009 09:32:12 GMT
   Content-Type: application/json; charset="utf-8"
   Content-Length: xxxx
   ETag: "123456789-000-111"

   {
     "tzid": "America/New_York",
     "observances": [
       {
         "name": "Standard",
         "onset": "2008-01-01T00:00:00Z",
         "utc-offset-from": -18000,
         "utc-offset-to": -18000
       },
       {
         "name": "Daylight",
         "onset": "2008-03-09T07:00:00Z",
         "utc-offset-from": -18000,
         "utc-offset-to": -14400
       },
       {
         "name": "Standard",
         "onset": "2008-11-02T06:00:00Z",
         "utc-offset-from": -14400,
         "utc-offset-to": -18000
       },
     ]
   }
```

---
### **5.5.  "find" Action**

```text
   Name:  find

   Request-URI Template:
      {/service-prefix,data-prefix}/zones{?pattern}
```

설명: 이 작업을 통해 클라이언트는 서버에 알려진 이름에 대해 간단한 "glob" 스타일 패턴 일치를 사용하여 일치하는 식별자, 별칭 또는 지역화된 이름에 대해 시간대 데이터 배포 서비스를 쿼리할 수 있습니다\(별표\(\*\) 사용\). 와일드카드 문자\). 패턴 일치 문자열\(URI 쿼리 매개변수에 사용될 때 백분율로 인코딩된 다음 디코딩되어야 함\)에는 다음과 같은 옵션이 있습니다.

```text
      * not present:  An exact text match is done, e.g., "xyz"

      * first character only:  An ends-with text match is done, e.g.,
         "*xyz"

      * last character only:  A starts-with text match is done, e.g.,
         "xyz*"

      * first and last characters only:  A substring text match is done,
         e.g., "*xyz*"
```

- \ 및 \* 이스케이프 처리: 시간대 식별자에서 0x2A\("\*"\) 및 0x5C\("\"\) 문자를 일치시키려면 단일 0x5C\("\"\) 문자를 앞에 추가하여 패턴에서 해당 문자를 "이스케이프"해야 합니다. . 예를 들어 "\*Test\\Time\*Zone\*" 패턴은 표준 시간대 식별자 "\*Test\Time\*Zone\*"과 정확하게 일치하는 데 사용됩니다. 이스케이프되지 않은 "\*" 문자는 문자열 중간에 나타나서는 안 되며 오류가 발생해야 합니다\(MUST\). 이스케이프되지 않은 "\" 문자는 문자열의 어느 곳에도 나타나서는 안 되며 오류가 발생해야 합니다\(MUST\).\(MUST NOT, MUST NOT\)

- 추가로 매칭 시:

밑줄: 시간대의 밑줄 문자\(0x5F\)

- 일치하는 패턴 및 시간대 식별자 모두에서 문자열을 비교하기 전에 식별자를 단일 공백 ​​문자\(0x20\)에 매핑해야 합니다. 이를 통해 "America/New\_York"와 같은 시간대 식별자가 "\*뉴욕\*"에 대한 쿼리와 일치할 수 있습니다.\(MUST\)

- 대소문자 매핑: 0x41\("A"\)부터 0x5A\("Z"\) 범위의 ASCII 문자는 일치하는 패턴 및 시간대 식별자 모두에서 상응하는 소문자로 매핑되어야 합니다.\(MUST\)

```text
   Parameters:
```

패턴=<텍스트\>

- 필수이며 한 번만 발생해야 합니다.\(MUST\)

응답: 응답은 "목록" 작업과 동일한 형식을 가지며, 성공적인 일치 항목당 하나의 결과 개체가 포함됩니다. 섹션 6.2를 참조하세요.

```text
   Possible Error Codes
```

항아리:ietf:params:tzdist:오류:잘못된 패턴

- "패턴" URI 쿼리 매개변수에 잘못된 값이 있거나 두 번 이상 나타납니다.

---
#### **5.5.1.  Example: find action**

이 예에서 클라이언트는 "US/Eastern" 시간대에 대한 데이터를 요청합니다.

```text
   >> Request <<

   GET /servlet/timezone/zones?pattern=US/Eastern HTTP/1.1
   Host: tz.example.com

   >> Response <<

   HTTP/1.1 200 OK
   Date: Wed, 4 Jun 2008 09:32:12 GMT
   Content-Type: application/json; charset="utf-8"
   Content-Length: xxxx

   {
     "synctoken": "2009-10-11T09:32:11Z",
     "timezones": [
       {
         "tzid": "America/New_York",
         "etag": "123456789-000-111",
         "last-modified": "2009-09-17T01:39:34Z",
         "publisher": "Example.com",
         "version": "2015a",
         "aliases":["US/Eastern"],
         "local-names": [
           {
             "name": "America/New_York",
             "lang": "en_US"
           }
         ]
       },

       {
         "tzid": "America/Detroit",
         "etag": "123456789-999-222",
         "last-modified": "2009-09-17T01:39:34Z",
         "publisher": "Example.com",
         "version": "2015a",
         "aliases":["US/Eastern"],
         "local-names": [
           {
             "name": "America/Detroit",
             "lang": "en_US"
           }
         ]
       },
       ...
     ]
   }
```

---
### **5.6.  "leapseconds" Action**

```text
   Name:  leapseconds

   Request-URI Template:
      {/service-prefix,data-prefix}/leapseconds
```

설명: 이 작업을 통해 클라이언트는 시간대 데이터 배포 서비스를 쿼리하여 서버에서 사용 가능한 현재 윤초 정보를 검색할 수 있습니다.

```text
   Parameters:  None
```

응답: "만료" 멤버를 포함하는 JSON 객체

- "게시자" 멤버, "버전" 멤버, "윤초" 멤버 섹션 6.4를 참조하세요. JSON 응답의 "만료" 멤버는 윤초 정보에 포함되는 가장 늦은 날짜를 나타냅니다. 예를 들어\(섹션 5.6.1에서와 같이\) "만료" 값이 "2014-06-28"로 설정되고 표시된 최신 윤초 변경 사항이 "2012-07-01"인 경우 데이터는 다음을 나타냅니다. 두 날짜 사이에 윤초가 추가되거나 제거되지 않으며 "만료" 날짜 이후의 윤초에 대한 정보는 아직 제공되지 않습니다.

- "leapseconds" 멤버에는 각각 "utc-offset" 및 "onset" 멤버가 포함된 JSON 개체 목록이 포함되어 있습니다. "onset" 멤버는 TAI의 해당 UTC 오프셋이 적용되는 날짜\(암시 시간 00:00:00 UTC\)를 지정합니다. 즉, 지정된 시작 날짜의 00:00:00 UTC 직전에 윤초가 추가되거나 제거됩니다. 윤초가 있을 때

- 추가되면 "utc-offset" 값이 1씩 증가합니다. 윤초가 제거되면 "utc-offset" 값이 1씩 감소합니다.

```text
   Possible Error Codes  No specific code.
```

---
#### **5.6.1.  Example: Get Leap-Second Information**

이 예에서 클라이언트는 서버에 현재 윤초 정보를 요청합니다.

```text
   >> Request <<

   GET /servlet/timezone/leapseconds HTTP/1.1
   Host: tz.example.com

   >> Response <<

   HTTP/1.1 200 OK
   Date: Wed, 4 Jun 2008 09:32:12 GMT
   Content-Type: application/json; charset="utf-8"
   Content-Length: xxxx

   {
     "expires": "2015-12-28",
     "publisher": "Example.com",
     "version": "2015d",
     "leapseconds": [
       {
         "utc-offset": 10,
         "onset": "1972-01-01",
       },
       {
         "utc-offset": 11,
         "onset": "1972-07-01",
       },
       ...
       {
         "utc-offset": 35,
         "onset": "2012-07-01",
       },
       {
         "utc-offset": 36,
         "onset": "2015-07-01",
       }
     ]
   }
```

---
## **6.  JSON Definitions**

\[RFC7159\]는 일련의 기본 요소를 사용하여 JSON 개체의 구조를 정의합니다. 이 사양에서 사용되는 JSON 개체의 구조는 다음 규칙 집합으로 설명됩니다.

OBJECT는 \[RFC7159\]의 섹션 4에 정의된 JSON 개체를 나타냅니다. "OBJECT" 뒤에는 "MEMBER" 규칙 이름이 괄호로 묶인 목록이 옵니다. 멤버 규칙 이름 앞에 "?"가 오는 경우 \(0x3F\) 문자, 해당 멤버는 선택 사항입니다. 그렇지 않으면 모든 구성원이 필요합니다. 두 개 이상의 구성원 규칙 이름이 있는 경우 각각은 "|"로 구분됩니다. \(0x7C\) 문자인 경우 해당 멤버 중 하나만 JSON 개체에 있어야 합니다. JSON 객체 멤버는 순서가 없으므로 규칙에 사용되는 순서는 중요하지 않습니다.\(MUST\)

MEMBER는 \[RFC7159\]의 섹션 4에 정의된 JSON 개체의 멤버를 나타냅니다. "MEMBER" 뒤에는 규칙 이름, 멤버 이름, ":", 값이 차례로 옵니다. 값은 "OBJECT", "ARRAY", "NUMBER", "STRING" 또는 "BOOLEAN" 규칙 중 하나일 수 있습니다.

ARRAY는 \[RFC7159\]의 섹션 5에 정의된 JSON 배열을 나타냅니다. "ARRAY" 뒤에는 배열에 사용된 항목 유형을 나타내는 값\("OBJECT", "ARRAY", "NUMBER", "STRING" 또는 "BOOLEAN" 중 하나\)이 옵니다.

NUMBER는 \[RFC7159\]의 섹션 6에 정의된 JSON 숫자를 나타냅니다.

STRING은 \[RFC7159\]의 섹션 7에 정의된 JSON 문자열을 나타냅니다.

BOOLEAN은 \[RFC7159\]의 섹션 3에 정의된 JSON 값 "true" 또는 "false" 중 하나를 나타냅니다.

; ";"로 시작하는 줄 \(0x3B\) 문자는 주석입니다.

클라이언트는 서버의 응답에서 예상치 못한 JSON 멤버를 무시해야 합니다.\(MUST\)

---
### **6.1.  capabilities Action Response**

다음은 "기능" 작업 요청에 대해 반환된 JSON 문서에 대한 규칙입니다.

```text
   ; root object
   OBJECT (version, info, actions)
```

; 지원되는 프로토콜의 버전 번호 - 1이어야 합니다. MEMBER 버전 "version": NUMBER\(MUST\)

```text
   ; object containing service information
   ; Only one of primary_source or secondary_source MUST be present
   MEMBER info "info" : OBJECT (
     primary_source | secondary_source,
     formats,
     ?truncated,
     ?provider_details,
     ?contacts
   )
```

; "기본" 서버에서 제공하는 시간대 데이터 소스 MEMBER Primary\_source "primary-source" : STRING

; 에서 데이터를 제공하는 시간대 데이터 서버입니다. "보조" 서버 MEMBER 보조\_소스 "보조-소스": STRING

; 시간대 데이터 형식에 대한 하나 이상의 미디어 유형 배열; 서버가 MEMBER 형식 "formats"을 반환할 수 있음: ARRAY STRING

```text
   ; Present if the server is providing truncated time zone data.  The
   ; value is an object providing details of the supported truncation
   ; modes.
   MEMBER truncated "truncated" : OBJECT: (
     any,
     ?ranges,
     ?untruncated
   )
```

; 서버가 언제든지 시간대 데이터를 자를 수 있는지 여부를 나타냅니다. 시작 또는 끝 지점. "true"로 설정하면 시작점이나 끝점이 ; "시작" 및 "종료" URI 쿼리에 사용할 수 있는 유효한 값입니다. "get" 작업 요청의 매개변수입니다. MEMBER 모든 "모든" : BOOLEAN

```text
   ; Indicates which ranges of time the server has truncated data for.
   ; A value from this list may be used with the "start" and "end" URI
   ; query parameters in a "get" action request.  Not present if "any"
   ; is set to "true".
   MEMBER ranges "ranges" : ARRAY OBJECT (range-start, range-end)
```

; 의 포괄적 시작에 대한 UTC 날짜-시간 값\(\[RFC3339\]에 따라\); 범위 또는 값을 나타내는 단일 문자 "\*"; 출판사가 제공한 하한값에 해당합니다. 시간대 데이터 MEMBER range-start "start" : STRING

; 범위의 끝 부분을 제외한 UTC 날짜-시간 값\(\[RFC3339\]에 따라\), ; 또는 에 해당하는 값을 나타내는 단일 문자 "\*"; 시간대 데이터 게시자가 제공한 상한 MEMBER range-end "end" : STRING

; 서버가 잘리지 않은 데이터를 제공할 수 있는지 여부를 나타냅니다. 언제 ; "true"로 설정하면 잘린 데이터 외에도 ; 사용 가능한 경우 서버는 "get"인 경우 잘리지 않은 데이터를 반환할 수 있습니다. 작업 요청은 "시작" 또는 "종료" URI 쿼리 없이 실행됩니다. 매개변수. MEMBER untruncated "untruncated" : BOOLEAN

; 시간대 서비스에 대한 사람이 읽을 수 있는 세부정보가 있는 URI입니다. 사용 가능 MEMBER 공급자\_세부정보 "공급자-세부정보": STRING

; 서버에 대한 연락처 정보를 제공하는 URI 배열. 관리자 MEMBER 연락처 '연락처': ARRAY STRING

```text
   ; Array of actions supported by the server
   MEMBER actions "actions" : ARRAY OBJECT (
     action_name,
     action_params
   )
```

; 작업 이름 MEMBER action\_name: "name" : STRING

```text
   ; Array of request-URI query parameters supported by the action
   MEMBER action_params: "parameters" ARRAY OBJECT (
     param_name,
     ?param_required,
     ?param_multi,
     ?param_values
   )
```

; 매개변수 이름 MEMBER param\_name "name" : STRING

; true인 경우 매개변수가 request-URI에 있어야 합니다. 기본값은 false입니다. MEMBER param\_required "required" : BOOLEAN

; true인 경우 매개변수는 request-URI에서 두 번 이상 나타날 수 있습니다. 기본값은 false입니다. MEMBER param\_multi "multi" : BOOLEAN,

; 매개변수에 대해 허용되는 값 세트를 정의하는 배열입니다. 이 멤버가 없으면 모든 문자열 값이 허용됩니다. MEMBER param\_values ​​"values" ARRAY STRING

---
### **6.2.  list/find Action Response**

다음은 "목록" 또는 "찾기" 작업 요청에 대해 반환된 JSON 문서에 대한 규칙입니다.

```text
   ; root object
   OBJECT (synctoken, timezones)
```

; 변경 사항을 동기화하는 데 사용되는 서버 생성 불투명 토큰 MEMBER synctoken "synctoken": STRING

```text
   ; Array of time zone objects
   MEMBER timezones "timezones" : ARRAY OBJECT (
     tzid,
     etag,
     last_modified,
     publisher,
     version,
     ?aliases,
     ?local_names,
   )

   ; Time zone identifier
   MEMBER tzid "tzid" : STRING
```

; 해당 시간대 데이터 리소스 MEMBER etag "etag"에 대한 현재 ETag: STRING

; 시간대 데이터가 마지막으로 수정된 날짜/시간 ; \[RFC3339\] MEMBER last\_modified "last-modified" : STRING에 지정된 UTC 날짜-시간 값

```text
   ; Time zone data publisher
   MEMBER publisher "publisher" : STRING
```

; 에 정의된 시간대 데이터의 현재 버전입니다. 게시자 MEMBER 버전 'version': STRING

; 사용 가능한 시간대 별칭 집합을 나열하는 배열입니다. 해당 시간대의 경우 MEMBER 별칭 "aliases": ARRAY STRING

```text
   ; An array that lists the set of localized names available
   ; for the corresponding time zone
   MEMBER local_names "local-names" : ARRAY OBJECT (
     lname, lang, ?pref
   )
```

; 연관된 이름의 언어에 대한 언어 태그 MEMBER: lang "lang" : STRING

```text
   ; Localized name
   MEMBER lname "name" : STRING
```

; 연결된 의 기본 이름인지 여부를 나타냅니다. 언어 기본값: false MEMBER pref "pref" : BOOLEAN

---
### **6.3.  expand Action Response**

다음은 "확장" 작업 요청에 대해 반환된 JSON 문서에 대한 규칙입니다.

```text
   ; root object
   OBJECT (
     tzid,
     ?start,
     ?end,
     observances
   )

   ; Time zone identifier
   MEMBER tzid "tzid" : STRING
```

; 반환된 관찰에 대한 실제 포함 시작점입니다. "start" URI 쿼리 매개변수 MEMBER start "start"의 값과 다른 경우: STRING

; 반환된 관찰에 대한 실제 배타적 끝점입니다. "end" URI 쿼리 매개변수 MEMBER end "end"의 값과 다른 경우: STRING

```text
   ; Array of time zone objects
   MEMBER observances "observances" : ARRAY OBJECT (
     oname,
     ?olocal_names,
     onset,
     utc_offset_from,
     utc_offset_to
   )

   ; Observance name
   MEMBER oname "name" : STRING
```

; 현지화된 준수 이름 배열 MEMBER olocal\_names "local-names" : ARRAY STRING

; 준수 사항이 적용되는 UTC 날짜-시간 값\(\[RFC3339\]에 따라\) 효과 MEMBER 시작 "onset": STRING

; 이 준수가 시작되기 전 UTC 오프셋\(초\) MEMBER utc\_offset\_from "utc-offset-from": NUMBER

; 이 준수 시작 시점 및 이후의 UTC 오프셋\(초\) MEMBER utc\_offset\_to "utc-offset-to" : NUMBER

---
### **6.4.  leapseconds Action Response**

다음은 "leapseconds" 작업 요청에 대해 반환된 JSON 문서에 대한 규칙입니다.

```text
   ; root object
   OBJECT (
     expires,
     publisher,
     version,
     leapseconds
   )
```

; 이 응답의 데이터에 포함된 마지막 유효 날짜입니다. \[RFC3339\] MEMBER가 "만료" 만료됨: STRING에 지정된 전체 날짜 값

```text
   ; Leap-second information publisher
   MEMBER publisher "publisher" : STRING
```

; 에 정의된 윤초 정보의 현재 버전입니다. 게시자 MEMBER 버전 'version': STRING

```text
   ; Array of leap-second objects
   MEMBER leapseconds "leapseconds" : ARRAY OBJECT (
     utc_offset,
     onset
   )
```

; ; 지정된 날짜 MEMBER utc\_offset "utc-offset" : NUMBER

; 새 UTC 오프셋이 적용되는 전체 날짜 값\(\[RFC3339\]에 따라\) 효과, T00:00:00Z MEMBER 시작 "onset": STRING

---
## **7.  New iCalendar Properties**
---
### **7.1.  Time Zone Upper Bound**

```text
   Property Name:  TZUNTIL
```

목적: 이 속성은 "VTIMEZONE" 구성 요소 내 데이터의 유효 기간에 대한 상한을 지정합니다.

```text
   Value Type:  DATE-TIME
```

속성 매개변수: IANA 및 비표준 속성 매개변수를 이 속성에 지정할 수 있습니다.

적합성: 이 속성은 "VTIMEZONE" 달력 구성 요소 내에서 0회 또는 1회 지정할 수 있습니다.

설명: 값은 UTC 시간 형식으로 지정되어야 합니다.\(MUST\)

- "VTIMEZONE" 구성요소의 시간대 데이터는 고정된 기간만 다룰 수 있습니다. 이러한 기간의 시작은 "STANDARD" 및 "DAYLIGHT" 하위 구성 요소에 의해 정의된 가장 빠른 준수로 명확하게 표시됩니다. 그러나 타임존 데이터의 유효기간에 대한 상한은 가장 최근의 시작 시간을 준수하는 것만으로는 단순히 도출될 수 없으며, \[RFC5545\]에서는 이러한 상한을 얻는 방법을 정의하지 않는다. 이 사양에서는 해당 목적으로 "TZUNTIL" 속성을 도입합니다. 이는 시간대 데이터가 유효한 것으로 간주되는 마지막 시간을 나타내는 "독점" UTC 날짜-시간 값을 지정합니다.

- 이 속성은 시간대 데이터 배포 서버에서 시간대 데이터의 잘림 범위 끝점을 나타내는 데에도 사용됩니다\(섹션 3.9에 설명됨\).

형식 정의: 이 속성은 ABNF \[RFC5234\]의 다음 표기법으로 정의됩니다.

```text
      tzuntil      = "TZUNTIL" tzuntilparam ":" date-time CRLF

      tzuntilparam = *(";" other-param)
```

예: 천문 관측에 기반한 시간대의 시작 시간이 2025년까지 잘 정의되어 있지만 2026년의 첫 번째 시작은 현재 대략적으로만 알려져 있다고 가정합니다. 이 경우 "TZUNTIL" 속성은 다음과 같이 지정할 수 있습니다.

```text
   TZUNTIL:20260101T000000Z
```

---
### **7.2.  Time Zone Identifier Alias Property**

```text
   Property Name:  TZID-ALIAS-OF
```

목적: 이 속성은 기본 시간대 식별자가 별칭인 시간대 식별자를 지정합니다.

```text
   Value Type:  TEXT
```

속성 매개변수: IANA 및 비표준 속성 매개변수를 이 속성에 지정할 수 있습니다.

적합성: 이 속성은 "VTIMEZONE" 달력 구성 요소 내에서 0번 이상 지정할 수 있습니다.

설명: "VTIMEZONE" 구성 요소가 "TZID" 속성 값에 대해 시간대 식별자 별칭을 사용하는 경우 "TZID-ALIAS-OF" 속성은 다른 시간대의 시간대 식별자를 나타내는 데 사용됩니다\(섹션 3.7 참조\).

형식 정의: 이 속성은 ABNF \[RFC5234\]의 다음 표기법으로 정의됩니다.

```text
      tzid-alias-of    = "TZID-ALIAS-OF" tzidaliasofparam ":"
                              [tzidprefix] text CRLF

      tzidaliasofparam = *(";" other-param)
```

- ;tzidprefix는 \[RFC5545\]에 정의되어 있습니다.

예: 다음은 이 속성의 예입니다.

```text
   TZID-ALIAS-OF:America/New_York
```

---
## **8.  Security Considerations**

시간대 데이터는 장치의 로컬 또는 UTC 시간을 결정하고 작업 일정을 잡는 데 중요합니다. 따라서 신뢰할 수 있는 시간대 데이터 소스를 사용하는 것이 중요합니다. 시간대 데이터 배포 서비스를 제공하는 서버는 TLS\(전송 계층 보안\)\(\[RFC7525\]에 설명된 모범 사례와 함께 \[RFC2818\] 및 \[RFC5246\]에 정의된 대로\) HTTP를 지원해야 합니다. 서버는 TLS 없이 HTTP를 통해 시간대 데이터 배포 서비스를 지원할 수 있습니다. 그러나 보조 서버는 TLS를 사용하여 기본 서버에서 데이터를 가져와야 합니다.\(MUST, MAY, MUST\)

클라이언트는 특별히 다르게 구성되지 않는 한 \[RFC2818\]에 정의된 대로 전송 계층 보안을 사용해야 합니다. TLS 기반 서비스를 사용하도록 구성된 클라이언트는 TLS 기반 서비스를 사용할 수 없는 경우 TLS가 아닌 서비스를 사용하도록 대체해서는 안 됩니다. 또한 클라이언트는 TLS 서비스에서 비 TLS 서비스로의 HTTP 리디렉션 요청을 따라서는 안 됩니다. TLS를 사용할 때 클라이언트는 \[RFC6125\] 또는 DANE \[RFC6698\]에 지정된 인증서 확인 프로세스와 같은 표준 보안 메커니즘을 사용하여 서버의 신원을 확인해야 합니다.\(SHOULD, MUST NOT, MUST NOT, MUST\)

DNS 서버 데이터에 액세스할 수 있거나 재귀 확인자에 캐시된 스푸핑된 답변을 얻을 수 있는 악의적인 공격자는 잠재적으로 클라이언트가 공격자가 선택한 서버에 연결되도록 할 수 있습니다. 보안 DNS 옵션이 없는 경우 클라이언트는 SRV 레코드에 반환된 대상 FQDN이 쿼리된 원래 서비스 도메인과 동일한지 또는 원래 서비스 도메인의 하위 도메인인지 확인해야 합니다. 대부분의 경우 클라이언트 구성은 사용자 입력 없이 자동으로 처리될 가능성이 높습니다. 따라서 원래 서비스 도메인과 대상 FQDN 간의 불일치는 실패로 처리되며 클라이언트는 대상 서버에 연결을 시도해서는 안 됩니다. 또한 전송 계층 보안이 사용되는 경우 전송 계층 보안 인증서는 클라이언트가 서비스 검색에 사용할 것으로 예상되는 DNS SRV 쿼리와 일치하는 \[RFC4985\]에 따라 SRV-ID 필드를 포함해야 합니다. SRV-ID 필드가 인증서에 있는 경우 클라이언트는 SRV-ID 값을 클라이언트가 서비스를 검색하기 위해 수행한 DNS SRV 요청과 일치하는 서비스 유형 및 도메인과 일치해야 합니다.\(SHOULD, MUST NOT, SHOULD, MUST\)

시간대 데이터 서버는 높은 요청 비율이나 대량의 데이터에 대한 빈번한 요청을 제한하여 제대로 구현되지 않거나 악의적인 클라이언트로부터 자신을 보호해야 합니다. 클라이언트는 섹션 4.1.4에 설명된 폴링 기능을 사용하여 제한을 피할 수 있습니다. 서버는 \[RFC7235\]에 따라 어떤 클라이언트가 서비스에 액세스할 수 있는지 제한하거나 문제가 있는 클라이언트를 더 잘 식별하기 위해 클라이언트\(보조 서버 포함\)의 인증 또는 권한 부여 형식을 요구할 수 있습니다.\(SHOULD, MAY\)

---
## **9.  Privacy Considerations**

클라이언트가 요청하는 유형과 패턴은 특정 클라이언트나 장치를 "지문"하는 데 사용될 수 있으며 따라서 잠재적으로 클라이언트 사용자가 수행할 작업에 대한 정보를 추적하는 데 사용될 수 있습니다. 특히, 필요에 따라 시간대 데이터만 다운로드하는 클라이언트는 사용자 장치가 한 시간대로 이동했다는 사실이나 사용자가 다른 시간대에 있는 다른 사용자로부터 일정 메시지를 받고 있다는 사실을 유출할 수 있습니다. .

클라이언트는 신뢰할 수 없는 서버나 네트워크 관찰자가 클라이언트를 추적할 수 있는 잠재적인 방법을 인식하고 다음과 같은 예방 조치를 취해야 합니다.

1. 항상 TLS를 사용하여 서버에 연결하십시오.

2. TLS 세션 재개를 사용하지 마세요.

3. 클라이언트가 실제로 사용 중인 시간대에 대한 정보 유출을 방지하려면 항상 전체 시간대 데이터 집합을 가져오고 동기화하세요.

4. "list" 작업 응답을 기반으로 시간대 집합을 검색할 때 "get" 작업을 사용하여 개별 시간대를 가져오는 순서를 무작위로 지정합니다.

5. 클라이언트별 ETag 헤더 필드 값을 생성하는 서버가 클라이언트를 추적하는 것을 방지하려면 "get" 작업과 함께 조건부 HTTP 요청 \[RFC7232\]을 사용하지 마세요.

6. HTTP 요청 \[RFC6265\]에서 쿠키 사용을 피하십시오.

7. 인증된 HTTP 요청을 사용하지 마세요.

8. 업데이트를 확인하기 위해 정기적인 폴링을 수행하는 경우 서버가 폴링 동작의 특정 주기로 클라이언트를 식별할 수 없도록 다음 폴링 시간에 임의\(양수 또는 음수\) 오프셋을 적용합니다.

9. 클라이언트를 "지문 인식"하려는 서버는 요청을 하는 각 클라이언트에 대한 고유 식별자를 사용하여 시간대 데이터에 "가짜" 시간대를 삽입할 수 있습니다. 그런 다음 서버는 해당 "가짜" 시간대를 참조하는 클라이언트 요청을 감시하여 각 클라이언트의 활동을 추적할 수 있습니다. 새로운 시간대가 가끔 추가된다는 점을 고려하면 클라이언트가 "가짜" 시간대를 식별하는 것은 어렵습니다. 이를 완화하기 위한 한 가지 옵션은 클라이언트가 시간대 데이터를 제공하는 두 개의 독립 공급자가 제공하는 두 개의 시간대 데이터 배포 서버를 사용하는 것입니다.

- 같은 출판사. 그런 다음 클라이언트는 각 서버의 시간대 목록을 비교하고\(둘 다 공통 게시자의 시간대 데이터 버전이 동일하다고 가정\) 한 서버에는 추가되고 다른 서버에는 추가되지 않은 것으로 나타나는 서버를 검색할 수 있습니다. 또는 클라이언트는 게시자 데이터를 직접 확인하여 시간대가 게시자가 설정한 것과 일치하는지 확인할 수 있습니다.

위 권장 사항 중 일부는 클라이언트와 관련이 없을 수 있는 데이터를 가져오기 때문에 프로토콜 사용 효율성이 떨어집니다.

조직은 자체 도메인 내에 보조 서버를 설정하고 해당 서버를 사용하도록 클라이언트를 구성하여 신뢰할 수 없는 시간대 데이터 배포 서버에 의해 추적될 가능성으로부터 조직의 사용자를 보호할 수 있습니다. 그러면 클라이언트는 조직의 서버가 신뢰된다는 점을 바탕으로 위의 우려 없이 보다 효율적인 프로토콜 상호 작용을 사용할 수 있습니다. 이를 수행할 때 보조 서버는 클라이언트에 대한 권장 사항\(이전 단락에 나열됨\)을 따르므로 신뢰할 수 없는 서버는 조직 전체에 대한 정보를 얻을 수 없습니다. 그러나 보조 서버에 대한 클라이언트 요청은 네트워크 관찰자에 의해 추적되므로 클라이언트는 위 목록의 일부 무작위화 기술을 적용해야 합니다.

클라이언트를 식별하는 데 사용될 수 있는 정보를 실수로 저장하지 않으려는 서버는 다음과 같은 예방 조치를 취할 수 있습니다.

1. 클라이언트 요청 활동을 기록하지 않거나 모든 로그의 정보\(예: 클라이언트 IP 주소, 클라이언트 사용자 에이전트 세부 정보, 인증 자격 증명 등\)를 익명화합니다.

2. 임의의 양의 데이터가 포함된 각 응답에 사용되지 않은 HTTP 응답 헤더를 추가합니다\(예: 전체 요청 크기를 가장 가까운 2의 거듭제곱 또는 128바이트 경계로 채움\). TLS를 사용할 때 네트워크 트래픽 분석을 통해 가져옵니다.

---
## **10.  IANA Considerations**

이 사양은 시간대 데이터 배포 서비스 프로토콜에 대한 "작업"의 새로운 레지스트리를 정의하고, \[RFC5785\] 섹션 5.1의 등록 절차 및 템플릿을 사용하여 "잘 알려진" URI를 정의하고, 두 개의 새로운 SRV 서비스 레이블 별칭을 생성합니다. \[RFC5545\]의 등록 절차에 따라 하나의 새로운 iCalendar 속성 매개변수를 정의합니다. 또한 프로토콜 관련 오류 코드와 함께 사용하기 위해 \[RFC3553\]에 따라 IETF 매개변수 URN 하위 네임스페이스에 새로운 "TZDIST 식별자 레지스트리"를 추가합니다.

---
### **10.1.  Service Actions Registration**

IANA는 "TZDIST\(Time Zone Data Distribution Service\) 매개변수"라는 새로운 최상위 범주를 생성하고 여기에서 생성된 모든 레지스트리를 해당 범주에 넣었습니다.

IANA는 아래 정의된 대로 "TZDIST 서비스 작업"이라는 새로운 레지스트리를 만들었습니다.

---
#### **10.1.1.  Service Actions Registration Procedure**

이 레지스트리는 지정된 전문가를 활용하여 잠재적인 등록을 검토하는 \[RFC5226\]에 정의된 "사양 필요" 정책을 사용합니다.

IETF는 등록 전 시간대 데이터 배포 서비스 작업 제안에 대한 공개 토론에 사용되는 메일링 리스트 tzdist-service@ietf.org를 만들었습니다. IESG는 tzdist-service@ietf.org 메일링 리스트를 모니터링하고 등록을 검토할 지정된 전문가를 임명했습니다.

이전에 표준 트랙 RFC에 문서화된 작업을 변경하려면 표준 트랙 RFC가 필요합니다. 그렇지 않으면 \[RFC5226\]의 요구 사항을 충족하는 공개 사양이 허용됩니다.\(MUST\)

등록 절차는 아래 정의된 대로 완성된 등록 템플릿이 tzdist-service@ietf.org 및 iana@iana.org로 전송되면 시작됩니다. 지정된 전문가는 2주 이내에 등록이 승인되었는지, 사소한 변경으로 승인되었는지, 이유가 있는 거부인지 여부를 IANA와 등록 제출자에게 알려야 합니다. 사유로 인해 등록이 거부된 경우, 사유에 나열된 문제가 해결되면 다시 제출할 수 있습니다. 지정된 전문가가 내린 결정은 \[RFC5226\]의 섹션 7에 따라 항소될 수 있습니다.

지정된 전문가는 등록을 검토할 때 다음 요구 사항을 고려해야 합니다.\(MUST\)

1. 제출자는 해당 작업이 수행하는 작업에 대한 명확한 설명과 함께 유효한 등록 템플릿을 제공해야 합니다.\(MUST\)

2. 제안된 새 작업 이름은 기존에 등록된 작업 이름과 충돌해서는 안 됩니다. 충돌에는 기존 이름과 중복되거나 기존 이름과 매우 유사해 잠재적인 혼란을 야기할 수 있는 이름이 포함됩니다.\(MUST NOT\)

3. 제안된 새로운 조치는 해당 조치를 정확히 복제해서는 안 됩니다.

- 기존 작업의 기능. 새로운 작업 기능이 기존 작업과 매우 유사한 경우 지정된 전문가는 제출자가 기존 작업을 알고 있는지, 기존 작업과 약간 다른 새로운 작업을 생성할 적절한 이유가 있는지 명확히 해야 합니다.\(MUST NOT, SHOULD\)

4. 제안된 조치가 기존 조치의 확장인 경우 변경 사항은 기존 조치의 의도와 충돌하거나 기존 프로토콜 배포에 대한 상호 운용성 문제를 일으킬 수 있는 방식으로 충돌해서는 안 됩니다.\(MUST NOT\)

IANA 레지스트리에는 작업 이름\("작업 이름"\)과 작업 등록 템플릿이 정의된 사양 섹션에 대한 참조\("참조"\)가 포함되어 있습니다.

---
#### **10.1.2.  Registration Template for Actions**

작업은 다음 템플릿을 완성하여 정의됩니다.

이름: 작업의 이름입니다.

요청-URI 템플릿: 작업에 대한 HTTP 요청에 사용되는 URI 템플릿입니다.

설명: 작업, 목적 등에 대한 일반적인 설명입니다.

매개변수: 허용되는 요청 URI 쿼리 매개변수 목록,

- 매개변수 값의 예상 형식과 함께 "필수" 또는 "선택"인지 여부와 한 번만 발생할 수 있는지 여러 번 발생할 수 있는지 여부를 나타냅니다.\(MUST\)

응답: HTTP 요청에 대한 응답의 성격\(예: 응답 데이터의 형식\)

가능한 오류 코드: HTTP 요청이 실패할 경우 JSON "문제 세부 정보" 개체에 보고될 수 있는 오류 코드입니다.

---
#### **10.1.3.  Actions Registry**

다음 표는 작업 레지스트리의 초기 내용을 제공합니다.

```text
                +---------------+------------------------+
                | Action Name   | Reference              |
                +---------------+------------------------+
                | capabilities  | RFC 7808, Section 5.1  |
                | list          | RFC 7808, Section 5.2  |
                | get           | RFC 7808, Section 5.3  |
                | expand        | RFC 7808, Section 5.4  |
                | find          | RFC 7808, Section 5.5  |
                | leapseconds   | RFC 7808, Section 5.6  |
                +---------------+------------------------+
```

---
### **10.2.  timezone Well-Known URI Registration**

IANA는 "잘 알려진 URI" \[RFC5785\] 레지스트리에 다음을 추가했습니다.

```text
   URI suffix:  timezone

   Change controller:  IESG.

   Specification document(s):  RFC 7808

   Related information:  None.
```

---
### **10.3.  Service Name Registrations**

IANA는 아래 정의된 대로 "서비스 이름 및 전송 프로토콜 포트 번호 레지스트리"\[RFC6335\]에 두 개의 새로운 서비스 이름을 추가했습니다.

---
#### **10.3.1.  timezone Service Name Registration**

```text
   Service Name:  timezone

   Transport Protocol(s):  TCP

   Assignee:  IESG <iesg@ietf.org>

   Contact:  IETF Chair <chair@ietf.org>

   Description:  Time Zone Data Distribution Service - non-TLS

   Reference:  RFC 7808
```

과제 참고사항: 이는 http 서비스의 확장입니다. 정의된 TXT 키: path=<컨텍스트 경로\>\(\[RFC6763\]의 섹션 6에 따름\).

---
#### **10.3.2.  timezones Service Name Registration**

```text
   Service Name:  timezones

   Transport Protocol(s):  TCP

   Assignee:  IESG <iesg@ietf.org>

   Contact:  IETF Chair <chair@ietf.org>
```

설명: 시간대 데이터 배포 서비스 - TLS를 통해

```text
   Reference:  RFC 7808
```

과제 참고 사항: 이는 https 서비스의 확장입니다. 정의된 TXT 키: path=<컨텍스트 경로\>\(\[RFC6763\]의 섹션 6에 따름\).

---
### **10.4.  TZDIST Identifiers Registry**

IANA는 \[RFC3553\]에 정의된 등록된 프로토콜 매개 변수 식별자에 대한 IETF URN 하위 네임스페이스 내에 새로운 URN 하위 네임스페이스를 등록했습니다.

이 레지스트리의 등록은 "IETF 검토" \[RFC5226\] 정책을 따릅니다.

```text
   Registry name:  TZDIST Identifiers

   URN prefix:  urn:ietf:params:tzdist

   Specification:  RFC 7808

   Repository:  http://www.iana.org/assignments/tzdist-identifiers
```

인덱스 값: 이 레지스트리의 값은 "urn:ietf:params:tzdist:" 접두사로 시작하는 URN 또는 URN 접두사입니다. 각각 독립적으로 등록됩니다. 접두사 "urn:ietf:params:tzdist:error:"는 섹션 5의 작업 목록에 정의되고 문제 보고서\(섹션 4.1.7\)에 사용되는 프로토콜 내의 특정 오류 코드를 나타내는 데 사용됩니다.

"TZDIST 식별자" 레지스트리의 각 등록에는 다음 정보가 필요합니다.

URN: 사용되는 전체 URN 또는 해당 URN의 접두사입니다.

설명: URN 또는 URN 접두사에 대한 요약 설명입니다.

사양: URN 또는 URN 접두사를 설명하는 사양에 대한 참조입니다.

연락처: 등록하는 개인 또는 그룹의 이메일입니다.

인덱스 값: \[RFC3553\]에 설명된 대로 등록된 URN 접두사에는 URN 구성 방법에 대한 설명이 포함됩니다. 이는 특정 URN에는 적용되지 않습니다.

"TZDIST 식별자" 레지스트리에는 다음 섹션에 포함된 초기 등록이 있습니다.

---
#### **10.4.1.  Registration of invalid-action Error URN**

다음 URN이 "tzdist 식별자" 레지스트리에 등록되었습니다.

```text
   URN:  urn:ietf:params:tzdist:error:invalid-action
```

설명: 잘못된 작업에 대한 일반 오류 코드입니다.

```text
   Specification:  RFC 7808, Section 5

   Repository:  http://www.iana.org/assignments/tzdist-identifiers

   Contact:  IESG <iesg@ietf.org>

   Index value:  N/A.
```

---
#### **10.4.2.  Registration of invalid-changedsince Error URN**

다음 URN이 "tzdist 식별자" 레지스트리에 등록되었습니다.

```text
   URN:  urn:ietf:params:tzdist:error:invalid-changedsince
```

설명: "changedsince" URI 쿼리 매개변수의 잘못된 사용에 대한 오류 코드입니다.

```text
   Specification:  RFC 7808, Section 5.2

   Repository:  http://www.iana.org/assignments/tzdist-identifiers

   Contact:  IESG <iesg@ietf.org>

   Index value:  N/A.
```

---
#### **10.4.3.  Registration of tzid-not-found Error URN**

다음 URN이 "tzdist 식별자" 레지스트리에 등록되었습니다.

```text
   URN:  urn:ietf:params:tzdist:error:tzid-not-found
```

설명: 시간대 식별자 누락에 대한 오류 코드입니다.

사양: RFC 7808, 섹션 5.3 및 5.4

```text
   Repository:  http://www.iana.org/assignments/tzdist-identifiers

   Contact:  IESG <iesg@ietf.org>

   Index value:  N/A.
```

---
#### **10.4.4.  Registration of invalid-format Error URN**

다음 URN이 "tzdist 식별자" 레지스트리에 등록되었습니다.

```text
   URN:  urn:ietf:params:tzdist:error:invalid-format
```

설명: 지원되지 않는 HTTP Accept 요청 헤더 필드 값에 대한 오류 코드입니다.

```text
   Specification:  RFC 7808, Section 5.3

   Repository:  http://www.iana.org/assignments/tzdist-identifiers

   Contact:  IESG <iesg@ietf.org>

   Index value:  N/A.
```

---
#### **10.4.5.  Registration of invalid-start Error URN**

다음 URN이 "tzdist 식별자" 레지스트리에 등록되었습니다.

```text
   URN:  urn:ietf:params:tzdist:error:invalid-start
```

설명: "시작" URI 쿼리 매개변수의 잘못된 사용에 대한 오류 코드입니다.

사양: RFC 7808, 섹션 5.3 및 5.4

```text
   Repository:  http://www.iana.org/assignments/tzdist-identifiers

   Contact:  IESG <iesg@ietf.org>

   Index value:  N/A.
```

---
#### **10.4.6.  Registration of invalid-end Error URN**

다음 URN이 "tzdist 식별자" 레지스트리에 등록되었습니다.

```text
   URN:  urn:ietf:params:tzdist:error:invalid-end
```

설명: "종료" URI 쿼리 매개변수의 잘못된 사용에 대한 오류 코드입니다.

사양: RFC 7808, 섹션 5.3 및 5.4

```text
   Repository:  http://www.iana.org/assignments/tzdist-identifiers

   Contact:  IESG <iesg@ietf.org>

   Index value:  N/A.
```

---
#### **10.4.7.  Registration of invalid-pattern Error URN**

다음 URN이 "tzdist 식별자" 레지스트리에 등록되었습니다.

```text
   URN:  urn:ietf:params:tzdist:error:invalid-pattern
```

설명: "패턴" URI 쿼리 매개변수의 잘못된 사용에 대한 오류 코드입니다.

```text
   Specification:  RFC 7808, Section 5.5

   Repository:  http://www.iana.org/assignments/tzdist-identifiers

   Contact:  IESG <iesg@ietf.org>

   Index value:  N/A.
```

---
### **10.5.  iCalendar Property Registrations**

이 문서는 "iCalendar 요소 레지스트리" \[RFC5545\] 아래의 "속성" 레지스트리에 추가된 다음과 같은 새로운 iCalendar 속성을 정의합니다.

```text
          +----------------+----------+------------------------+
          | Property       | Status   | Reference              |
          +----------------+----------+------------------------+
          | TZUNTIL        | Current  | RFC 7808, Section 7.1  |
          | TZID-ALIAS-OF  | Current  | RFC 7808, Section 7.2  |
          +----------------+----------+------------------------+
```

---
## **11.  References**
---
### **11.1.  Normative References**

```text
   [RFC2046]  Freed, N. and N. Borenstein, "Multipurpose Internet Mail
              Extensions (MIME) Part Two: Media Types", RFC 2046,
              DOI 10.17487/RFC2046, November 1996,
              <http://www.rfc-editor.org/info/rfc2046>.

   [RFC2119]  Bradner, S., "Key words for use in RFCs to Indicate
              Requirement Levels", BCP 14, RFC 2119,
              DOI 10.17487/RFC2119, March 1997,
              <http://www.rfc-editor.org/info/rfc2119>.

   [RFC2782]  Gulbrandsen, A., Vixie, P., and L. Esibov, "A DNS RR for
              specifying the location of services (DNS SRV)", RFC 2782,
              DOI 10.17487/RFC2782, February 2000,
              <http://www.rfc-editor.org/info/rfc2782>.

   [RFC2818]  Rescorla, E., "HTTP Over TLS", RFC 2818,
              DOI 10.17487/RFC2818, May 2000,
              <http://www.rfc-editor.org/info/rfc2818>.

   [RFC3339]  Klyne, G. and C. Newman, "Date and Time on the Internet:
              Timestamps", RFC 3339, DOI 10.17487/RFC3339, July 2002,
              <http://www.rfc-editor.org/info/rfc3339>.

   [RFC3553]  Mealling, M., Masinter, L., Hardie, T., and G. Klyne, "An
              IETF URN Sub-namespace for Registered Protocol
              Parameters", BCP 73, RFC 3553, DOI 10.17487/RFC3553, June
              2003, <http://www.rfc-editor.org/info/rfc3553>.

   [RFC3629]  Yergeau, F., "UTF-8, a transformation format of ISO
              10646", STD 63, RFC 3629, DOI 10.17487/RFC3629, November
              2003, <http://www.rfc-editor.org/info/rfc3629>.

   [RFC4985]  Santesson, S., "Internet X.509 Public Key Infrastructure
              Subject Alternative Name for Expression of Service Name",
              RFC 4985, DOI 10.17487/RFC4985, August 2007,
              <http://www.rfc-editor.org/info/rfc4985>.

   [RFC5226]  Narten, T. and H. Alvestrand, "Guidelines for Writing an
              IANA Considerations Section in RFCs", BCP 26, RFC 5226,
              DOI 10.17487/RFC5226, May 2008,
              <http://www.rfc-editor.org/info/rfc5226>.

   [RFC5234]  Crocker, D., Ed. and P. Overell, "Augmented BNF for Syntax
              Specifications: ABNF", STD 68, RFC 5234,
              DOI 10.17487/RFC5234, January 2008,
              <http://www.rfc-editor.org/info/rfc5234>.

   [RFC5246]  Dierks, T. and E. Rescorla, "The Transport Layer Security
              (TLS) Protocol Version 1.2", RFC 5246,
              DOI 10.17487/RFC5246, August 2008,
              <http://www.rfc-editor.org/info/rfc5246>.

   [RFC5545]  Desruisseaux, B., Ed., "Internet Calendaring and
              Scheduling Core Object Specification (iCalendar)",
              RFC 5545, DOI 10.17487/RFC5545, September 2009,
              <http://www.rfc-editor.org/info/rfc5545>.

   [RFC5785]  Nottingham, M. and E. Hammer-Lahav, "Defining Well-Known
              Uniform Resource Identifiers (URIs)", RFC 5785,
              DOI 10.17487/RFC5785, April 2010,
              <http://www.rfc-editor.org/info/rfc5785>.

   [RFC6125]  Saint-Andre, P. and J. Hodges, "Representation and
              Verification of Domain-Based Application Service Identity
              within Internet Public Key Infrastructure Using X.509
              (PKIX) Certificates in the Context of Transport Layer
              Security (TLS)", RFC 6125, DOI 10.17487/RFC6125, March
              2011, <http://www.rfc-editor.org/info/rfc6125>.

   [RFC6265]  Barth, A., "HTTP State Management Mechanism", RFC 6265,
              DOI 10.17487/RFC6265, April 2011,
              <http://www.rfc-editor.org/info/rfc6265>.

   [RFC6321]  Daboo, C., Douglass, M., and S. Lees, "xCal: The XML
              Format for iCalendar", RFC 6321, DOI 10.17487/RFC6321,
              August 2011, <http://www.rfc-editor.org/info/rfc6321>.

   [RFC6335]  Cotton, M., Eggert, L., Touch, J., Westerlund, M., and S.
              Cheshire, "Internet Assigned Numbers Authority (IANA)
              Procedures for the Management of the Service Name and
              Transport Protocol Port Number Registry", BCP 165,
              RFC 6335, DOI 10.17487/RFC6335, August 2011,
              <http://www.rfc-editor.org/info/rfc6335>.

   [RFC6557]  Lear, E. and P. Eggert, "Procedures for Maintaining the
              Time Zone Database", BCP 175, RFC 6557,
              DOI 10.17487/RFC6557, February 2012,
              <http://www.rfc-editor.org/info/rfc6557>.

   [RFC6570]  Gregorio, J., Fielding, R., Hadley, M., Nottingham, M.,
              and D. Orchard, "URI Template", RFC 6570,
              DOI 10.17487/RFC6570, March 2012,
              <http://www.rfc-editor.org/info/rfc6570>.

   [RFC6698]  Hoffman, P. and J. Schlyter, "The DNS-Based Authentication
              of Named Entities (DANE) Transport Layer Security (TLS)
              Protocol: TLSA", RFC 6698, DOI 10.17487/RFC6698, August
              2012, <http://www.rfc-editor.org/info/rfc6698>.

   [RFC6763]  Cheshire, S. and M. Krochmal, "DNS-Based Service
              Discovery", RFC 6763, DOI 10.17487/RFC6763, February 2013,
              <http://www.rfc-editor.org/info/rfc6763>.

   [RFC7159]  Bray, T., Ed., "The JavaScript Object Notation (JSON) Data
              Interchange Format", RFC 7159, DOI 10.17487/RFC7159, March
              2014, <http://www.rfc-editor.org/info/rfc7159>.

   [RFC7230]  Fielding, R., Ed. and J. Reschke, Ed., "Hypertext Transfer
              Protocol (HTTP/1.1): Message Syntax and Routing",
              RFC 7230, DOI 10.17487/RFC7230, June 2014,
              <http://www.rfc-editor.org/info/rfc7230>.

   [RFC7231]  Fielding, R., Ed. and J. Reschke, Ed., "Hypertext Transfer
              Protocol (HTTP/1.1): Semantics and Content", RFC 7231,
              DOI 10.17487/RFC7231, June 2014,
              <http://www.rfc-editor.org/info/rfc7231>.

   [RFC7232]  Fielding, R., Ed. and J. Reschke, Ed., "Hypertext Transfer
              Protocol (HTTP/1.1): Conditional Requests", RFC 7232,
              DOI 10.17487/RFC7232, June 2014,
              <http://www.rfc-editor.org/info/rfc7232>.

   [RFC7234]  Fielding, R., Ed., Nottingham, M., Ed., and J. Reschke,
              Ed., "Hypertext Transfer Protocol (HTTP/1.1): Caching",
              RFC 7234, DOI 10.17487/RFC7234, June 2014,
              <http://www.rfc-editor.org/info/rfc7234>.

   [RFC7235]  Fielding, R., Ed. and J. Reschke, Ed., "Hypertext Transfer
              Protocol (HTTP/1.1): Authentication", RFC 7235,
              DOI 10.17487/RFC7235, June 2014,
              <http://www.rfc-editor.org/info/rfc7235>.

   [RFC7265]  Kewisch, P., Daboo, C., and M. Douglass, "jCal: The JSON
              Format for iCalendar", RFC 7265, DOI 10.17487/RFC7265, May
              2014, <http://www.rfc-editor.org/info/rfc7265>.

   [RFC7525]  Sheffer, Y., Holz, R., and P. Saint-Andre,
              "Recommendations for Secure Use of Transport Layer
              Security (TLS) and Datagram Transport Layer Security
              (DTLS)", BCP 195, RFC 7525, DOI 10.17487/RFC7525, May
              2015, <http://www.rfc-editor.org/info/rfc7525>.

   [RFC7807]  Nottingham, M. and E. Wilde, "Problem Details for HTTP
              APIs", RFC 7807, DOI 10.17487/RFC7807, March 2016,
              <http://www.rfc-editor.org/info/rfc7807>.
```

---
### **11.2.  Informative References**

```text
   [RFC2131]  Droms, R., "Dynamic Host Configuration Protocol",
              RFC 2131, DOI 10.17487/RFC2131, March 1997,
              <http://www.rfc-editor.org/info/rfc2131>.
```

---
# **Acknowledgements**

저자는 Calendaring and Scheduling Consortium의 시간대 기술 위원회 회원과 IETF tzdist 작업 그룹의 참가자 및 의장에게 감사의 말씀을 전하고 싶습니다. 특히 다음 개인들이 이 작업에 중요한 공헌을 했습니다: Steve Allen, Lester Caine, Stephen Colebourne, Tobias Conradi, Steve Crocker, Paul Eggert, Daniel Kahn Gillmor, John Haug, Ciny Joy, Bryan Keller, Barry Leiba, Andrew McMillan , Ken Murchison, Tim Parenti, Arnaud Quillaud, Jose Edvaldo Saraiva 및 Dave Thewlis.

이 사양은 사양 구현의 개발 및 테스트를 지원해온 Calendaring and Scheduling Consortium의 작업에서 시작되었습니다.

---
# **Authors' Addresses**

```text
   Michael Douglass
   Spherical Cow Group
   226 3rd Street
   Troy, NY  12180
   United States

   Email: mdouglass@sphericalcowgroup.com
   URI:   http://sphericalcowgroup.com

   Cyrus Daboo
   Apple Inc.
   1 Infinite Loop
   Cupertino, CA  95014
   United States

   Email: cyrus@daboo.name
   URI:   http://www.apple.com/
```