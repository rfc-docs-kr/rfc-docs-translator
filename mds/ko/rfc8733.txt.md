

```text
﻿

Internet Engineering Task Force (IETF)                     D. Dhody, Ed.
Request for Comments: 8733                           Huawei Technologies
Category: Standards Track                                 R. Gandhi, Ed.
ISSN: 2070-1721                                      Cisco Systems, Inc.
                                                                U. Palle
                                                                R. Singh
                                                  Individual Contributor
                                                                 L. Fang
                                                     Expedia Group, Inc.
                                                           February 2020

 Path Computation Element Communication Protocol (PCEP) Extensions for
    MPLS-TE Label Switched Path (LSP) Auto-Bandwidth Adjustment with
                              Stateful PCE
```

---
# **Abstract**

PCEP\(경로 계산 요소 통신 프로토콜\)는 PCC\(경로 계산 클라이언트\) 요청에 대한 응답으로 경로 계산을 수행하기 위해 PCE\(경로 계산 요소\)에 대한 메커니즘을 제공합니다. 상태 저장 PCE 확장을 사용하면 PCEP를 사용하여 MPLS-TE LSP\(레이블 전환 경로\)의 상태 저장 제어가 가능합니다.

자동 대역폭 기능을 사용하면 LSP를 통해 흐르는 트래픽 양을 기반으로 TE LSP 대역폭 예약을 자동으로 동적으로 조정할 수 있습니다. 이 문서에서는 PCE 시작 및 PCC 시작 LSP 모두에 대해 활성 상태 저장 PCE를 사용할 때 자동 대역폭 조정을 위한 PCEP 확장에 대해 설명합니다.

---
# **Status of This Memo**

이것은 인터넷 표준 추적 문서입니다.

이 문서는 IETF\(Internet Engineering Task Force\)의 제품입니다. 이는 IETF 커뮤니티의 합의를 나타냅니다. 공개 검토를 받았으며 IESG\(Internet Engineering Steering Group\)의 출판 승인을 받았습니다. 인터넷 표준에 대한 자세한 내용은 RFC 7841의 섹션 2에서 확인할 수 있습니다.

이 문서의 현재 상태, 정오표, 피드백 제공 방법에 대한 정보는 https://www.rfc-editor.org/info/rfc8733에서 얻을 수 있습니다.

---
# **Copyright Notice**

Copyright \(c\) 2020 IETF Trust 및 문서 작성자로 확인된 사람. 판권 소유.

이 문서는 이 문서의 발행일에 유효한 BCP 78 및 IETF 문서에 관한 IETF 트러스트의 법적 조항\(https://trustee.ietf.org/license-info\)의 적용을 받습니다. 이 문서와 관련된 귀하의 권리 및 제한 사항을 설명하므로 이 문서를 주의 깊게 검토하십시오. 이 문서에서 추출한 코드 구성 요소는 Trust Legal Provisions의 섹션 4.e에 설명된 대로 Simplified BSD License 텍스트를 포함해야 하며 Simplified BSD License에 설명된 대로 보증 없이 제공됩니다.

---
# **Table of Contents**

```text
   1.  Introduction
   2.  Conventions Used in This Document
     2.1.  Requirements Language
     2.2.  Abbreviations
     2.3.  Terminology
   3.  Requirements for PCEP Extensions
   4.  Architectural Overview
     4.1.  Auto-Bandwidth Overview
     4.2.  Auto-Bandwidth Theory of Operation
     4.3.  Scaling Considerations
   5.  PCEP Extensions
     5.1.  Capability Advertisement
       5.1.1.  AUTO-BANDWIDTH-CAPABILITY TLV
     5.2.  AUTO-BANDWIDTH-ATTRIBUTES TLV
       5.2.1.  Sample-Interval Sub-TLV
       5.2.2.  Adjustment-Intervals
         5.2.2.1.  Adjustment-Interval Sub-TLV
         5.2.2.2.  Down-Adjustment-Interval Sub-TLV
       5.2.3.  Adjustment-Thresholds
         5.2.3.1.  Adjustment-Threshold Sub-TLV
         5.2.3.2.  Adjustment-Threshold-Percentage Sub-TLV
         5.2.3.3.  Down-Adjustment-Threshold Sub-TLV
         5.2.3.4.  Down-Adjustment-Threshold-Percentage Sub-TLV
       5.2.4.  Minimum and Maximum-Bandwidth Values
         5.2.4.1.  Minimum-Bandwidth Sub-TLV
         5.2.4.2.  Maximum-Bandwidth Sub-TLV
       5.2.5.  Overflow and Underflow Conditions
         5.2.5.1.  Overflow-Threshold Sub-TLV
         5.2.5.2.  Overflow-Threshold-Percentage Sub-TLV
         5.2.5.3.  Underflow-Threshold Sub-TLV
         5.2.5.4.  Underflow-Threshold-Percentage Sub-TLV
     5.3.  BANDWIDTH Object
     5.4.  The PCInitiate Message
     5.5.  The PCUpd Message
     5.6.  The PCRpt Message
     5.7.  The PCNtf Message
   6.  Manageability Considerations
     6.1.  Control of Function and Policy
     6.2.  Information and Data Models
     6.3.  Liveness Detection and Monitoring
     6.4.  Verifying Correct Operations
     6.5.  Requirements for Other Protocols
     6.6.  Impact on Network Operations
   7.  Security Considerations
   8.  IANA Considerations
     8.1.  PCEP TLV Type Indicators
     8.2.  AUTO-BANDWIDTH-CAPABILITY TLV Flag Field
     8.3.  AUTO-BANDWIDTH-ATTRIBUTES Sub-TLV
     8.4.  Error Object
     8.5.  Notification Object
   9.  References
     9.1.  Normative References
     9.2.  Informative References
   Acknowledgments
   Contributors
   Authors' Addresses
```

---
## **1.  Introduction**

\[RFC5440\]은 PCC\(Path Computation Client\)와 PCE\(Path Computation Element\) 간 또는 PCE와 PCE 간 통신 메커니즘으로 PCEP\(Path Computation Element Protocol\)를 설명하며 MPLS-TE Label Switched 계산을 가능하게 합니다. 경로\(LSP\).

\[RFC8231\]은 MPLS-TE LSP의 상태 저장 제어를 활성화하기 위해 PCEP에 대한 확장을 지정합니다. 이는 수동 상태 저장 PCE와 활성 상태 저장 PCE의 두 가지 작동 모드를 설명합니다. 또한 \[RFC8281\]에서는 상태 저장 PCE 모델에 대한 PCE 시작 LSP의 설정, 유지 관리 및 해체에 대해 설명합니다. 이 문서에서는 LSP가 PCE에 의해 제어되는 활성 상태 저장 PCE에 중점을 둡니다.

시간이 지남에 따라 다양한 트래픽 패턴에 따라 특정 대역폭으로 설정된 LSP는 네트워크에 동적으로 예약된 대역폭을 조정해야 할 수 있습니다. 헤드엔드 LSR\(Label Switching Router\)은 설정된 LSP의 실제 대역폭 수요를 모니터링하고 주기적으로 새로운 대역폭을 계산합니다. 헤드엔드 LSR은 계산된 대역폭을 기반으로 LSP의 대역폭 예약을 자동으로 조정합니다. 헤드엔드 LSR 구현에서 사용 가능한 이 기능을 일반적으로 자동 대역폭이라고 합니다. 자동 대역폭 기능은 이 문서의 섹션 4에 자세히 설명되어 있습니다.

이 문서에서 고려된 모델에서 PCC\(LSP의 헤드엔드\)는 LSP를 통해 흐르는 트래픽 속도 샘플을 수집하고 새로운 조정 대역폭을 계산합니다. PCC는 계산된 대역폭을 PCE에 보고합니다. 이는 수동 상태 저장 PCE 모델과 유사합니다. 수동 상태 저장 PCE는 경로 요청/응답 메커니즘을 사용하는 반면 활성 상태 저장 PCE는 보고/업데이트 메커니즘을 사용합니다. PCE 시작 LSP를 사용하면 LSP 시작 중에 새로운 조정 대역폭을 모니터링하고 계산하기 위해 PCC가 요청됩니다. \[RFC8051\]에서는 수동 및 활성 상태 저장 PCE에 대한 자동 대역폭 조정 사용 사례를 설명합니다.

또 다른 접근 방식은 측정된 값 자체를 PCE로 보내는 것인데, 이는 이 문서의 범위를 벗어나는 것으로 간주됩니다.

이 문서는 조정될 LSP 대역폭이 PCC\(LSP의 헤드엔드\)에서 계산되는 활성 상태 저장 PCE 모델에서 자동 대역폭 기능을 지원하는 데 필요한 PCEP 확장을 정의합니다. 조정할 대역폭을 계산하기 위해 PCE를 사용하는 것은 이 문서의 범위를 벗어납니다.

---
## **2.  Conventions Used in This Document**
---
### **2.1.  Requirements Language**

키워드 "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT", "SHOULD", "SHOULD NOT", "RECOMMENDED", "NOT RECOMMENDED", "MAY" 및 "OPTIONAL" "는 BCP 14 \[RFC2119\] \[RFC8174\]에 설명된 대로 여기에 표시된 것처럼 모두 대문자로 표시되는 경우에만 해석됩니다.\(MUST NOT\)

---
### **2.2.  Abbreviations**

```text
   PCC:     Path Computation Client

   PCE:     Path Computation Element

   PCEP:    Path Computation Element Communication Protocol

   TE:      Traffic Engineering

   LSP:     Label Switched Path
```

---
### **2.3.  Terminology**

독자는 \[RFC5440\], \[RFC8231\] 및 \[RFC8281\]에 정의된 용어에 익숙하다고 가정합니다.

본 문서에서는 PCC를 LSP의 헤드엔드 LSR로 간주합니다. 다른 유형의 PCC는 범위에 포함되지 않습니다.

이 문서에는 다음과 같은 자동 대역폭 용어가 정의되어 있습니다.

최대 평균 대역폭\(MaxAvgBw\): 최대 평균 대역폭은 시간 간격 동안 LSP의 현재 '측정된' 트래픽 대역폭 수요를 나타냅니다. 이는 주어진 시간 간격 동안의 트래픽 대역폭 속도 샘플\(대역폭-샘플\)의 최대값입니다.

조정된 대역폭: 이는 LSP의 대역폭 예약을 조정하는 데 사용되는 자동 대역폭 '계산된' 대역폭입니다.

Sample-Interval: LSP의 측정된 트래픽 속도가 Bandwidth-Sample로 수집되는 주기적인 시간 간격입니다.

Bandwidth-Sample: 매 Sample-Interval마다 수집된 LSP의 측정된 트래픽 속도의 Bandwidth-Sample입니다.

최대 대역폭: LSP용으로 예약할 수 있는 최대 대역폭입니다.

최소 대역폭: LSP용으로 예약할 수 있는 최소 대역폭입니다.

Up-Adjustment-Interval: MaxAvgBw가 LSP의 현재 대역폭 예약보다 클 때 MaxAvgBw를 사용하여 대역폭 조정이 이루어져야 하는 주기적인 시간 간격입니다.

하향 조정 간격: MaxAvgBw가 LSP의 현재 대역폭 예약보다 작을 때 MaxAvgBw를 사용하여 대역폭 조정이 이루어져야 하는 주기적인 시간 간격입니다.

Up-Adjustment-Threshold: 이 매개변수는 LSP 대역폭을 조정해야 하는 시기를 결정하는 데 사용됩니다. 현재 MaxAvgBw와 현재 대역폭 예약 간의 백분율 또는 절대 차이가 임계값보다 크거나 같은 경우 LSP 대역폭은 Up-Adjustment-Interval 만료 시 현재 대역폭 요구\(Adjusted Bandwidth\)에 맞게 조정\(업사이징\)됩니다. .

하향 조정 임계값: 이 매개변수는 LSP 대역폭을 조정해야 하는 시기를 결정하는 데 사용됩니다. 현재 대역폭 예약과 현재 MaxAvgBw 간의 백분율 또는 절대 차이가 임계값보다 크거나 같은 경우 LSP 대역폭은 Down-Adjustment-Interval 만료 시 현재 대역폭 요구\(조정된 대역폭\)로 조정\(축소\)됩니다. .

Overflow-Count: 이 매개변수는 트래픽 수요가 갑자기 증가할 때 LSP 대역폭을 조정해야 하는 시기를 결정하는 데 사용됩니다. 이 값은 오버플로 조건을 충족하기 위해 현재 MaxAvgBw와 LSP의 현재 대역폭 예약 간의 백분율 또는 절대 차이가 오버플로 임계값보다 크거나 같아야 하는 횟수를 연속적으로 나타냅니다.

Overflow-Threshold: 이 매개변수는 트래픽 수요가 갑자기 증가할 때 LSP 대역폭을 조정해야 하는 시기를 결정하는 데 사용됩니다. 현재 MaxAvgBw와 LSP의 현재 대역폭 예약 사이의 백분율 또는 절대 차이가 임계값보다 크거나 같으면 오버플로 조건이 충족되었다고 말합니다. LSP 대역폭은 오버플로 카운트에 대해 오버플로 조건이 연속적으로 충족되면 Up-Adjustment-Interval을 우회하여 현재 대역폭 요구에 맞게 조정됩니다. 오버플로 임계값은 상향 조정 임계값보다 크거나 같아야 합니다.

Underflow-Count: 이 매개변수는 트래픽 수요가 갑자기 감소할 때 LSP 대역폭을 조정해야 하는 시기를 결정하는 데 사용됩니다. 이 값은 언더플로우 조건을 충족하기 위해 현재 MaxAvgBw와 LSP의 현재 대역폭 예약 간의 백분율 또는 절대 차이가 언더플로우 임계값보다 크거나 같아야 하는 횟수를 연속적으로 나타냅니다.

Underflow-Threshold: 이 매개변수는 트래픽 수요가 갑자기 감소할 때 LSP 대역폭을 조정해야 하는 시기를 결정하는 데 사용됩니다. 현재 MaxAvgBw와 LSP의 현재 대역폭 예약 사이의 백분율 또는 절대 차이가 임계값보다 크거나 같으면 언더플로우 조건이 충족되었다고 말합니다. LSP 대역폭은 Underflow-Count에 대해 언더플로우 조건이 연속적으로 충족되는 경우 Down-Adjustment-Interval을 우회하여 현재 대역폭 요구에 맞게 조정됩니다. 언더플로우 임계값은 하향 조정 임계값보다 크거나 같아야 합니다.

최소 임계값: 백분율 기반 임계값이 사용 중인 경우 이 최소 임계값이 수반됩니다. 이는 현재 대역폭 예약에서 조정될 계산된 LSP 대역폭의 편차 크기가 특정 비-임계값을 초과하는지 확인하는 데 사용됩니다. 조정이 이루어지기 전의 백분율 기반 기준\(절대 대역폭 값으로 표시됨\)입니다. 이는 낮은 대역폭 값에서 불필요한 자동 대역폭 조정 및 LSP 재조정을 억제하는 역할을 합니다.

---
## **3.  Requirements for PCEP Extensions**

자동 대역폭에 필요한 PCEP 확장은 다음 표와 그림 1에 요약되어 있습니다.

```text
    +-------------------------+--------------------------------------+
    | PCC Initiated           | PCE Initiated                        |
    +=========================+======================================+
    | PCC monitors the        | At the time of initiation, the PCE   |
    | traffic and reports the | requests that the PCC monitor the    |
    | calculated bandwidth to | traffic and report the calculated    |
    | be adjusted to the PCE. | bandwidth to be adjusted to the PCE. |
    +-------------------------+--------------------------------------+
    | Extension is needed for | Extension is needed for the PCE to   |
    | the PCC to pass on the  | pass on the adjustment parameters at |
    | adjustment parameters   | the time of LSP initiation.          |
    | at the time of LSP      |                                      |
    | delegation.             |                                      |
    +-------------------------+--------------------------------------+
```

- 표 1: 자동 대역폭 PCEP 확장 요구 사항

```text
                             ----------
                            |          |
                            |   PCE    |
                            |          |
                             ----------
                               |    ^
    AUTO-BANDWIDTH CAPABILITY  |    |  AUTO-BANDWIDTH CAPABILITY
                               |    |
    AUTO-BANDWIDTH ATTRIBUTES  |    |  AUTO-BANDWIDTH ATTRIBUTES
                               |    |  (For Delegated LSPs)
                               |    |
                               |    |  REQUESTED BANDWIDTH
                               v    |
                             ----------
                            |          |
                            |   PCC    |
                            |          |
                             ----------
```

- 그림 1: 자동 대역폭 PCEP 확장 개요

이 문서를 지원하는 PCEP 스피커에는 PCC 시작 및 PCE 시작 LSP 모두에 대한 자동 대역폭 조정 기능을 광고하는 메커니즘이 있어야 합니다.

PCEP 확장에 대한 자동 대역폭 배포 고려 사항은 아래에 요약되어 있습니다.

\* 어떤 LSP가 자동 대역폭 기능을 활성화했는지 확인하고 PCC에 알려야 합니다. 일부 배포의 모든 LSP가 대역폭이 실시간 대역폭 사용량에 종속되는 것을 원하는 것은 아닙니다. 일부 LSP의 경우 운영자가 설정한 대로 대역폭을 일정하게 유지하는 것이 좋습니다.

\* 또한 운영자는 이 기능\(예: 최소/최대 대역폭 범위\)을 제어하기 위해 자동 대역폭 조정 매개변수\(예: 구성 손잡이\)를 지정할 수 있어야 합니다. 이러한 조정 매개변수에 대해 PCC에 알려야 합니다.

---
## **4.  Architectural Overview**
---
### **4.1.  Auto-Bandwidth Overview**

자동 대역폭 기능을 사용하면 LSP의 다양한 트래픽 수요를 수용하기 위해 시간이 지남에 따라\(즉, 네트워크 운영자 개입 없이\) LSP의 예약된 대역폭을 자동 및 동적으로 조정할 수 있습니다. LSP를 통해 흐르는 트래픽이 LSP의 구성 대역폭 또는 현재 예약된 대역폭보다 낮은 경우 추가 대역폭이 불필요하게 예약되어 낭비되고 있습니다. 반대로, LSP를 통해 흐르는 실제 트래픽이 LSP의 구성 대역폭이나 현재 예약된 대역폭보다 높을 경우 잠재적으로 네트워크에 정체나 패킷 손실이 발생할 수 있습니다. 초기 LSP 대역폭은 임의의 값\(0 포함\)으로 설정할 수 있습니다. 실제로는 설계 및 기획에 따라 예상값으로 설정할 수 있습니다. 헤드엔드 LSR은 LSP를 통해 흐르는 실제 트래픽을 모니터링하고 해당 정보를 사용하여 네트워크에서 LSP의 대역폭 예약을 조정합니다.

대역폭 조정은 LSP가 전달하는 트래픽 흐름을 방해해서는 안 됩니다. 이를 달성하는 한 가지 방법은 Make-Before-Break 신호 방법 \[RFC3209\]을 사용하는 것입니다.

---
### **4.2.  Auto-Bandwidth Theory of Operation**

이 섹션에서는 일반적인 방법으로 자동 대역폭 기능을 설명합니다. 자동 대역폭 기능이 활성화되면 측정된 트래픽 속도는 PCC가 LSP의 헤드엔드 노드일 때 PCC에 의해 각 Sample-Interval마다 주기적으로 샘플링됩니다. 샘플 간격은 운영자가 구성할 수 있으며 기본값은 5분입니다. 샘플 간격이 매우 낮으면 전송 프로토콜과 바람직하지 않은 상호 작용이 발생할 수 있습니다\(섹션 6.6 참조\).

트래픽 속도 샘플은 조정 간격 기간 동안\(위 또는 아래 방향\) 누적됩니다. 기간은 운영자가 구성할 수 있으며 기본값은 24시간입니다. 조정될 대역폭 계산을 담당하는 PCC는 조정 간격 기간\(위 또는 아래 방향\) 동안 수집된 대역폭-샘플 세트 중에서 LSP의 대역폭을 가장 높은 트래픽 속도 샘플\(MaxAvgBw\)로 조정하기로 결정할 수 있습니다. \) 운영자 정책에 따라 다릅니다.

가장 높은 트래픽 속도 샘플은 현재 LSP 대역폭보다 높거나 낮을 수 있습니다. LSP는 현재 대역폭 요구\(MaxAvgBw\)와 현재 대역폭 예약 간의 차이가 조정 임계값보다 크거나 같은 경우에만 현재 대역폭 요구\(MaxAvgBW\)로 조정\(업사이징\)됩니다. 조정 임계값은 절대값 또는 백분율일 수 있습니다. 임계값은 운영자가 구성할 수 있으며 기본값은 5%입니다. 마찬가지로, 현재 대역폭 예약과 현재 대역폭 요구량\(MaxAvgBw\) 간의 차이가 Down-Adjustment-Threshold\(백분율 또는 절대값\)보다 크거나 같을 경우 LSP 대역폭은 현재 대역폭 요구량에 맞게 조정\(축소\)됩니다. \(최대 평균 대역폭\). 일부 LSP는 덜 다사다난한 반면 다른 LSP는 트래픽 패턴에서 많은 변화를 겪을 수 있습니다. 대역폭 조정을 위한 임계값과 간격은 LSP의 트래픽 패턴을 기반으로 구성됩니다.

빈번한 재계약을 피하기 위해 운영자는 더 긴 조정 간격 값\(위 및/또는 아래\)을 설정할 수 있습니다. 그러나 조정 간격이 길어지면 LSP 트래픽 수요의 갑작스러운 변화를 가리는 바람직하지 않은 효과가 발생할 수 있습니다. 이를 방지하기 위해 자동 대역폭 기능은 조정 간격이 조기에 만료되도록 강제하고 LSP 대역폭을 조정하여 오버플로 조건으로 트래픽 수요가 갑자기 증가하거나 언더플로 조건으로 트래픽 수요가 감소하는 것을 수용할 수 있습니다. 운영자는 Overflow-Threshold 및/또는 Underflow-Threshold 매개변수에 대해 적절한 값을 구성해야 하며 이 문서에는 기본값이 정의되어 있지 않습니다.

이 문서의 모든 임계값은 절대값과 백분율로 표시될 수 있으며 함께 사용될 수 있습니다. 이는 LSP 대역폭 예약이 시간이 지남에 따라 매우 크거나 매우 작아질 수 있는 경우를 수용하기 위해 제공됩니다. 예를 들어, 운영자는 작은 대역폭 값부터 큰 대역폭 값까지 처리하기 위해 백분율 임계값을 사용하고 매우 큰 대역폭 값을 처리하기 위해 절대값을 사용할 수 있습니다. 두 임계값\(절대값 또는 백분율\) 중 하나가 초과되면 자동 대역폭 조정이 이루어집니다.

\(조정/오버플로우/언더플로우\) 백분율 임계값을 사용할 때 LSP 대역폭이 매우 낮은 값에서 빠르게 변경되면 백분율 임계값 교차로 인해 빈번한 자동 대역폭 조정이 트리거될 수 있습니다. 이로 인해 네트워크에서 LSP가 불필요하게 재계약될 수 있습니다. 이는 백분율 임계값과 함께 최소 임계값 매개변수를 설정하여 억제됩니다. 자동 대역폭 조정은 LSP 대역폭이 백분율 임계값과 최소 임계값 매개변수를 모두 초과하는 경우에만 수행됩니다.

---
### **4.3.  Scaling Considerations**

대역폭을 변경하려면 LSP를 다시 재지정해야 하며, 이는 네트워크에서 우선순위가 낮은 LSP의 선점을 추가로 트리거할 수 있다는 점에 유의해야 합니다. 규모에 맞게 배포하면 네트워크에서 신호 변동이 발생할 수 있습니다. 따라서 자동 대역폭 적용 알고리즘은 LSP 대역폭을 조정하기 전에 이를 고려하는 것이 좋습니다. 운영자는 배포된 LSP 규모에 적합한 다양한 자동 대역폭 조정 매개변수 값을 설정하는 것이 좋습니다.

PCE가 압도당하면 조정할 새 LSP 대역폭에 대한 보고를 일시적으로 중단하도록 PCC에 알릴 수 있습니다. 마찬가지로 PCC가 신호 이탈로 인해 압도당하는 경우 PCE에 새로운 LSP 설정 요청을 일시적으로 중단하도록 알릴 수 있습니다. 이 문서의 섹션 5.7을 참조하세요.

---
## **5.  PCEP Extensions**
---
### **5.1.  Capability Advertisement**

PCEP 초기화 단계 동안 PCEP 스피커\(PCE 또는 PCC\)는 자동 대역폭 조정 기능 지원을 광고합니다. PCEP 스피커는 PCEP 자동 대역폭 확장에 대한 지원을 알리기 위해 OPEN 개체에 AUTO-BANDWIDTH-CAPABILITY TLV를 포함합니다. OPEN 객체에 AUTO-BANDWIDTH-CAPABILITY TLV가 있다는 것은 이 문서에 설명된 대로 자동 대역폭 기능이 지원된다는 것을 나타냅니다.

\* 자동 대역폭 조정을 위한 PCEP 프로토콜 확장은 하나 또는 두 개의 PCEP 스피커가 각각의 OPEN 메시지에 AUTO-BANDWIDTH-CAPABILITY TLV를 포함하지 않은 경우 사용해서는 안 됩니다.\(MUST NOT\)

\* 이 문서에 정의된 확장을 인식하지 못하는 PCEP 스피커는 \[RFC5440\]에 따라 TLV를 무시합니다.

\* PCEP 스피커가 이 문서에 정의된 확장을 지원하지만 이 기능을 광고하지 않은 경우 LSP 속성\(LSPA\) 객체에서 AUTOBANDWIDTH-ATTRIBUTES TLV를 수신하면 오류 유형 19\(잘못된 오류\)가 있는 PCErr을 생성해야 합니다. Operation\) 및 오류 값 14\(자동 대역폭 기능이 광고되지 않음\) 및 AUTO-BANDWIDTH-ATTRIBUTES TLV를 무시합니다.\(SHOULD\)

---
#### **5.1.1.  AUTO-BANDWIDTH-CAPABILITY TLV**

AUTO-BANDWIDTH-CAPABILITY TLV는 PCEP 기능 광고를 통한 자동 대역폭 조정을 위해 OPEN 개체에서 사용하기 위한 선택적 TLV입니다. 해당 형식은 다음 그림에 나와 있습니다.

```text
    0                   1                   2                   3
    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |               Type=36         |            Length=4           |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                             Flag                              |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

               Figure 2: AUTO-BANDWIDTH-CAPABILITY TLV Format
```

TLV 유형은 36이고 길이가 4옥텟으로 고정되어 있습니다.

값은 단일 필드인 플래그\(32비트\)로 구성됩니다. 이 문서에서는 이 TLV에 대해 정의된 플래그가 없습니다.

할당되지 않은 비트는 예약된 것으로 간주됩니다. 전송 시에는 0으로 설정되어야 하며 수신 시에는 무시되어야 합니다.\(MUST\)

AUTO-BANDWIDTH-CAPABILITY TLV의 광고는 이 문서에 정의된 개체, TLV 및 절차뿐만 아니라 자동 대역폭 조정에 대한 지원을 의미합니다.

---
### **5.2.  AUTO-BANDWIDTH-ATTRIBUTES TLV**

AUTO-BANDWIDTH-ATTRIBUTES TLV는 기능의 '구성 가능한 손잡이'를 제공하며 LSPA 객체에 선택적 TLV로 포함될 수 있습니다\(\[RFC5440\]에 설명됨\).

PCE 시작 LSP \[RFC8281\]의 경우 이 TLV는 PCInitiate 메시지와 함께 LSPA 개체에 포함됩니다. PCC가 시작한 위임 LSP의 경우 이 TLV는 LSPA 객체의 PCRpt\(Path Computation State Report\) 메시지에 포함되어 전달됩니다. 이 TLV는 또한 PCUpd\(경로 계산 업데이트 요청\) 메시지와 함께 LSPA 개체에 전달되어 PCC\(LSP 헤드엔드\)에 조정 간격과 같은 자동 대역폭 속성을 업데이트하도록 지시합니다.

TLV는 자동 대역폭 조정 기능이 활성화된 동안 LSP에 대한 모든 PCEP 메시지에 인코딩됩니다. TLV가 없으면 PCEP 발언자가 기능을 비활성화하려고 함을 나타냅니다. 이 TLV에는 여러 개의 AUTO-BANDWIDTH-ATTRIBUTES 하위 TLV가 포함되어 있습니다. PCEP 메시지에 전송된 마지막 정보 이후 변경 사항이 있는 경우 AUTOBANDWIDTH-ATTRIBUTES 하위 TLV가 포함됩니다. 누락된 하위 TLV에 대한 기본값은 LSP의 첫 번째 PCEP 메시지에 적용됩니다.

AUTO-BANDWIDTH-ATTRIBUTES TLV의 형식은 다음 그림에 표시됩니다.

```text
    0                   1                   2                   3
    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |           Type=37             |           Length              |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                                                               |
   //                            sub-TLVs                          //
   |                                                               |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

               Figure 3: AUTO-BANDWIDTH-ATTRIBUTES TLV Format

   Type:  37
```

길이: 길이 필드는 \[RFC5440\]에 따라 값 부분의 길이를 바이트 단위로 정의합니다.

값: 이는 하나 이상의 하위 TLV로 구성됩니다.

이 문서에는 다음과 같은 하위 TLV가 정의되어 있습니다.

```text
   +------+-----+--------------------------------------+
   | Type | Len | Name                                 |
   +======+=====+======================================+
   | 1    | 4   | Sample-Interval                      |
   +------+-----+--------------------------------------+
   | 2    | 4   | Adjustment-Interval                  |
   +------+-----+--------------------------------------+
   | 3    | 4   | Down-Adjustment-Interval             |
   +------+-----+--------------------------------------+
   | 4    | 4   | Adjustment-Threshold                 |
   +------+-----+--------------------------------------+
   | 5    | 8   | Adjustment-Threshold-Percentage      |
   +------+-----+--------------------------------------+
   | 6    | 4   | Down-Adjustment-Threshold            |
   +------+-----+--------------------------------------+
   | 7    | 8   | Down-Adjustment-Threshold-Percentage |
   +------+-----+--------------------------------------+
   | 8    | 4   | Minimum-Bandwidth                    |
   +------+-----+--------------------------------------+
   | 9    | 4   | Maximum-Bandwidth                    |
   +------+-----+--------------------------------------+
   | 10   | 8   | Overflow-Threshold                   |
   +------+-----+--------------------------------------+
   | 11   | 8   | Overflow-Threshold-Percentage        |
   +------+-----+--------------------------------------+
   | 12   | 8   | Underflow-Threshold                  |
   +------+-----+--------------------------------------+
   | 13   | 8   | Underflow-Threshold-Percentage       |
   +------+-----+--------------------------------------+

       Table 2: Sub-TLV Types of the AUTO-BANDWIDTH-
                       ATTRIBUTES TLV
```

향후 사양에서는 추가 하위 TLV를 정의할 수 있습니다.

하위 TLV는 PCEP 피어에게 다양한 샘플링 및 조정 매개변수를 알리기 위해 인코딩됩니다. 하위 TLV가 누락된 경우 로컬 정책에 따라 기본값\(이 문서에 지정된 대로\) 또는 기타 운영자가 구성한 값이 사용됩니다.

모든 하위 TLV는 선택 사항이며 인식할 수 없는 하위 TLV는 무시해야 합니다. 동일한 유형의 하위 TLV가 두 번 이상 나타나면 첫 번째 발생만 처리되고 나머지는 모두 무시되어야 합니다.\(MUST, MUST\)

다음 하위 섹션에서는 현재 AUTO-BANDWIDTH-ATTRIBUTES TLV 내에서 전달되는 것으로 정의된 하위 TLV를 설명합니다.

---
#### **5.2.1.  Sample-Interval Sub-TLV**

Sample-Interval 하위 TLV는 트래픽 샘플이 PCC에서 수집되는 시간 간격\(초\)을 지정합니다.

```text
    0                   1                   2                   3
    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |           Type=1              |           Length=4            |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                         Sample-Interval                       |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

                  Figure 4: Sample-Interval Sub-TLV Format
```

유형은 1이고 길이는 4옥텟이며 값은 다음으로 구성됩니다.

샘플 간격: 대역폭 샘플 수집에 대한 4옥텟 시간 간격입니다. 유효한 범위는 1\~604800\(7일\)\(초\)입니다. 기본값은 300초입니다. 샘플 간격이 매우 낮은 경우에는 전송 프로토콜과 바람직하지 않은 상호 작용이 있을 수 있으므로 주의를 기울여야 합니다\(섹션 6.6 참조\). 샘플 간격 매개변수는 \(아래\) 조정 간격보다 커서는 안 됩니다. 유효하지 않은 값이 존재하는 경우, sub-TLV는 반드시 무시되고 이전 값이 유지됩니다.\(MUST NOT, MUST\)

---
#### **5.2.2.  Adjustment-Intervals**

이 섹션의 하위 TLV는 조정 간격 매개변수를 PCEP 피어에 알리기 위해 인코딩됩니다. 조정 간격 하위 TLV는 상향\(Up-Adjustment-Interval\) 및 하향\(Down-Adjustment-Interval\) 추세 모두에 대한 시간 간격을 지정합니다. 구현에서는 대역폭 사용 추세가 위쪽으로 이동할 때 사용된 추세와 아래쪽으로 이동할 때 다른 조정 간격 값을 설정해야 할 수도 있습니다. 이 경우 운영자는 Down-Adjustment-Interval의 조정 간격 값을 재정의하는 Down-Adjustment-Interval 하위 TLV를 사용할 수 있습니다.\(MAY\)

---
##### **5.2.2.1.  Adjustment-Interval Sub-TLV**

조정 간격 하위 TLV는 대역폭 조정이 위쪽 또는 아래쪽 방향으로 이루어져야 하는 시간 간격을 초 단위로 지정합니다. 이 하위 TLV는 Up-Adjustment-Interval 및 Down-Adjustment-Interval이 동일하고 Down-Adjustment-Interval 하위 TLV가 포함되지 않은 경우 해당 값을 지정합니다.

```text
    0                   1                   2                   3
    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |           Type=2              |           Length=4            |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                     Adjustment-Interval                       |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

                Figure 5: Adjustment-Interval Sub-TLV Format
```

유형은 2이고 길이는 4옥텟이며 값은 다음으로 구성됩니다.

조정 간격: 대역폭 조정을 위한 4옥텟 시간 간격입니다. 유효한 범위는 1\~604800\(7일\)\(초\)입니다. 기본값은 86400초\(1일\)입니다. 조정 간격 매개변수는 샘플 간격보다 작아서는 안 됩니다. 그렇지 않으면 하위 TLV를 무시해야 하며 이전 값이 유지됩니다.\(MUST NOT\)

---
##### **5.2.2.2.  Down-Adjustment-Interval Sub-TLV**

Down-Adjustment-Interval 하위 TLV는 MaxAvgBw가 LSP의 현재 대역폭 예약보다 작을 때 대역폭 조정이 이루어져야 하는 시간 간격을 초 단위로 지정합니다. 이 매개변수는 하향 추세에 대한 조정 간격을 재정의합니다. 이 하위 TLV는 위쪽 및 아래쪽 방향에서 서로 다른 조정 간격이 필요한 경우에만 사용됩니다.

```text
    0                   1                   2                   3
    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |           Type=3              |           Length=4            |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                  Down-Adjustment-Interval                     |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

             Figure 6: Down-Adjustment-Interval Sub-TLV Format
```

유형은 3이고 길이는 4옥텟이며 값은 다음으로 구성됩니다.

하향 조정 간격: 하향 대역폭 조정을 위한 4옥텟 시간 간격입니다. 유효한 범위는 1\~604800\(7일\)\(초\)입니다. 기본값은 조정 간격과 같습니다. Down-Adjustment-Interval 매개변수는 Sample-Interval보다 작아서는 안 됩니다. 그렇지 않으면 하위 TLV를 무시해야 하며 이전 값이 유지됩니다.\(MUST NOT\)

---
#### **5.2.3.  Adjustment-Thresholds**

이 섹션의 하위 TLV는 조정 임계값 매개변수를 PCEP 피어에 알리기 위해 인코딩됩니다. 구현에는 절대값과 백분율에 대한 하위 TLV가 모두 포함될 수 있으며, 이 경우 조정-임계값 조건 중 하나가 충족되면 대역폭이 조정됩니다. 조정 임계값 하위 TLV는 상향\(상향 조정 임계값\) 및 하향\(하향 조정 임계값\) 추세 모두에 대한 임계값을 지정합니다. 운영자가 하향 추세 동안 다른 조정 임계값을 사용하려는 경우 하향 조정 임계값 하위 TLV가 포함됩니다. 마찬가지로, 조정-임계값-백분율 하위 TLV는 상승 추세와 하락 추세 모두에 대한 임계값 백분율을 지정합니다. 운영자가 하향 추세 동안 다른 조정-임계값 백분율을 사용하려는 경우 하향 조정-임계값-백분율 하위 TLV가 포함됩니다. 임계값 설정 방법에 관계없이 임계값과의 비교 기준이 되는 샘플이 만들어지지 않기 때문에 최소한 하나의 샘플 간격이 경과할 때까지 조정이 이루어지지 않는다는 점은 주목할 가치가 있습니다.\(MAY\)

---
##### **5.2.3.1.  Adjustment-Threshold Sub-TLV**

조정 임계값 하위 TLV는 LSP 대역폭을 상향 또는 하향 방향으로 조정해야 하는 시기를 결정하는 데 사용됩니다. 이 하위 TLV는 Up-Adjustment-Threshold와 Down-Adjustment-Threshold가 동일하고 Down-Adjustment-Threshold 하위 TLV가 포함되지 않은 경우 이에 대한 절대값을 지정합니다.

```text
    0                   1                   2                   3
    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |           Type=4              |           Length=4            |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                     Adjustment-Threshold                      |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

               Figure 7: Adjustment-Threshold Sub-TLV Format
```

유형은 4이고 길이는 4옥텟이며 값은 다음으로 구성됩니다.

조정-임계값: IEEE 부동 소수점 형식\(\[IEEE.754.1985\] 참조\)으로 인코딩되고 초당 바이트 수로 표시되는 절대 조정-임계값 대역폭 차이 값입니다. 기본 조정 임계값은 설정되지 않습니다. 일반적으로 사용되는 값의 표는 \[RFC3471\]의 섹션 3.1.2를 참조하세요.

현재 MaxAvgBw와 현재 대역폭 예약 간의 차이 계수가 임계값보다 크거나 같으면 LSP 대역폭은 현재 대역폭 요구\(MaxAvgBw\)에 맞게 조정됩니다.

유효하지 않은 값이 존재하는 경우, sub-TLV는 반드시 무시되고 이전 값이 유지됩니다.\(MUST\)

---
##### **5.2.3.2.  Adjustment-Threshold-Percentage Sub-TLV**

조정-임계값-백분율 하위 TLV는 LSP 대역폭을 상향 또는 하향 방향으로 조정해야 하는 시점을 결정하는 데 사용됩니다. 이 하위 TLV는 상향 조정 임계값과 하향 조정 임계값이 동일하고 하향 조정 임계값 백분율 하위 TLV가 포함되지 않은 경우 해당 백분율 값을 지정합니다.

```text
    0                   1                   2                   3
    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |           Type=5              |           Length=8            |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                  Reserved                       |  Percentage |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                        Minimum-Threshold                      |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

          Figure 8: Adjustment-Threshold-Percentage Sub-TLV Format
```

유형은 5이고 길이는 8옥텟이며 값은 다음으로 구성됩니다.

예약됨: 전송 시 0으로 설정되어야 하며 수신 시 무시되어야 합니다.\(MUST\)

백분율: 백분율\(1에서 100까지의 정수\)로 인코딩된 조정 임계값\(7비트\)입니다. 값 0은 유효하지 않은 것으로 간주됩니다. 기본값은 5%입니다.

최소 임계값: IEEE 부동 소수점 형식\(\[IEEE.754.1985\] 참조\)으로 인코딩되고 초당 바이트 수로 표시되는 절대 최소 임계값 대역폭 값입니다. LSP 대역폭의 증가 또는 감소는 대역폭 조정이 이루어지기 전에 최소 임계값 이상이어야 합니다. 기본값은 0입니다.\(MUST\)

현재 MaxAvgBw와 현재 대역폭 예약 간의 백분율 절대 차이가 임계 백분율보다 크거나 같고 대역폭 차이가 최소 임계값 이상인 경우 LSP 대역폭은 현재 대역폭 요구\(MaxAvgBw\)에 맞게 조정됩니다. \).

유효하지 않은 값이 존재하는 경우, sub-TLV는 반드시 무시되고 이전 값이 유지됩니다.\(MUST\)

---
##### **5.2.3.3.  Down-Adjustment-Threshold Sub-TLV**

하향 조정 임계값 하위 TLV는 MaxAvgBw가 현재 대역폭 예약보다 작을 때 LSP 대역폭을 조정해야 하는 시기를 결정하는 데 사용됩니다. 이 매개변수는 하향 추세에 대한 조정 임계값을 재정의합니다. 이 하위 TLV는 상향 및 하향 방향에서 다른 임계값이 필요한 경우에만 사용됩니다.

```text
    0                   1                   2                   3
    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |           Type=6              |           Length=4            |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                    Down-Adjustment-Threshold                  |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

             Figure 9: Down-Adjustment-Threshold Sub-TLV Format
```

유형은 6이고 길이는 4옥텟이며 값은 다음으로 구성됩니다.

하향 조정 임계값: IEEE 부동 소수점 형식\(\[IEEE.754.1985\] 참조\)으로 인코딩되고 초당 바이트 수로 표시되는 절대 하향 조정 임계값 대역폭 값입니다. 기본값은 조정 임계값과 같습니다. 일반적으로 사용되는 값의 표는 \[RFC3471\]의 섹션 3.1.2를 참조하세요.

현재 대역폭 예약과 현재 MaxAvgBw 간의 차이가 임계값보다 크거나 같으면 LSP 대역폭은 현재 대역폭 요구\(MaxAvgBw\)에 맞게 조정됩니다.

유효하지 않은 값이 존재하는 경우, sub-TLV는 반드시 무시되고 이전 값이 유지됩니다.\(MUST\)

---
##### **5.2.3.4.  Down-Adjustment-Threshold-Percentage Sub-TLV**

Down-Adjustment-Threshold-Percentage 하위 TLV는 MaxAvgBw가 현재 대역폭 예약보다 작을 때 LSP 대역폭을 조정해야 하는 시기를 결정하는 데 사용됩니다. 이 매개변수는 하향 추세에 대한 조정-임계값-백분율을 재정의합니다. 이 하위 TLV는 상향 및 하향 방향에서 다른 임계값 백분율이 필요한 경우에만 사용됩니다.

```text
    0                   1                   2                   3
    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |           Type=7              |           Length=8            |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                  Reserved                       |  Percentage |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                        Minimum-Threshold                      |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

       Figure 10: Down-Adjustment-Threshold-Percentage Sub-TLV Format
```

유형은 7이고 길이는 8옥텟이며 값은 다음으로 구성됩니다.

예약됨: 전송 시 0으로 설정되어야 하며 수신 시 무시되어야 합니다.\(MUST\)

백분율: 하향 조정 임계값\(7비트\)은 백분율\(1에서 100까지의 정수\)로 인코딩됩니다. 값 0은 유효하지 않은 것으로 간주됩니다. 기본값은 조정 임계값 백분율과 같습니다.

최소 임계값: IEEE 부동 소수점 형식\(\[IEEE.754.1985\] 참조\)으로 인코딩되고 초당 바이트 수로 표시되는 절대 최소 임계값 대역폭 값입니다. LSP 대역폭의 감소는 대역폭 조정이 이루어지기 전에 최소 임계값 이상이어야 합니다. 기본값은 조정 임계값 백분율의 최소 임계값과 같습니다.\(MUST\)

현재 대역폭 예약과 현재 MaxAvgBw 간의 백분율 차이가 임계값 백분율보다 크거나 같고 대역폭 차이가 최소 임계값 이상인 경우 LSP 대역폭은 현재 대역폭 요구\(MaxAvgBw\)에 맞게 조정됩니다. .

유효하지 않은 값이 존재하는 경우, sub-TLV는 반드시 무시되고 이전 값이 유지됩니다.\(MUST\)

---
#### **5.2.4.  Minimum and Maximum-Bandwidth Values**
---
##### **5.2.4.1.  Minimum-Bandwidth Sub-TLV**

최소 대역폭 하위 TLV는 LSP에 허용되는 최소 대역폭을 지정하고 초당 바이트 수로 표시됩니다. LSP 대역폭은 최소 대역폭 값 아래로 조정할 수 없습니다.

```text
    0                   1                   2                   3
    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |           Type=8              |           Length=4            |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                        Minimum-Bandwidth                      |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

                Figure 11: Minimum-Bandwidth Sub-TLV Format
```

유형은 8이고 길이는 4옥텟이며 값은 다음으로 구성됩니다.

최소 대역폭: IEEE 부동 소수점 형식\(\[IEEE.754.1985\] 참조\)으로 인코딩되고 초당 바이트 수로 표시되는 4옥텟 대역폭 값입니다. 기본 최소 대역폭 값은 0으로 설정됩니다. 일반적으로 사용되는 값 표는 \[RFC3471\]의 섹션 3.1.2를 참조하세요.

유효하지 않은 값이 존재하는 경우, sub-TLV는 반드시 무시되고 이전 값이 유지됩니다.\(MUST\)

---
##### **5.2.4.2.  Maximum-Bandwidth Sub-TLV**

최대 대역폭 하위 TLV는 LSP에 허용되는 최대 대역폭을 지정하고 초당 바이트 수로 표시됩니다. LSP 대역폭은 최대 대역폭 값 이상으로 조정할 수 없습니다.

```text
    0                   1                   2                   3
    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |           Type=9              |           Length=4            |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                        Maximum-Bandwidth                      |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

                Figure 12: Maximum-Bandwidth Sub-TLV Format
```

유형은 9이고 길이는 4옥텟이며 값은 다음으로 구성됩니다.

최대 대역폭: IEEE 부동 소수점 형식\(\[IEEE.754.1985\] 참조\)으로 인코딩되고 초당 바이트 수로 표시되는 4옥텟 대역폭 값입니다. 기본 최대 대역폭 값은 설정되지 않습니다. 일반적으로 사용되는 값의 표는 \[RFC3471\]의 섹션 3.1.2를 참조하세요.

유효하지 않은 값이 존재하는 경우, sub-TLV는 반드시 무시되고 이전 값이 유지됩니다.\(MUST\)

---
#### **5.2.5.  Overflow and Underflow Conditions**

이 섹션의 하위 TLV는 PCEP 피어에게 오버플로 및 언더플로 임계값 매개변수를 알리기 위해 인코딩됩니다. 구현에는 임계값에 대한 절대값 및/또는 백분율에 대한 하위 TLV가 포함될 수 있습니다. 이 경우 임계값 조건 중 하나가 주어진 카운트에 대해 연속적으로 충족되면\(대역폭의 차이가 있는 한\) 대역폭이 즉시 조정됩니다. 최소 임계값 이상\). 기본적으로 오버플로 및 언더플로 조건에 대한 임계값은 설정되지 않습니다.\(MAY\)

---
##### **5.2.5.1.  Overflow-Threshold Sub-TLV**

Overflow-Threshold 하위 TLV는 LSP 대역폭을 즉시 조정해야 하는지 결정하는 데 사용됩니다.

```text
    0                   1                   2                   3
    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |           Type=10             |           Length=8            |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                       Reserved                      |  Count  |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                       Overflow-Threshold                      |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

                Figure 13: Overflow-Threshold Sub-TLV Format
```

유형은 10이고 길이는 8옥텟이며 값은 다음으로 구성됩니다.

예약됨: 전송 시 0으로 설정되어야 하며 수신 시 무시되어야 합니다.\(MUST\)

개수: 정수로 인코딩된 오버플로 개수 값\(5비트\)입니다. 값 0은 유효하지 않은 것으로 간주됩니다. LSP 대역폭에 대해 오버플로 조건을 충족해야 하는 연속 샘플 수는 \(위\) 조정 간격을 우회하여 현재 대역폭 요구에 맞게 즉시 조정됩니다.\(MUST\)

오버플로 임계값: IEEE 부동 소수점 형식\(\[IEEE.754.1985\] 참조\)으로 인코딩되고 초당 바이트 수로 표시되는 절대 오버플로 임계값 대역폭 값입니다. 일반적으로 사용되는 값의 표는 \[RFC3471\]의 섹션 3.1.2를 참조하세요. 현재 MaxAvgBw와 현재 대역폭 예약 간의 차이가 임계값보다 크거나 같으면 오버플로 조건이 충족됩니다.

유효하지 않은 값이 존재하는 경우, sub-TLV는 반드시 무시되고 이전 값이 유지됩니다.\(MUST\)

---
##### **5.2.5.2.  Overflow-Threshold-Percentage Sub-TLV**

Overflow-Threshold-Percentage 하위 TLV는 LSP 대역폭을 즉시 조정해야 하는지 결정하는 데 사용됩니다.

```text
    0                   1                   2                   3
    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |           Type=11             |           Length=8            |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |  Percentage |             Reserved                  |  Count  |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                        Minimum-Threshold                      |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

          Figure 14: Overflow-Threshold-Percentage Sub-TLV Format
```

유형은 11이고 길이는 8옥텟이며 값은 다음으로 구성됩니다.

백분율: 백분율\(1에서 100까지의 정수\)로 인코딩된 오버플로 임계값\(7비트\)입니다. 값 0은 유효하지 않은 것으로 간주됩니다. 현재 대역폭 예약에서 현재 MaxAvgBw의 백분율 증가가 임계값 백분율보다 크거나 같으면 오버플로 조건이 충족됩니다.

예약됨: 전송 시 0으로 설정되어야 하며 수신 시 무시되어야 합니다.\(MUST\)

개수: 정수로 인코딩된 오버플로 개수 값\(5비트\)입니다. 값 0은 유효하지 않은 것으로 간주됩니다. LSP 대역폭에 대해 오버플로 조건을 충족해야 하는 연속 샘플 수는 \(위\) 조정 간격을 우회하여 현재 대역폭 요구에 맞게 즉시 조정됩니다.\(MUST\)

최소 임계값: IEEE 부동 소수점 형식\(\[IEEE.754.1985\] 참조\)으로 인코딩되고 초당 바이트 수로 표시되는 절대 최소 임계값 대역폭 값입니다. LSP 대역폭의 증가는 대역폭 조정이 이루어지기 전에 최소 임계값 이상이어야 합니다.\(MUST\)

유효하지 않은 값이 존재하는 경우, sub-TLV는 반드시 무시되고 이전 값이 유지됩니다.\(MUST\)

---
##### **5.2.5.3.  Underflow-Threshold Sub-TLV**

Underflow-Threshold 하위 TLV는 LSP 대역폭을 즉시 조정해야 하는지 결정하는 데 사용됩니다.

```text
    0                   1                   2                   3
    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |           Type=12             |           Length=8            |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                      Reserved                       |  Count  |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                      Underflow-Threshold                      |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

               Figure 15: Underflow-Threshold Sub-TLV Format
```

유형은 12이고 길이는 8옥텟이며 값은 다음으로 구성됩니다.

예약됨: 전송 시 0으로 설정되어야 하며 수신 시 무시되어야 합니다.\(MUST\)

Count: 정수로 인코딩된 Underflow-Count 값\(5비트\)입니다. 값 0은 유효하지 않은 것으로 간주됩니다. LSP 대역폭에 대해 언더플로우 조건을 충족해야 하는 연속 샘플 수는 Down-Adjustment-Interval을 우회하여 현재 대역폭 요구에 맞게 즉시 조정됩니다.\(MUST\)

언더플로우 임계값: IEEE 부동 소수점 형식\(\[IEEE.754.1985\] 참조\)으로 인코딩되고 초당 바이트 수로 표시되는 절대 언더플로우 임계값 대역폭 값입니다. 일반적으로 사용되는 값의 표는 \[RFC3471\]의 섹션 3.1.2를 참조하세요. 현재 MaxAvgBw와 현재 대역폭 예약 간의 차이가 임계값보다 크거나 같으면 언더플로 조건이 충족됩니다.

유효하지 않은 값이 존재하는 경우, sub-TLV는 반드시 무시되고 이전 값이 유지됩니다.\(MUST\)

---
##### **5.2.5.4.  Underflow-Threshold-Percentage Sub-TLV**

Underflow-Threshold-Percentage 하위 TLV는 LSP 대역폭을 즉시 조정해야 하는지 결정하는 데 사용됩니다.

```text
    0                   1                   2                   3
    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |           Type=13             |           Length=8            |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |  Percentage |             Reserved                  |  Count  |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                        Minimum-Threshold                      |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

          Figure 16: Underflow-Threshold-Percentage Sub-TLV Format
```

유형은 13이고 길이는 8옥텟이며 값은 다음으로 구성됩니다.

백분율: 백분율\(1에서 100까지의 정수\)로 인코딩된 언더플로 임계값\(7비트\)입니다. 값 0은 유효하지 않은 것으로 간주됩니다. 현재 대역폭 예약에서 현재 MaxAvgBw의 감소율이 임계값 백분율보다 크거나 같으면 언더플로우 조건이 충족됩니다.

예약됨: 전송 시 0으로 설정되어야 하며 수신 시 무시되어야 합니다.\(MUST\)

Count: 정수로 인코딩된 Underflow-Count 값\(5비트\)입니다. 값 0은 유효하지 않은 것으로 간주됩니다. LSP 대역폭에 대해 언더플로우 조건을 충족해야 하는 연속 샘플 수는 Down-Adjustment-Interval을 우회하여 현재 대역폭 요구에 맞게 즉시 조정됩니다.\(MUST\)

최소 임계값: IEEE 부동 소수점 형식\(\[IEEE.754.1985\] 참조\)으로 인코딩되고 초당 바이트 수로 표시되는 절대 최소 임계값 대역폭 값입니다. LSP 대역폭의 감소는 대역폭 조정이 이루어지기 전에 최소 임계값 이상이어야 합니다.\(MUST\)

유효하지 않은 값이 존재하는 경우, sub-TLV는 반드시 무시되고 이전 값이 유지됩니다.\(MUST\)

---
### **5.3.  BANDWIDTH Object**

\[RFC5440\]에 따라 BANDWIDTH 개체\(Object-Class 값 5\)는 다음과 같이 두 개의 개체 유형 값으로 정의됩니다.

요청된 대역폭: BANDWIDTH 개체 유형 값은 1입니다.

재최적화 대역폭: 재최적화가 요청되는 기존 TE LSP의 대역폭입니다. BANDWIDTH 개체 유형 값은 2입니다.

PCC는 BANDWIDTH Object-Type이 1인 기존 'Requested Bandwidth'를 사용하여 계산된 조정 대역폭\(MaxAvgBw\)을 Stateful PCE에 보고합니다. BANDWIDTH Object-Type이 2인 '재최적화 대역폭' 보고는 필요하지 않습니다. 상태 저장 PCE는 기존 LSP 대역폭을 인식하기 때문입니다.

---
### **5.4.  The PCInitiate Message**

PCInitiate 메시지는 LSP 인스턴스화 또는 삭제를 트리거하기 위해 PCE가 PCC로 보내는 PCEP 메시지입니다\[RFC8281\].

자동 대역폭 기능이 활성화된 PCE 시작 LSP의 경우 AUTO-BANDWIDTH-ATTRIBUTES TLV는 PCInitiate 메시지와 함께 LSPA 개체에 포함되어야 합니다.\(MUST\)

PCInitiate 메시지 \[RFC8281\]의 RBNF\(Routing Backus-Naur Form\) 정의는 이 문서에서 변경되지 않았습니다.

---
### **5.5.  The PCUpd Message**

PCUpd 메시지는 LSP 매개변수\[RFC8231\]를 업데이트하기 위해 PCE가 PCC로 보내는 PCEP 메시지입니다.

자동 대역폭 기능이 활성화된 PCE 시작 LSP의 경우 AUTO-BANDWIDTH-ATTRIBUTES TLV는 PCUpd 메시지와 함께 LSPA 객체에 포함되어야 합니다. PCE는 이 TLV를 보내 PCC에 자동 대역폭 매개변수를 변경하도록 지시할 수 있습니다.\(MUST\)

PCUpd 메시지 \[RFC8231\]의 RBNF 정의는 이 문서에서 변경되지 않았습니다.

---
### **5.6.  The PCRpt Message**

PCRpt 메시지 \[RFC8231\]는 하나 이상의 LSP의 상태를 보고하기 위해 PCC가 PCE로 보내는 PCEP 메시지이다.

PCE 시작 LSP \[RFC8281\]의 경우 PCC는 PCE가 전달한 속성과 지정되지 않은 매개변수에 대한 로컬 값을 사용하여 LSP를 생성합니다. LSP 인스턴스화에 성공하면 PCC는 자동으로 LSP를 PCE에 위임하고 PCRpt 메시지를 생성하여 LSP에 대한 상태 보고서를 제공합니다.

PCE 시작 LSP와 PCC 시작 LSP 모두에 대해 LSP가 성공적인 위임 이후뿐만 아니라 처음으로 PCE에 위임될 때 유형 1의 BANDWIDTH 객체는 PCRpt 메시지에서 요청된 대역폭을 지정하는 데 사용됩니다.

PCRpt 메시지 \[RFC8231\]의 RBNF 정의는 이 문서에서 변경되지 않습니다.

---
### **5.7.  The PCNtf Message**

\[RFC5440\]에 따라 PCEP 알림 메시지\(PCNtf\)는 PCEP 스피커에 의해 전송되어 피어에게 특정 이벤트를 알릴 수 있습니다.

PCEP 스피커\(PCE 또는 PCC\)는 자동 대역폭 기능으로 인해 압도된 상태에 있을 때 PCEP 피어\(PCC 또는 PCE\)에게 알려야 합니다. 구현에서는 이 알림을 보내는 것이 로드를 더 증가시키는 역할만 하지 않는 한 이 알림을 보내려고 시도해야 합니다\(자동 대역폭 조정으로 인해 압도당하는 경우\). 알림이 수신되지 않으면 PCEP 발표자는 적시에 처리할 수 없는 경우에도 대역폭 조정을 계속 요청합니다.\(SHOULD\)

자동 대역폭 초과 알림을 수신하면 피어는 자동 대역폭 조정과 관련된 PCEP 메시지를 보내서는 안 됩니다. 압도된 상태에서 자동 대역폭 조정과 관련된 PCEP 메시지가 수신되면 무시해야 합니다.\(SHOULD NOT, MUST\)

\* PCEP 스피커가 압도되면 알림 유형 = 5\(자동 대역폭 압도 상태\) 및 알림 값 = 1\(자동 대역폭 압도 상태 진입\)로 PCNtf 메시지를 전송하여 피어에게 알려야 합니다. 선택적으로 자동 대역폭 조정과 관련된 추가 PCEP 메시지가 전송되지 않아야 하는 기간을 지정하기 위해 OVERLOADED-DURATION TLV \[RFC5440\]가 포함될 수 있습니다.\(SHOULD, MAY\)

\* PCEP 스피커가 더 이상 압도 상태가 아니며 자동 대역폭 조정을 처리할 수 있는 경우 알림 유형 = 5\(자동 대역폭 압도 상태\) 및 알림 값을 사용하여 PCNtf 메시지를 전송하여 피어에게 알려야 합니다. = 2\(자동 대역폭 압도 상태 지우기\). PCEP 스피커는 알림 메시지\(알림 유형 = 5, 알림 값 = 1\)가 이전에 전송된 경우 모든 피어에게 이러한 알림을 보내야 합니다. OVERLOADED-DURATION TLV가 포함되어 있고 PCEP 화자가 자동 ​​대역폭 조정과 관련된 추가 PCEP 메시지를 수신하기 전에 피어가 해당 시간이 만료될 때까지 기다리기를 원하는 경우 이 메시지는 전송되지 않습니다.\(SHOULD, SHOULD\)

자동 대역폭 기능이 배포되면 PCE는 빈번한 자동 대역폭 조정을 보고할 때 PCC에 이 알림을 보낼 수 있습니다. PCC가 재계약으로 인해 압도당하는 경우 압도 상태에 있는 동안 LSP 대역폭을 조정하지 않도록 PCE에 알릴 수도 있습니다.

압도 상태의 진동을 방지하기 위한 일부 약화 알림 절차\(\[RFC5440\]에 따름\)가 권장됩니다. PCE로부터 자동 대역폭 초과 알림을 수신하면 PCC는 전체 네트워크에 대한 영향을 고려해야 합니다. 자동 대역폭이 활성화된 LSP의 위임을 다른 PCE로 이동하면 추가 과부하가 발생할 수 있습니다.\(SHOULD\)

---
## **6.  Manageability Considerations**
---
### **6.1.  Control of Function and Policy**

자동 대역폭 기능은 LSP별로\(PCC\(LSP의 헤드엔드\) 또는 PCE에서\) 제어되어야 하며 자동 대역폭 매개변수의 값\(예: 샘플 간격, 조정 간격\(최대\)\) / 아래\), 최소 대역폭, 최대 대역폭 및 조정 임계값\(위/아래\)은 운영자가 구성할 수 있어야 합니다\(SHOULD\).\(SHOULD\)

나머지 MPLS-TE 도메인에 영향을 미치지 않도록 최대 대역폭\(및 최소 대역폭\)을 허용 가능한 제한으로 설정해야 합니다.

운영자는 오버플로 임계값이 상향 조정 임계값보다 크거나 최소한 같은지 확인해야 합니다. 마찬가지로 Underflow-Threshold가 Down-Adjustment-Threshold보다 크거나 최소한 같은지 확인하는 것이 중요합니다.

---
### **6.2.  Information and Data Models**

PCEP에 대한 운영 정보를 수집하기 위한 MIB 모듈은 \[RFC7420\]에 정의되어 있습니다. 또한 \[PCE-PCEP-YANG\]에 정의된 YANG 모듈은 PCEP 구성과 운영 관리를 모두 제공합니다. 이는 자동 대역폭 기능 지원을 위한 컨트롤 및 표시기를 제공하도록 향상될 수 있습니다. 이 문서에 정의된 TLV를 포함하는 전송/수신된 메시지 카운터뿐만 아니라 다양한 구성 노브에 대한 지원이 추가될 수 있습니다.

---
### **6.3.  Liveness Detection and Monitoring**

이 문서에 정의된 메커니즘은 \[RFC5440\]에 이미 나열된 요구 사항 외에 새로운 활성 감지 및 모니터링 요구 사항을 의미하지 않습니다.

---
### **6.4.  Verifying Correct Operations**

이 문서에 정의된 메커니즘은 \[RFC5440\]에 이미 나열된 요구사항 외에 새로운 작동 검증 요구사항을 의미하지 않습니다.

유효하지 않은 값이 존재하는 경우 하위 TLV는 무시되고 이전 값이 유지됩니다. 이러한 경우 구현에서는 이벤트를 기록해야 합니다.\(SHOULD\)

---
### **6.5.  Requirements for Other Protocols**

이 문서에 정의된 메커니즘은 다른 프로토콜에 대한 새로운 요구 사항을 추가하지 않습니다.

---
### **6.6.  Impact on Network Operations**

네트워크 운영에 허용할 수 없는 영향을 피하기 위해 구현에서는 자동 대역폭 기능으로 활성화할 수 있는 LSP 수에 제한을 두는 것을 허용해야 합니다. 자동 대역폭 기능이 활성화된 각 LSP의 경우 트래픽을 모니터링하고 계산된 대역폭을 PCE에 보고해야 하므로 PCC에 추가 로드가 발생합니다. PCE는 요청된 대역폭을 기반으로 경로를 다시 계산하고 PCC에 대한 경로를 업데이트합니다. 그러면 경로 재계약이 트리거됩니다. 이러한 모든 단계는 네트워크에 추가 부하와 이탈을 추가합니다. 따라서 운영자는 여러 LSP에서 이러한 기능을 활성화하는 동안 적절한 주의를 기울여야 합니다.\(SHOULD\)

구현에서는 PCEP 스피커가 전송하고 피어가 수신하는 자동 대역폭 관련 메시지의 속도에 제한을 두는 것을 허용할 수 있습니다. 또한 구현에서는 PCEP 발언자가 너무 많거나 메시지 속도가 임계값에 도달할 때 알림이 전송되도록 허용해야 합니다\(SHOULD\).\(MAY, SHOULD\)

기본값\(5분\)보다 훨씬 작은 Sample-Interval 값을 사용하는 경우 운영자는 적절한 주의를 기울여야 합니다. 작은 Sample-Interval 값\(예: 1분 이하\)은 전송 프로토콜과 바람직하지 않은 상호 작용을 일으킬 수 있기 때문입니다. 이러한 바람직하지 않은 상호 작용은 다음 대역폭 조정을 위해 대역폭 샘플을 가져오기 전에 이전 대역폭 조정에 대한 전송 프로토콜 반응에 충분한 시간을 제공하지 않아 발생합니다.

---
## **7.  Security Considerations**

이 문서는 상태 저장 PCE 작업에 대해 \[RFC8231\] 및 \[RFC8281\]에서 이미 논의한 것 외에 실질적인 새로운 보안 문제를 추가하지 않는 AUTO-BANDWIDTH-CAPABILITY TLV 및 AUTO-BANDWIDTH-ATTRIBUTES 하위 TLV를 정의합니다. \[RFC8231\]에 따라 이러한 PCEP 확장은 권장 사항 및 현재 최상의 방법에 따라 TLS\(전송 계층 보안\) \[RFC8253\]를 사용하여 동일한 관리 기관에 속하는 PCE 및 PCC의 인증되고 암호화된 세션에서만 활성화되는 것이 좋습니다. BCP 195 \[RFC7525\]의 관행\(\[RFC8253\]에서 명시적으로 따로 설정되지 않은 경우\).\(SHOULD\)

AUTO-BANDWIDTH-ATTRIBUTES 하위 TLV의 잘못된 자동 대역폭 매개변수는 네트워크뿐만 아니라 LSP에도 부정적인 영향을 미칠 수 있습니다.

---
## **8.  IANA Considerations**
---
### **8.1.  PCEP TLV Type Indicators**

이 문서는 다음과 같은 새로운 PCEP TLV를 정의합니다. IANA는 "PCEP\(경로 계산 요소 프로토콜\) 번호" 레지스트리의 "PCEP TLV 유형 표시기" 하위 레지스트리에서 다음과 같이 할당했습니다.

```text
   +-------+---------------------------+-----------+
   | Value | Description               | Reference |
   +=======+===========================+===========+
   | 36    | AUTO-BANDWIDTH-CAPABILITY | [RFC8733] |
   +-------+---------------------------+-----------+
   | 37    | AUTO-BANDWIDTH-ATTRIBUTES | [RFC8733] |
   +-------+---------------------------+-----------+

           Table 3: PCEP TLV Type Indicators
```

---
### **8.2.  AUTO-BANDWIDTH-CAPABILITY TLV Flag Field**

IANA는 "PCEP\(경로 계산 요소 프로토콜\) 번호" 레지스트리 내에서 AUTOBANDWIDTH-CAPABILITY TLV의 플래그 필드를 관리하기 위해 하위 레지스트리를 만들었습니다.

새로운 비트 번호는 Standards Action \[RFC8126\]에 의해 할당됩니다. 각 비트는 다음 특성으로 추적되어야 합니다.

```text
   *  Bit number (counting from bit 0 as the most significant bit)

   *  Capability description

   *  Defining RFC
```

하위 레지스트리의 초기 내용은 비어 있으며 모든 비트가 할당되지 않은 것으로 표시됩니다.

---
### **8.3.  AUTO-BANDWIDTH-ATTRIBUTES Sub-TLV**

이 문서는 AUTO-BANDWIDTH-ATTRIBUTES 하위 TLV를 지정합니다. IANA는 AUTO-BANDWIDTH-ATTRIBUTES TLV의 하위 TLV에 대한 유형 표시 공간을 관리하기 위해 "PCEP\(경로 계산 요소 프로토콜\) 번호" 레지스트리 내에 "AUTO-BANDWIDTH-ATTRIBUTES 하위 TLV 유형" 하위 레지스트리를 만들었습니다. 레지스트리의 유효한 값 범위는 0-65535입니다. IANA는 다음 값으로 레지스트리를 초기화했습니다. 레지스트리의 다른 모든 값은 "할당되지 않음"으로 표시되어야 합니다.

IANA는 이 레지스트리에 대한 등록 절차를 다음과 같이 설정했습니다.

```text
   +-------------+------------------------+
   | Range       | Registration Procedure |
   +=============+========================+
   | 0-65503     | IETF Review            |
   +-------------+------------------------+
   | 65504-65535 | Experimental Use       |
   +-------------+------------------------+

     Table 4: Registration Procedure for
     the "AUTO-BANDWIDTH-ATTRIBUTES Sub-
                TLV" Registry
```

이 문서에서는 다음 유형을 정의합니다.

```text
   +----------+--------------------------------------+-----------+
   | Type     | Name                                 | Reference |
   +==========+======================================+===========+
   | 0        | Reserved                             | [RFC8733] |
   +----------+--------------------------------------+-----------+
   | 1        | Sample-Interval                      | [RFC8733] |
   +----------+--------------------------------------+-----------+
   | 2        | Adjustment-Interval                  | [RFC8733] |
   +----------+--------------------------------------+-----------+
   | 3        | Down-Adjustment-Interval             | [RFC8733] |
   +----------+--------------------------------------+-----------+
   | 4        | Adjustment-Threshold                 | [RFC8733] |
   +----------+--------------------------------------+-----------+
   | 5        | Adjustment-Threshold-Percentage      | [RFC8733] |
   +----------+--------------------------------------+-----------+
   | 6        | Down-Adjustment-Threshold            | [RFC8733] |
   +----------+--------------------------------------+-----------+
   | 7        | Down-Adjustment-Threshold-Percentage | [RFC8733] |
   +----------+--------------------------------------+-----------+
   | 8        | Minimum-Bandwidth                    | [RFC8733] |
   +----------+--------------------------------------+-----------+
   | 9        | Maximum-Bandwidth                    | [RFC8733] |
   +----------+--------------------------------------+-----------+
   | 10       | Overflow-Threshold                   | [RFC8733] |
   +----------+--------------------------------------+-----------+
   | 11       | Overflow-Threshold-Percentage        | [RFC8733] |
   +----------+--------------------------------------+-----------+
   | 12       | Underflow-Threshold                  | [RFC8733] |
   +----------+--------------------------------------+-----------+
   | 13       | Underflow-Threshold-Percentage       | [RFC8733] |
   +----------+--------------------------------------+-----------+
   | 14-65503 | Unassigned                           | [RFC8733] |
   +----------+--------------------------------------+-----------+

     Table 5: Initial Contents of the "AUTO-BANDWIDTH-ATTRIBUTES
                          Sub-TLV" Registry
```

---
### **8.4.  Error Object**

이 문서는 오류 유형 19\(잘못된 작업\) \[RFC8231\]의 PCErr 메시지에 대한 새로운 오류 값을 정의합니다. IANA는 "PCEP\(경로 계산 요소 프로토콜\) 번호" 레지스트리의 "PCEP-ERROR 개체 오류 유형 및 값" 하위 레지스트리 내에 다음과 같이 새로운 오류 값을 할당했습니다.

```text
   +------------+-----------+--------------------+-----------+
   | Error-Type | Meaning   | Error-value        | Reference |
   +============+===========+====================+===========+
   | 19         | Invalid   | 14: Auto-Bandwidth | [RFC8733] |
   |            | Operation | capability was not |           |
   |            |           | advertised         |           |
   +------------+-----------+--------------------+-----------+

     Table 6: Addition to the "PCEP-ERROR Object Error Types
                       and Values" Registry
```

---
### **8.5.  Notification Object**

IANA는 다음과 같이 "PCEP\(경로 계산 요소 프로토콜\) 번호" 레지스트리의 "알림 개체" 하위 레지스트리 내에 새로운 알림 유형 및 알림 값을 할당했습니다.

```text
   +-------------------+----------------+--------------------+---------+
   | Notification-type | Name           | Notification-value |Reference|
   +===================+================+====================+=========+
   | 5                 | Auto-Bandwidth | 0: Unassigned      |[RFC8733]|
   |                   |Overwhelm State |                    |         |
   +-------------------+----------------+--------------------+---------+
   |                   |                | 1: Entering Auto-  |[RFC8733]|
   |                   |                |Bandwidth Overwhelm |         |
   |                   |                | State              |         |
   +-------------------+----------------+--------------------+---------+
   |                   |                | 2: Clearing Auto-  |[RFC8733]|
   |                   |                |Bandwidth Overwhelm |         |
   |                   |                | State              |         |
   +-------------------+----------------+--------------------+---------+

          Table 7: Additions to the "Notification Object" Registry
```

---
## **9.  References**
---
### **9.1.  Normative References**

```text
   [IEEE.754.1985]
              IEEE, "Standard for Binary Floating-Point Arithmetic",
              DOI 10.1109/IEEESTD.1985.82928, IEEE Standard 754, October
              1985, <https://doi.org/10.1109/IEEESTD.1985.82928>.

   [RFC2119]  Bradner, S., "Key words for use in RFCs to Indicate
              Requirement Levels", BCP 14, RFC 2119,
              DOI 10.17487/RFC2119, March 1997,
              <https://www.rfc-editor.org/info/rfc2119>.

   [RFC5440]  Vasseur, JP., Ed. and JL. Le Roux, Ed., "Path Computation
              Element (PCE) Communication Protocol (PCEP)", RFC 5440,
              DOI 10.17487/RFC5440, March 2009,
              <https://www.rfc-editor.org/info/rfc5440>.

   [RFC7525]  Sheffer, Y., Holz, R., and P. Saint-Andre,
              "Recommendations for Secure Use of Transport Layer
              Security (TLS) and Datagram Transport Layer Security
              (DTLS)", BCP 195, RFC 7525, DOI 10.17487/RFC7525, May
              2015, <https://www.rfc-editor.org/info/rfc7525>.

   [RFC8126]  Cotton, M., Leiba, B., and T. Narten, "Guidelines for
              Writing an IANA Considerations Section in RFCs", BCP 26,
              RFC 8126, DOI 10.17487/RFC8126, June 2017,
              <https://www.rfc-editor.org/info/rfc8126>.

   [RFC8174]  Leiba, B., "Ambiguity of Uppercase vs Lowercase in RFC
              2119 Key Words", BCP 14, RFC 8174, DOI 10.17487/RFC8174,
              May 2017, <https://www.rfc-editor.org/info/rfc8174>.

   [RFC8231]  Crabbe, E., Minei, I., Medved, J., and R. Varga, "Path
              Computation Element Communication Protocol (PCEP)
              Extensions for Stateful PCE", RFC 8231,
              DOI 10.17487/RFC8231, September 2017,
              <https://www.rfc-editor.org/info/rfc8231>.

   [RFC8253]  Lopez, D., Gonzalez de Dios, O., Wu, Q., and D. Dhody,
              "PCEPS: Usage of TLS to Provide a Secure Transport for the
              Path Computation Element Communication Protocol (PCEP)",
              RFC 8253, DOI 10.17487/RFC8253, October 2017,
              <https://www.rfc-editor.org/info/rfc8253>.

   [RFC8281]  Crabbe, E., Minei, I., Sivabalan, S., and R. Varga, "Path
              Computation Element Communication Protocol (PCEP)
              Extensions for PCE-Initiated LSP Setup in a Stateful PCE
              Model", RFC 8281, DOI 10.17487/RFC8281, December 2017,
              <https://www.rfc-editor.org/info/rfc8281>.
```

---
### **9.2.  Informative References**

```text
   [PCE-PCEP-YANG]
              Dhody, D., Hardwick, J., Beeram, V., and J. Tantsura, "A
              YANG Data Model for Path Computation Element
              Communications Protocol (PCEP)", Work in Progress,
              Internet-Draft, draft-ietf-pce-pcep-yang-13, 31 October
              2019,
              <https://tools.ietf.org/html/draft-ietf-pce-pcep-yang-13>.

   [RFC3209]  Awduche, D., Berger, L., Gan, D., Li, T., Srinivasan, V.,
              and G. Swallow, "RSVP-TE: Extensions to RSVP for LSP
              Tunnels", RFC 3209, DOI 10.17487/RFC3209, December 2001,
              <https://www.rfc-editor.org/info/rfc3209>.

   [RFC3471]  Berger, L., Ed., "Generalized Multi-Protocol Label
              Switching (GMPLS) Signaling Functional Description",
              RFC 3471, DOI 10.17487/RFC3471, January 2003,
              <https://www.rfc-editor.org/info/rfc3471>.

   [RFC7420]  Koushik, A., Stephan, E., Zhao, Q., King, D., and J.
              Hardwick, "Path Computation Element Communication Protocol
              (PCEP) Management Information Base (MIB) Module",
              RFC 7420, DOI 10.17487/RFC7420, December 2014,
              <https://www.rfc-editor.org/info/rfc7420>.

   [RFC8051]  Zhang, X., Ed. and I. Minei, Ed., "Applicability of a
              Stateful Path Computation Element (PCE)", RFC 8051,
              DOI 10.17487/RFC8051, January 2017,
              <https://www.rfc-editor.org/info/rfc8051>.
```

---
# **Acknowledgments**

저자들은 유용한 의견과 제안을 주신 Robert Varga, Venugopal Reddy, Reeja Paul, Sandeep Boina, Avantika, JP Vasseur, Himanshu Shah, Jonathan Hardwick 및 Adrian Farrel에게 감사의 말씀을 전하고 싶습니다.

이사회 검토를 해주신 Daniel Franke, Joe Clarke, David Black 및 Erik Kline에게 감사드립니다.

IESG 검토를 도와주신 Mirja Kühlewind, Barry Leiba, Benjamin Kaduk 및 Roman Danyliw에게 감사드립니다.

---
# **Contributors**

```text
   He Zekun
   Tencent Holdings Ltd.
   Shenzhen
   China

   Email: kinghe@tencent.com

   Xian Zhang
   Huawei Technologies
   Research Area F3-1B
   Huawei Industrial Base,
   Shenzhen
   518129
   China

   Phone: +86-755-28972645
   Email: zhang.xian@huawei.com

   Young Lee
   Samsung

   Email: younglee.tx@gmail.com
```

---
# **Authors' Addresses**

```text
   Dhruv Dhody (editor)
   Huawei Technologies
   Divyashree Techno Park, Whitefield
   Bangalore 560066
   Karnataka
   India

   Email: dhruv.ietf@gmail.com

   Rakesh Gandhi (editor)
   Cisco Systems, Inc.
   Canada

   Email: rgandhi@cisco.com

   Udayasree Palle
   Individual Contributor

   Email: udayasreereddy@gmail.com

   Ravi Singh
   Individual Contributor

   Email: ravi.singh.ietf@gmail.com
```

Luyuan Fang Expedia Group, Inc.

```text
   Email: luyuanf@gmail.com
```