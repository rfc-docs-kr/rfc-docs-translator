

```text
Network Working Group                                           C. Daboo
Request for Comments: 4791                                         Apple
Category: Standards Track                                B. Desruisseaux
                                                                  Oracle
                                                            L. Dusseault
                                                             CommerceNet
                                                              March 2007

               Calendaring Extensions to WebDAV (CalDAV)
```

---
# **Status of This Memo**

이 문서는 인터넷 커뮤니티를 위한 인터넷 표준 추적 프로토콜을 지정하고 개선을 위한 토론 및 제안을 요청합니다. 이 프로토콜의 표준화 상태 및 상태에 대해서는 "Internet Official Protocol Standards"\(STD 1\) 최신판을 참조하십시오. 이 메모의 배포는 무제한입니다.

---
# **Copyright Notice**

저작권\(C\) IETF 트러스트\(2007\).

---
# **Abstract**

이 문서는 iCalendar 형식을 기반으로 일정 및 일정 정보에 액세스하고, 관리하고, 공유하는 표준 방법을 지정하기 위해 WebDAV\(Web Distributed Authoring and Versioning\) 프로토콜에 대한 확장을 정의합니다. 이 문서는 CalDAV의 "캘린더 액세스" 기능을 정의합니다.

---
# **Table of Contents**

```text
   1.  Introduction . . . . . . . . . . . . . . . . . . . . . . . . .  5
     1.1.  Notational Conventions . . . . . . . . . . . . . . . . . .  5
     1.2.  XML Namespaces and Processing  . . . . . . . . . . . . . .  5
     1.3.  Method Preconditions and Postconditions  . . . . . . . . .  6
   2.  Requirements Overview  . . . . . . . . . . . . . . . . . . . .  6
   3.  Calendaring Data Model . . . . . . . . . . . . . . . . . . . .  7
     3.1.  Calendar Server  . . . . . . . . . . . . . . . . . . . . .  7
     3.2.  Recurrence and the Data Model  . . . . . . . . . . . . . .  8
   4.  Calendar Resources . . . . . . . . . . . . . . . . . . . . . .  9
     4.1.  Calendar Object Resources  . . . . . . . . . . . . . . . .  9
     4.2.  Calendar Collection  . . . . . . . . . . . . . . . . . . . 10
   5.  Calendar Access Feature  . . . . . . . . . . . . . . . . . . . 11
     5.1.  Calendar Access Support  . . . . . . . . . . . . . . . . . 11
       5.1.1.  Example: Using OPTIONS for the Discovery of
               Calendar Access Support  . . . . . . . . . . . . . . . 12
     5.2.  Calendar Collection Properties . . . . . . . . . . . . . . 12
       5.2.1.  CALDAV:calendar-description Property . . . . . . . . . 12
       5.2.2.  CALDAV:calendar-timezone Property  . . . . . . . . . . 13
       5.2.3.  CALDAV:supported-calendar-component-set Property . . . 14
       5.2.4.  CALDAV:supported-calendar-data Property  . . . . . . . 15
       5.2.5.  CALDAV:max-resource-size Property  . . . . . . . . . . 16
       5.2.6.  CALDAV:min-date-time Property  . . . . . . . . . . . . 17
       5.2.7.  CALDAV:max-date-time Property  . . . . . . . . . . . . 18
       5.2.8.  CALDAV:max-instances Property  . . . . . . . . . . . . 19
       5.2.9.  CALDAV:max-attendees-per-instance Property . . . . . . 19
       5.2.10. Additional Precondition for PROPPATCH  . . . . . . . . 20
     5.3.  Creating Resources . . . . . . . . . . . . . . . . . . . . 20
       5.3.1.  MKCALENDAR Method  . . . . . . . . . . . . . . . . . . 20
         5.3.1.1.  Status Codes . . . . . . . . . . . . . . . . . . . 22
         5.3.1.2.  Example: Successful MKCALENDAR Request . . . . . . 23
       5.3.2.  Creating Calendar Object Resources . . . . . . . . . . 25
         5.3.2.1.  Additional Preconditions for PUT, COPY, and
                   MOVE . . . . . . . . . . . . . . . . . . . . . . . 26
       5.3.3.  Non-Standard Components, Properties, and Parameters  . 28
       5.3.4.  Calendar Object Resource Entity Tag  . . . . . . . . . 28
   6.  Calendaring Access Control . . . . . . . . . . . . . . . . . . 29
     6.1.  Calendaring Privilege  . . . . . . . . . . . . . . . . . . 29
       6.1.1.  CALDAV:read-free-busy Privilege  . . . . . . . . . . . 29
     6.2.  Additional Principal Property  . . . . . . . . . . . . . . 30
       6.2.1.  CALDAV:calendar-home-set Property  . . . . . . . . . . 30
   7.  Calendaring Reports  . . . . . . . . . . . . . . . . . . . . . 31
     7.1.  REPORT Method  . . . . . . . . . . . . . . . . . . . . . . 31
     7.2.  Ordinary Collections . . . . . . . . . . . . . . . . . . . 31
     7.3.  Date and Floating Time . . . . . . . . . . . . . . . . . . 32
     7.4.  Time Range Filtering . . . . . . . . . . . . . . . . . . . 32
     7.5.  Searching Text: Collations . . . . . . . . . . . . . . . . 33
       7.5.1.  CALDAV:supported-collation-set Property  . . . . . . . 34
     7.6.  Partial Retrieval  . . . . . . . . . . . . . . . . . . . . 34
     7.7.  Non-Standard Components, Properties, and Parameters  . . . 35
     7.8.  CALDAV:calendar-query REPORT . . . . . . . . . . . . . . . 36
       7.8.1.  Example: Partial Retrieval of Events by Time Range . . 38
       7.8.2.  Example: Partial Retrieval of Recurring Events . . . . 42
       7.8.3.  Example: Expanded Retrieval of Recurring Events  . . . 45
       7.8.4.  Example: Partial Retrieval of Stored Free Busy
               Components . . . . . . . . . . . . . . . . . . . . . . 48
       7.8.5.  Example: Retrieval of To-Dos by Alarm Time Range . . . 50
       7.8.6.  Example: Retrieval of Event by UID . . . . . . . . . . 51
       7.8.7.  Example: Retrieval of Events by PARTSTAT . . . . . . . 53
       7.8.8.  Example: Retrieval of Events Only  . . . . . . . . . . 55
       7.8.9.  Example: Retrieval of All Pending To-Dos . . . . . . . 59
       7.8.10. Example: Attempt to Query Unsupported Property . . . . 62
     7.9.  CALDAV:calendar-multiget REPORT  . . . . . . . . . . . . . 63
       7.9.1.  Example: Successful CALDAV:calendar-multiget REPORT  . 64
     7.10. CALDAV:free-busy-query REPORT  . . . . . . . . . . . . . . 66
       7.10.1. Example: Successful CALDAV:free-busy-query REPORT  . . 68
   8.  Guidelines . . . . . . . . . . . . . . . . . . . . . . . . . . 69
     8.1.  Client-to-Client Interoperability  . . . . . . . . . . . . 69
     8.2.  Synchronization Operations . . . . . . . . . . . . . . . . 69
       8.2.1.  Use of Reports . . . . . . . . . . . . . . . . . . . . 69
         8.2.1.1.  Restrict the Time Range  . . . . . . . . . . . . . 69
         8.2.1.2.  Synchronize by Time Range  . . . . . . . . . . . . 70
         8.2.1.3.  Synchronization Process  . . . . . . . . . . . . . 70
       8.2.2.  Restrict the Properties Returned . . . . . . . . . . . 72
     8.3.  Use of Locking . . . . . . . . . . . . . . . . . . . . . . 72
     8.4.  Finding Calendars  . . . . . . . . . . . . . . . . . . . . 72
     8.5.  Storing and Using Attachments  . . . . . . . . . . . . . . 74
       8.5.1.  Inline Attachments . . . . . . . . . . . . . . . . . . 74
       8.5.2.  External Attachments . . . . . . . . . . . . . . . . . 75
     8.6.  Storing and Using Alarms . . . . . . . . . . . . . . . . . 76
   9.  XML Element Definitions  . . . . . . . . . . . . . . . . . . . 77
     9.1.  CALDAV:calendar XML Element  . . . . . . . . . . . . . . . 77
     9.2.  CALDAV:mkcalendar XML Element  . . . . . . . . . . . . . . 77
     9.3.  CALDAV:mkcalendar-response XML Element . . . . . . . . . . 78
     9.4.  CALDAV:supported-collation XML Element . . . . . . . . . . 78
     9.5.  CALDAV:calendar-query XML Element  . . . . . . . . . . . . 78
     9.6.  CALDAV:calendar-data XML Element . . . . . . . . . . . . . 79
       9.6.1.  CALDAV:comp XML Element  . . . . . . . . . . . . . . . 80
       9.6.2.  CALDAV:allcomp XML Element . . . . . . . . . . . . . . 81
       9.6.3.  CALDAV:allprop XML Element . . . . . . . . . . . . . . 81
       9.6.4.  CALDAV:prop XML Element  . . . . . . . . . . . . . . . 82
       9.6.5.  CALDAV:expand XML Element  . . . . . . . . . . . . . . 82
       9.6.6.  CALDAV:limit-recurrence-set XML Element  . . . . . . . 83
       9.6.7.  CALDAV:limit-freebusy-set XML Element  . . . . . . . . 84
     9.7.  CALDAV:filter XML Element  . . . . . . . . . . . . . . . . 85
       9.7.1.  CALDAV:comp-filter XML Element . . . . . . . . . . . . 85
       9.7.2.  CALDAV:prop-filter XML Element . . . . . . . . . . . . 86
       9.7.3.  CALDAV:param-filter XML Element  . . . . . . . . . . . 87
       9.7.4.  CALDAV:is-not-defined XML Element  . . . . . . . . . . 88
       9.7.5.  CALDAV:text-match XML Element  . . . . . . . . . . . . 88
     9.8.  CALDAV:timezone XML Element  . . . . . . . . . . . . . . . 89
     9.9.  CALDAV:time-range XML Element  . . . . . . . . . . . . . . 90
     9.10. CALDAV:calendar-multiget XML Element . . . . . . . . . . . 94
     9.11. CALDAV:free-busy-query XML Element . . . . . . . . . . . . 95
   10. Internationalization Considerations  . . . . . . . . . . . . . 95
   11. Security Considerations  . . . . . . . . . . . . . . . . . . . 95
   12. IANA Considerations  . . . . . . . . . . . . . . . . . . . . . 96
     12.1. Namespace Registration . . . . . . . . . . . . . . . . . . 96
   13. Acknowledgements . . . . . . . . . . . . . . . . . . . . . . . 96
   14. References . . . . . . . . . . . . . . . . . . . . . . . . . . 97
     14.1. Normative References . . . . . . . . . . . . . . . . . . . 97
     14.2. Informative References . . . . . . . . . . . . . . . . . . 98
   Appendix A.  CalDAV Method Privilege Table (Normative) . . . . . . 99
   Appendix B.  Calendar Collections Used in the Examples . . . . . . 99
```

---
## **1.  Introduction**

캘린더 액세스 프로토콜의 기반으로 HTTP \[RFC2616\] 및 WebDAV \[RFC2518\]를 사용하는 개념은 결코 새로운 개념이 아닙니다. 이는 1997년 또는 1998년에 IETF CALSCH 작업 그룹에서 논의되었습니다. 여러 회사에서 캘린더를 구현했습니다. HTTP를 사용하여 iCalendar \[RFC2445\] 개체를 업로드 및 다운로드하고 WebDAV를 사용하여 리소스 목록을 가져오는 프로토콜에 액세스합니다. 그러나 달력 데이터를 WebDAV 리소스로 모델링하는 방법과 아직 WebDAV에 포함되지 않은 필수 기능을 구현하는 방법에 대해 크고 작은 결정을 내려야 하기 때문에 이러한 구현은 상호 운용되지 않습니다. 이 문서는 상호 운용 가능한 달력 액세스 프로토콜을 만들기 위한 추가 기능과 함께 WebDAV에서 달력 데이터를 모델링하는 방법을 제안합니다.

---
### **1.1.  Notational Conventions**

이 문서에서 키워드 "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT", "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY" 및 "OPTIONAL"은 다음과 같습니다. \[RFC2119\]에 설명된 대로 해석됩니다.\(MUST NOT\)

"보호된"이라는 용어는 \[RFC3253\]의 섹션 1.4.2에 정의된 대로 속성 정의의 적합성 필드에서 사용됩니다.

네임스페이스 "DAV:" 및 "urn:ietf:params:xml:ns:caldav"의 XML 요소 유형이 XML 조각 컨텍스트 외부에서 이 문서에서 참조되는 경우 문자열 "DAV:" 및 "CALDAV:" 요소 유형 이름 앞에 각각 접두사가 추가됩니다.

---
### **1.2.  XML Namespaces and Processing**

이 문서의 XML 요소 정의는 \[W3C.REC-xml-20060816\]의 섹션 3.2에 설명된 XML 요소 유형 선언\(XML 문서 유형 선언에 있음\)을 사용합니다.

"urn:ietf:params:xml:ns:caldav" 네임스페이스는 이 사양, 개정판 및 관련 CalDAV 사양에 정의된 XML 요소용으로 예약되어 있습니다. 개별 구현에 의해 정의된 XML 요소는 "urn:ietf:params:xml:ns:caldav" 네임스페이스를 사용해서는 안 되며 대신 제어하는 ​​네임스페이스를 사용해야 합니다.\(MUST NOT\)

이 문서에 사용된 XML 선언에는 네임스페이스 정보가 포함되어 있지 않습니다. 따라서 구현자는 유효한 CalDAV 속성을 생성하거나 CalDAV XML 요소 유형의 유효성을 검사하는 유일한 방법으로 이러한 선언을 사용해서는 안 됩니다. 일부 선언은 "DAV:" 네임스페이스를 사용하는 WebDAV \[RFC2518\]에 의해 정의된 XML 요소를 참조합니다. 이러한 XML 요소가 나타날 때마다 혼동을 피하기 위해 "DAV:"라는 접두사가 명시적으로 추가됩니다.

또한 일부 CalDAV XML 요소 이름은 네임스페이스는 다르지만 WebDAV XML 요소 이름과 동일합니다. 두 세트의 이름을 혼동하지 않도록 주의해야 합니다.

CalDAV 클라이언트 및 서버에 의한 XML 처리는 \[RFC2518\]에 설명된 규칙을 따라야 합니다. 특히 해당 사양의 섹션 14 및 부록 3을 참조하세요.\(MUST\)

---
### **1.3.  Method Preconditions and Postconditions**

메서드의 "전제 조건"은 해당 메서드가 수행되기 위해 참이어야 하는 서버의 상태를 설명합니다. 메소드의 "사후 조건"은 해당 메소드가 완료된 후 참이어야 하는 서버의 상태를 설명합니다. 요청에 대한 메소드 사전 조건 또는 사후 조건이 충족되지 않는 경우 요청의 응답 상태는 요청이 항상 실패하기 때문에 반복해서는 안 되는 경우 403\(금지\)이거나 예상되는 경우 409\(충돌\)여야 합니다. 사용자가 충돌을 해결하고 요청을 다시 제출할 수 있을 수도 있습니다.\(MUST\)

403 및 409 응답을 더 효과적으로 클라이언트에서 처리할 수 있도록 고유한 XML 요소 유형이 요청의 각 메서드 사전 조건 및 사후 조건과 연결됩니다. 특정 전제 조건이 충족되지 않거나 특정 사후 조건을 달성할 수 없는 경우 요청에 의해 달리 협상되지 않는 한 적절한 XML 요소가 응답 본문의 최상위 DAV:error 요소의 하위 요소로 반환되어야 합니다.\(MUST\)

---
## **2.  Requirements Overview**

이 섹션에는 CalDAV 서버에 필요한 기능이 나열되어 있습니다. CalDAV에 대한 지원을 광고하려면 서버는 다음을 수행합니다.

```text
   o  MUST support iCalendar [RFC2445] as a media type for the calendar
      object resource format;

   o  MUST support WebDAV Class 1 [RFC2518] (note that [rfc2518bis]
      describes clarifications to [RFC2518] that aid interoperability);

   o  MUST support WebDAV ACL [RFC3744] with the additional privilege
      defined in Section 6.1 of this document;

   o  MUST support transport over TLS [RFC2246] as defined in [RFC2818]
      (note that [RFC2246] has been obsoleted by [RFC4346]);

   o  MUST support ETags [RFC2616] with additional requirements
      specified in Section 5.3.4 of this document;
```

o 본 문서의 섹션 7에 정의된 모든 일정 보고서를 지원해야 합니다. 그리고\(MUST\)

o WebDAV에 대한 버전 관리 확장 \[RFC3253\]에 정의된 대로 DAV:supported-report-set 속성의 달력 보고서에 대한 모든 달력 컬렉션 및 달력 개체 리소스에 대한 지원을 광고해야 합니다.\(MUST\)

또한 서버는 다음을 수행합니다.

o 이 문서의 섹션 5.3.1에 정의된 MKCALENDAR 방법을 지원해야 합니다.\(SHOULD\)

---
## **3.  Calendaring Data Model**

WebDAV를 성공적인 프로토콜로 만든 기능 중 하나는 확고한 데이터 모델입니다. 이는 캘린더링과 같은 다른 애플리케이션에 유용한 프레임워크가 됩니다. 본 사양은 잘 설명된 데이터 모델을 기반으로 모든 기능을 개발하여 동일한 패턴을 따릅니다.

간략한 개요로서 CalDAV 달력은 정의된 구조를 가진 WebDAV 컬렉션으로 모델링됩니다. 각 달력 컬렉션에는 달력 개체를 직계 하위 리소스로 나타내는 여러 리소스가 포함되어 있습니다. 달력 개체\(이벤트, 할 일, 일지 항목 또는 기타 달력 구성 요소\)를 나타내는 각 리소스를 "캘린더 개체 리소스"라고 합니다. 각 달력 개체 리소스와 각 달력 컬렉션은 개별적으로 잠길 수 있으며 개별 WebDAV 속성을 가질 수 있습니다. 이 모델에서 파생된 요구 사항은 섹션 4.1 및 섹션 4.2에 제공됩니다.

---
### **3.1.  Calendar Server**

CalDAV 서버는 WebDAV 저장소와 결합된 달력 인식 엔진입니다. WebDAV 저장소는 통합 URL 네임스페이스 내에 다른 WebDAV 리소스를 포함하는 WebDAV 컬렉션 집합입니다. 예를 들어, "http://www.example.com/webdav/" 저장소에는 WebDAV 컬렉션과 리소스가 포함될 수 있으며, 이들 모두는 "http://www.example.com/webdav/"로 시작하는 URL을 가지고 있습니다. 루트 URL "http://www.example.com/"은 그 자체가 WebDAV 저장소가 아닐 수도 있습니다\(예를 들어, WebDAV 지원이 서블릿이나 다른 웹 서버 확장을 통해 구현되는 경우\).

WebDAV 저장소는 URL 네임스페이스의 일부 부분에 달력 데이터를 포함하고 다른 부분에는 달력이 아닌 데이터를 포함할 수 있습니다.\(MAY\)

WebDAV 저장소는 언제든지 이 사양에 정의된 기능을 지원하는 경우 CalDAV 서버로 광고할 수 있습니다.

저장소의 루트 내에서. 이는 달력 데이터가 저장소 전체에 분산되어 있으며 근처 컬렉션의 달력이 아닌 데이터와 혼합되어 있음을 의미할 수 있습니다\(예: 달력 데이터는 /home/lisa/calendars/ 및 /home/bernard/calendars/에서 찾을 수 있음\). 캘린더가 아닌 데이터는 /home/lisa/contacts/에 있음\). 또는 달력 데이터가 저장소의 특정 섹션\(예: /calendar/\)에서만 발견될 수 있음을 의미할 수도 있습니다. 달력 기능은 달력 객체 자원이거나 이를 포함하는 저장소 섹션에서만 필요합니다. 따라서 달력 데이터를 /calendar/ 컬렉션으로 제한하는 저장소는 해당 컬렉션 내에서 CalDAV 필수 기능만 지원하면 됩니다.

CalDAV 서버 또는 저장소는 달력 데이터 및 상태 정보의 표준 위치입니다. 클라이언트는 데이터 변경 또는 데이터 다운로드 요청을 제출할 수 있습니다. 클라이언트는 달력 개체를 오프라인으로 저장하고 나중에 동기화를 시도할 수 있습니다. 그러나 클라이언트는 마지막 동기화 시간과 업데이트 시도 사이에 서버의 달력 데이터가 변경되도록 준비해야 합니다. 달력 컬렉션은 여러 클라이언트를 통해 공유되고 액세스될 수 있기 때문입니다. 엔터티 태그와 기타 기능이 이를 가능하게 합니다.\(MUST\)

---
### **3.2.  Recurrence and the Data Model**

반복은 얼마나 많은 리소스가 존재할 것으로 예상되는지를 제어하므로 데이터 모델의 중요한 부분입니다. 이 사양은 반복 달력 구성 요소와 반복 예외를 단일 리소스로 모델링합니다. 이 모델에서 반복 규칙, 반복 날짜, 예외 규칙 및 예외 날짜는 모두 단일 달력 개체 리소스에 있는 데이터의 일부입니다. 이 모델은 저장소에 저장할 반복 인스턴스 수를 제한하는 문제, 반복 인스턴스를 반복 달력 구성 요소와 동기화 상태로 유지하는 방법, 반복 예외를 반복 달력 구성 요소와 연결하는 방법 등의 문제를 방지합니다. 또한 클라이언트와 서버 간에 동기화할 데이터가 줄어들고 모든 반복 인스턴스나 반복 규칙을 더 쉽게 변경할 수 있습니다. 반복 달력 구성 요소를 만들고 모든 반복 인스턴스를 삭제하는 것이 더 쉬워졌습니다.

클라이언트는 반복 구성 요소의 모든 반복 인스턴스에 대한 정보를 검색하도록 강요되지 않습니다. 이 문서에 정의된 CALDAV:calendar-query 및 CALDAV:calendar-multiget 보고서를 사용하면 클라이언트는 지정된 시간 범위와 겹치는 반복 인스턴스만 검색할 수 있습니다.

---
## **4.  Calendar Resources**
---
### **4.1.  Calendar Object Resources**

달력 컬렉션에 포함된 달력 객체 리소스는 VTIMEZONE 구성 요소를 제외하고 두 가지 유형 이상의 달력 구성 요소\(예: VEVENT, VTODO, VJOURNAL, VFREEBUSY 등\)를 포함해서는 안 됩니다. iCalendar 객체. 예를 들어 달력 개체 리소스에는 VEVENT 구성 요소 하나와 VTIMEZONE 구성 요소 하나가 포함될 수 있지만 VEVENT 구성 요소 하나와 VTODO 구성 요소 하나는 포함될 수 없습니다. 대신 VEVENT 및 VTODO 구성 요소는 동일한 컬렉션의 별도 달력 개체 리소스에 저장되어야 합니다.\(MUST NOT\)

캘린더 컬렉션에 포함된 캘린더 객체 리소스는 iCalendar METHOD 속성을 지정해서는 안 됩니다.\(MUST NOT\)

달력 개체 리소스에 포함된 달력 구성 요소의 UID 속성 값은 해당 구성 요소가 저장된 달력 컬렉션 범위 내에서 고유해야 합니다.\(MUST\)

서로 다른 UID 속성 값을 갖는 달력 컬렉션의 달력 구성 요소는 별도의 달력 개체 리소스에 저장되어야 합니다.\(MUST\)

주어진 달력 컬렉션에서 동일한 UID 속성 값을 가진 달력 구성 요소는 동일한 달력 개체 리소스에 포함되어야 합니다. 이렇게 하면 반복 "집합"의 모든 구성 요소가 동일한 달력 개체 리소스에 포함됩니다. 달력 개체 리소스는 "마스터" 반복 구성 요소\(즉, 일반 인스턴스의 동작을 수정하여 RECURRENCE-ID 속성을 포함함\)를 나타내는 구성 요소만 포함할 수 있습니다. 반복 "세트"를 정의하고 RECURRENCE-ID 속성을 포함하지 않음\).\(MUST\)

예를 들어 다음 iCalendar 객체가 있다고 가정해 보겠습니다.

```text
   BEGIN:VCALENDAR
   PRODID:-//Example Corp.//CalDAV Client//EN
   VERSION:2.0
   BEGIN:VEVENT
   UID:1@example.com
   SUMMARY:One-off Meeting
   DTSTAMP:20041210T183904Z
   DTSTART:20041207T120000Z
   DTEND:20041207T130000Z
   END:VEVENT
   BEGIN:VEVENT
   UID:2@example.com
   SUMMARY:Weekly Meeting
   DTSTAMP:20041210T183838Z
   DTSTART:20041206T120000Z
   DTEND:20041206T130000Z
   RRULE:FREQ=WEEKLY
   END:VEVENT
   BEGIN:VEVENT
   UID:2@example.com
   SUMMARY:Weekly Meeting
   RECURRENCE-ID:20041213T120000Z
   DTSTAMP:20041210T183838Z
   DTSTART:20041213T130000Z
   DTEND:20041213T140000Z
   END:VEVENT
   END:VCALENDAR
```

UID 값이 "1@example.com"인 VEVENT 구성 요소는 자체 달력 개체 리소스에 저장됩니다. 하나의 반복 인스턴스가 재정의된 반복 이벤트를 나타내는 UID 값이 "2@example.com"인 두 VEVENT 구성 요소는 동일한 달력 개체 리소스에 저장됩니다.

---
### **4.2.  Calendar Collection**

달력 컬렉션에는 달력 내의 달력 구성 요소를 나타내는 달력 개체 리소스가 포함되어 있습니다. 달력 컬렉션은 URL로 식별되는 WebDAV 리소스 컬렉션으로 클라이언트에 나타납니다. 달력 컬렉션은 DAV: 리소스 유형 속성 값의 DAV: 컬렉션 및 CALDAV:calendar XML 요소를 보고해야 합니다. CALDAV: 달력의 요소 유형 선언은 다음과 같습니다.\(MUST\)

```text
       <!ELEMENT calendar EMPTY>
```

캘린더 컬렉션은 프로비저닝을 통해 생성되거나\(즉, 사용자 계정이 프로비저닝될 때 자동으로 생성됨\) MKCALENDAR 메소드를 사용하여 생성될 수 있습니다\(섹션 5.3.1 참조\). 이 방법은 사용자가 추가 캘린더\(예: 축구 일정\)를 만들거나 사용자가 캘린더\(예: 팀 이벤트 또는 회의실\)를 공유하는 데 유용할 수 있습니다. 그러나 이 문서에서는 추가 캘린더 컬렉션의 목적을 정의하지 않습니다. 사용자는 캘린더 컬렉션의 용도를 알아내기 위해 비표준 단서에 의존하거나 그러한 단서를 제공하기 위해 섹션 5.2.1에 정의된 CALDAV:calendar-description 속성을 사용해야 합니다.

캘린더 컬렉션 내의 리소스에는 다음 제한 사항이 적용됩니다.

ㅏ. 캘린더 컬렉션은 캘린더 개체 리소스와 캘린더 컬렉션이 아닌 컬렉션만 포함해야 합니다. 즉, 캘린더 컬렉션에서 허용되는 유일한 "최상위" 비 컬렉션 리소스는 캘린더 개체 리소스입니다. 이렇게 하면 달력 클라이언트가 표준 WebDAV 기술을 사용하여 컬렉션의 내용을 검사할 때 달력 개체 리소스와 컬렉션을 구별해야 하지만 달력 컬렉션에 있는 달력이 아닌 데이터를 처리할 필요가 없습니다.\(MUST\)

비. 캘린더 컬렉션에 포함된 컬렉션은 어떤 깊이의 캘린더 컬렉션도 포함하면 안 됩니다. 즉, 어떤 깊이의 다른 캘린더 컬렉션 내에 캘린더 컬렉션을 "중첩"하는 것은 허용되지 않습니다. 이 사양은 달력 컬렉션에 포함된 컬렉션이 사용되는 방법이나 달력 컬렉션에 포함된 달력 개체 리소스와 관련되는 방법을 정의하지 않습니다.\(MUST NOT\)

여러 캘린더 컬렉션은 동일한 컬렉션의 하위일 수 있습니다.\(MAY\)

---
## **5.  Calendar Access Feature**
---
### **5.1.  Calendar Access Support**

이 문서에 설명된 기능을 지원하는 서버는 달력 속성, 보고서, 메서드 또는 권한을 지원하는 모든 리소스에 대한 OPTIONS 요청의 DAV 응답 헤더 필드로 "calendar-access"를 포함해야 합니다. DAV 응답 헤더의 "calendar-access" 값은 서버가 이 문서에 지정된 모든 MUST 수준 요구 사항을 지원함을 나타내야 합니다.\(MUST, MUST\)

5.1.1. 예: 달력 액세스 지원 검색을 위해 OPTIONS 사용

```text
   >> Request <<

   OPTIONS /home/bernard/calendars/ HTTP/1.1
   Host: cal.example.com

   >> Response <<

   HTTP/1.1 200 OK
   Allow: OPTIONS, GET, HEAD, POST, PUT, DELETE, TRACE, COPY, MOVE
   Allow: PROPFIND, PROPPATCH, LOCK, UNLOCK, REPORT, ACL
   DAV: 1, 2, access-control, calendar-access
   Date: Sat, 11 Nov 2006 09:32:12 GMT
   Content-Length: 0
```

이 예에서 OPTIONS 메서드는 DAV 응답 헤더에 "calendar-access" 값을 반환하여 "/home/bernard/calendars/" 컬렉션이 이 사양에 정의된 속성, 보고서, 메서드 또는 권한을 지원함을 나타냅니다.

---
### **5.2.  Calendar Collection Properties**

이 섹션에서는 달력 컬렉션의 속성을 정의합니다.

---
#### **5.2.1.  CALDAV:calendar-description Property**

```text
   Name:  calendar-description

   Namespace:  urn:ietf:params:xml:ns:caldav
```

목적: 달력 컬렉션에 대해 사람이 읽을 수 있는 설명을 제공합니다.

적합성: 이 속성은 모든 달력에서 정의될 수 있습니다.

-  수집. 정의된 경우 보호될 수 있으며 PROPFIND DAV:allprop 요청\(\[RFC2518\]의 섹션 12.14.1에 정의됨\)에 의해 반환되어서는 안 됩니다. 설명의 인간 언어를 나타내는 xml:lang 속성은 클라이언트 또는 서버 프로비저닝을 통해 이 속성에 대해 설정되어야 합니다. 속성에 설정된 경우 서버는 모든 xml:lang 속성을 반환해야 합니다.\(MAY, SHOULD NOT, SHOULD, MUST\)

설명: 있는 경우 속성에는 사용자에게 표시하기에 적합한 달력 컬렉션에 대한 설명이 포함됩니다. 존재하지 않는 경우 클라이언트는 달력 컬렉션에 대한 설명이 없다고 가정해야 합니다.

```text
   Definition:

         <!ELEMENT calendar-description (#PCDATA)>
         PCDATA value: string

   Example:

         <C:calendar-description xml:lang="fr-CA"
            xmlns:C="urn:ietf:params:xml:ns:caldav"
         >Calendrier de Mathilde Desruisseaux</C:calendar-description>
```

---
#### **5.2.2.  CALDAV:calendar-timezone Property**

```text
   Name:  calendar-timezone

   Namespace:  urn:ietf:params:xml:ns:caldav
```

목적: 달력 컬렉션의 시간대를 지정합니다.

적합성: 이 속성은 모든 달력 컬렉션에 대해 정의되어야 합니다. 정의된 경우 PROPFIND DAV:allprop 요청\(\[RFC2518\]의 섹션 12.14.1에 정의됨\)에 의해 반환되어서는 안 됩니다.\(SHOULD, SHOULD NOT\)

설명: CALDAV:calendar-timezone 속성은 서버가 "날짜" 값과 "현지 시간이 있는 날짜" 값\(예: 부동 시간\)을 "UTC 시간이 있는 날짜" 값으로 확인하기 위해 사용해야 하는 시간대를 지정하는 데 사용됩니다. 서버는 "날짜" 값 또는 "현지 시간이 포함된 날짜" 값으로 예약된 달력 구성 요소가 CALDAV:calendar-query REPORT에 지정된 CALDAV: 시간 범위와 겹치는지 확인하기 위해 이 정보가 필요합니다. 또한 서버는 "date"로 예약된 달력 구성 요소를 고려하는 CALDAV:free-busy-query REPORT 요청에 대한 응답으로 반환된 VFREEBUSY 구성 요소에서 "UTC 시간이 포함된 날짜"로 적절한 FREEBUSY 기간을 계산하기 위해 이 정보가 필요합니다. " 값 또는 "현지 시간이 포함된 날짜" 값입니다. 이 속성이 없으면 서버는 선택한 시간대에 의존할 수 있습니다.\(MAY\)

참고: CALDAV:calendar-timezone XML 요소 내에 포함된 iCalendar 데이터는 &lt;, &gt;, &amp; 사용을 포함하여 표준 XML 문자 데이터 인코딩 규칙을 따라야 합니다. 등 엔터티 인코딩 또는 <!\[CDATA\[ ... \]\]\> 구문 사용. 후자의 경우 iCalendar 데이터에는 CDATA 섹션의 끝 구분 기호인 문자 시퀀스 "\]\]\>"가 포함될 수 없습니다.\(MUST\)

```text
   Definition:
```

<!ELEMENT 달력-시간대\(#PCDATA\)\>

- PCDATA 값: 정확히 하나의 VTIMEZONE 구성 요소가 있는 iCalendar 개체입니다.

```text
   Example:

   <C:calendar-timezone
       xmlns:C="urn:ietf:params:xml:ns:caldav">BEGIN:VCALENDAR
   PRODID:-//Example Corp.//CalDAV Client//EN
   VERSION:2.0
   BEGIN:VTIMEZONE
   TZID:US-Eastern
   LAST-MODIFIED:19870101T000000Z
   BEGIN:STANDARD
   DTSTART:19671029T020000
   RRULE:FREQ=YEARLY;BYDAY=-1SU;BYMONTH=10
   TZOFFSETFROM:-0400
   TZOFFSETTO:-0500
   TZNAME:Eastern Standard Time (US &amp; Canada)
   END:STANDARD
   BEGIN:DAYLIGHT
   DTSTART:19870405T020000
   RRULE:FREQ=YEARLY;BYDAY=1SU;BYMONTH=4
   TZOFFSETFROM:-0500
   TZOFFSETTO:-0400
   TZNAME:Eastern Daylight Time (US &amp; Canada)
   END:DAYLIGHT
   END:VTIMEZONE
   END:VCALENDAR
   </C:calendar-timezone>
```

---
#### **5.2.3.  CALDAV:supported-calendar-component-set Property**

```text
   Name:  supported-calendar-component-set

   Namespace:  urn:ietf:params:xml:ns:caldav
```

목적: 달력 개체 리소스가 달력 컬렉션에 포함될 수 있는 달력 구성 요소 유형\(예: VEVENT, VTODO 등\)을 지정합니다.

적합성: 이 속성은 모든 달력에서 정의될 수 있습니다.

-  수집. 정의된 경우 이는 보호되어야 하며\(MUST\) PROPFIND DAV:allprop 요청\(\[RFC2518\]의 섹션 12.14.1에 정의됨\)에 의해 반환되어서는 안 됩니다.\(MAY, MUST\)

설명: CALDAV:supported-calendar-comComponent-set 속성은 달력 개체 리소스가 달력 컬렉션에 포함될 수 있는 달력 구성 요소 유형에 대한 제한을 지정하는 데 사용됩니다. 클라이언트가 이 속성에 나열되지 않은 구성 요소 유형으로 달력 개체 리소스를 저장하려는 시도가 있는 경우 CALDAV:supported-calendar-comComponent 전제 조건\(섹션 5.3.2.1\)을 위반하여 오류가 발생해야 합니다. 이 속성은 보호되므로 클라이언트가 PROPPATCH 요청을 사용하여 변경할 수 없습니다. 그러나 클라이언트는 MKCALENDAR를 사용하여 새 달력 컬렉션을 생성할 때 이 속성의 값을 초기화할 수 있습니다. 빈 요소 태그 <C:comp name="VTIMEZONE"/\>은 VTIMEZONE 구성 요소만 포함하는 달력 개체 리소스에 대한 지원이 제공되거나 원하는 경우에만 지정해야 합니다. VEVENT 또는 VTODO 구성 요소가 포함된 달력 개체 리소스의 VTIMEZONE 구성 요소에 대한 지원은 항상 가정됩니다. 이 속성이 없으면 서버는 모든 구성 요소 유형을 허용해야 하며 클라이언트는 모든 구성 요소 유형이 허용된다고 가정할 수 있습니다.\(MUST, MUST, MUST\)

```text
   Definition:

         <!ELEMENT supported-calendar-component-set (comp+)>

   Example:

         <C:supported-calendar-component-set
             xmlns:C="urn:ietf:params:xml:ns:caldav">
           <C:comp name="VEVENT"/>
           <C:comp name="VTODO"/>
         </C:supported-calendar-component-set>
```

---
#### **5.2.4.  CALDAV:supported-calendar-data Property**

```text
   Name:  supported-calendar-data

   Namespace:  urn:ietf:params:xml:ns:caldav
```

목적: 달력 컬렉션의 달력 개체 자원에 허용되는 미디어 유형을 지정합니다.

적합성: 이 속성은 모든 달력에서 정의될 수 있습니다.

-  수집. 정의된 경우 이는 보호되어야 하며\(MUST\) PROPFIND DAV:allprop 요청\(\[RFC2518\]의 섹션 12.14.1에 정의됨\)에 의해 반환되어서는 안 됩니다.\(MAY, MUST\)

설명: CALDAV:supported-calendar-data 속성은 특정 달력 컬렉션\(예: iCalendar 버전 2.0\)에 포함된 달력 개체 리소스에 대해 지원되는 미디어 유형을 지정하는 데 사용됩니다. 클라이언트가 달력 개체를 저장하려는 시도

- 이 속성에 나열되지 않은 미디어 유형을 가진 리소스는 CALDAV:supported-calendar-data 전제 조건\(섹션 5.3.2.1\)을 위반하여 오류를 발생시켜야 합니다. 이 속성이 없으면 서버는 미디어 유형이 "text/calendar"이고 iCalendar 버전 2.0인 데이터만 허용해야 하며 클라이언트는 서버가 이 데이터만 허용한다고 가정할 수 있습니다.\(MUST, MUST\)

```text
   Definition:

         <!ELEMENT supported-calendar-data (calendar-data+)>

   Example:

         <C:supported-calendar-data
            xmlns:C="urn:ietf:params:xml:ns:caldav">
           <C:calendar-data content-type="text/calendar" version="2.0"/>
         </C:supported-calendar-data>
```

---
#### **5.2.5.  CALDAV:max-resource-size Property**

```text
   Name:  max-resource-size

   Namespace:  urn:ietf:params:xml:ns:caldav
```

목적: 달력 개체 리소스가 달력 컬렉션에 저장될 때 서버가 허용할 리소스의 최대 크기\(옥텟\)를 나타내는 숫자 값을 제공합니다.

적합성: 이 속성은 모든 달력에서 정의될 수 있습니다.

-  수집. 정의된 경우 이는 보호되어야 하며\(MUST\) PROPFIND DAV:allprop 요청\(\[RFC2518\]의 섹션 12.14.1에 정의됨\)에 의해 반환되어서는 안 됩니다.\(MAY, MUST\)

설명: CALDAV:max-resource-size는 달력 개체 리소스가 달력 컬렉션에 저장될 때 서버가 허용할 최대 크기\(옥텟\)를 나타내는 숫자 값을 지정하는 데 사용됩니다. 이 크기를 초과하는 달력 개체 리소스를 저장하려는 모든 시도는 CALDAV:max-resource-size 전제 조건\(섹션 5.3.2.1\)을 위반하여 오류를 발생시켜야 합니다. 이 속성이 없으면 클라이언트는 서버가 적절한 크기의 리소스 저장을 허용한다고 가정할 수 있습니다.\(MUST\)

```text
   Definition:

         <!ELEMENT max-resource-size (#PCDATA)>
         PCDATA value: a numeric value (positive integer)

   Example:

         <C:max-resource-size xmlns:C="urn:ietf:params:xml:ns:caldav"
         >102400</C:max-resource-size>
```

---
#### **5.2.6.  CALDAV:min-date-time Property**

```text
   Name:  min-date-time

   Namespace:  urn:ietf:params:xml:ns:caldav
```

목적: 서버가 달력 컬렉션에 저장된 달력 개체 리소스의 DATE 또는 DATE-TIME 값에 대해 허용할 가장 빠른 날짜 및 시간\(UTC\)을 나타내는 DATE-TIME 값을 제공합니다.

적합성: 이 속성은 모든 달력에서 정의될 수 있습니다.

-  수집. 정의된 경우 이는 보호되어야 하며\(MUST\) PROPFIND DAV:allprop 요청\(\[RFC2518\]의 섹션 12.14.1에 정의됨\)에 의해 반환되어서는 안 됩니다.\(MAY, MUST\)

설명: CALDAV:min-date-time은

- 서버가 달력 컬렉션에 저장된 달력 개체 리소스의 명시적인 DATE 또는 DATE-TIME 값에 대해 허용할 가장 빠른 포함 날짜를 나타내는 UTC의 iCalendar DATE-TIME 값입니다. 이 값보다 이전의 DATE 또는 DATE-TIME 값을 사용하여 달력 개체 리소스를 저장하려는 시도는 CALDAV:min-date-time 전제 조건\(섹션 5.3.2.1\)을 위반하여 오류가 발생해야 합니다. 서버는 해당 인스턴스 중 어느 것도 재정의되지 않은 경우 이 제한을 초과하는 인스턴스를 지정하는 반복 구성 요소를 허용해야 합니다. 이 경우 서버는 달력 개체 리소스에 대한 보고서를 처리할 때 허용 가능한 범위를 벗어난 인스턴스를 무시할 수도 있습니다. 이 속성이 없으면 클라이언트는 정의된 경우 CALDAV:max-date-time 값까지 유효한 iCalendar 날짜를 사용할 수 있다고 가정할 수 있습니다.\(MUST, MUST, MAY\)

```text
   Definition:
```

<!ELEMENT 최소-날짜-시간\(#PCDATA\)\>

- PCDATA 값: UTC 기준의 iCalendar 형식 DATE-TIME 값

```text
   Example:

         <C:min-date-time xmlns:C="urn:ietf:params:xml:ns:caldav"
         >19000101T000000Z</C:min-date-time>
```

---
#### **5.2.7.  CALDAV:max-date-time Property**

```text
   Name:  max-date-time

   Namespace:  urn:ietf:params:xml:ns:caldav
```

목적: 서버가 달력 컬렉션에 저장된 달력 개체 리소스의 DATE 또는 DATE-TIME 값에 대해 허용할 최신 날짜 및 시간\(UTC\)을 나타내는 DATE-TIME 값을 제공합니다.

적합성: 이 속성은 모든 달력에서 정의될 수 있습니다.

-  수집. 정의된 경우 이는 보호되어야 하며\(MUST\) PROPFIND DAV:allprop 요청\(\[RFC2518\]의 섹션 12.14.1에 정의됨\)에 의해 반환되어서는 안 됩니다.\(MAY, MUST\)

설명: CALDAV:max-date-time은

- 서버가 달력 컬렉션에 저장된 달력 개체 리소스의 날짜 또는 시간 값에 대해 허용하는 포괄적인 최신 날짜를 나타내는 UTC의 iCalendar DATE-TIME 값입니다. 이 값보다 이후의 DATE 또는 DATE-TIME 값을 사용하여 달력 개체 리소스를 저장하려는 시도는 CALDAV:max-date-time 전제 조건\(섹션 5.3.2.1\)을 위반하여 오류가 발생해야 합니다. 서버는 해당 인스턴스 중 어느 것도 재정의되지 않은 경우 이 제한을 초과하는 인스턴스를 지정하는 반복 구성 요소를 허용해야 합니다. 이 경우 서버는 달력 개체 리소스에 대한 보고서를 처리할 때 허용 가능한 범위를 벗어난 인스턴스를 무시할 수도 있습니다. 이 속성이 없으면 클라이언트는 정의된 경우 최소한 CALDAV: min-date-time 값까지 유효한 iCalendar 날짜를 사용할 수 있다고 가정할 수 있습니다.\(MUST, MUST, MAY\)

```text
   Definition:
```

<!ELEMENT 최대 날짜-시간\(#PCDATA\)\>

- PCDATA 값: UTC 기준의 iCalendar 형식 DATE-TIME 값

```text
   Example:

         <C:max-date-time xmlns:C="urn:ietf:params:xml:ns:caldav"
         >20491231T235959Z</C:max-date-time>
```

---
#### **5.2.8.  CALDAV:max-instances Property**

```text
   Name:  max-instances

   Namespace:  urn:ietf:params:xml:ns:caldav
```

목적: 달력 컬렉션에 저장된 달력 개체 리소스가 생성할 수 있는 최대 반복 인스턴스 수를 나타내는 숫자 값을 제공합니다.

적합성: 이 속성은 모든 달력에서 정의될 수 있습니다.

-  수집. 정의된 경우 이는 보호되어야 하며\(MUST\) PROPFIND DAV:allprop 요청\(\[RFC2518\]의 섹션 12.14.1에 정의됨\)에 의해 반환되어서는 안 됩니다.\(MAY, MUST\)

설명: CALDAV:max-instances는 달력 컬렉션에 저장된 달력 개체 리소스가 생성할 수 있는 최대 반복 인스턴스 수를 나타내는 숫자 값을 지정하는 데 사용됩니다. 이 값보다 더 많은 인스턴스를 생성하는 반복 패턴으로 달력 개체 리소스를 저장하려는 모든 시도는 CALDAV:max-instances 전제 조건\(섹션 5.3.2.1\)을 위반하여 오류를 발생시켜야 합니다. 이 속성이 없으면 클라이언트는 서버가 처리하거나 확장할 수 있는 반복 인스턴스 수에 제한이 없다고 가정할 수 있습니다.\(MUST\)

```text
   Definition:

         <!ELEMENT max-instances (#PCDATA)>
         PCDATA value: a numeric value (integer greater than zero)

   Example:

         <C:max-instances xmlns:C="urn:ietf:params:xml:ns:caldav"
         >100</C:max-instances>
```

---
#### **5.2.9.  CALDAV:max-attendees-per-instance Property**

```text
   Name:  max-attendees-per-instance

   Namespace:  urn:ietf:params:xml:ns:caldav
```

목적: 달력 컬렉션에 저장된 달력 개체 리소스의 인스턴스에 있는 ATTENDEE 속성의 최대 수를 나타내는 숫자 값을 제공합니다.

적합성: 이 속성은 모든 달력에서 정의될 수 있습니다.

-  수집. 정의된 경우 반드시 보호되어야 하며, 보호되어서는 안 됩니다.\(MAY, MUST\)

- PROPFIND DAV:allprop 요청\(\[RFC2518\]의 섹션 12.14.1에 정의됨\)에 의해 반환됩니다.

설명: CALDAV:max-attendees-per-instance는 달력 컬렉션에 저장된 달력 개체 리소스의 한 인스턴스에 대한 iCalendar ATTENDEE 속성의 최대 수를 나타내는 숫자 값을 지정하는 데 사용됩니다. 이 값보다 인스턴스당 더 많은 ATTENDEE 속성을 사용하여 달력 개체 리소스를 저장하려고 하면 CALDAV: 인스턴스당 최대 참석자 사전 조건\(섹션 5.3.2.1\)을 위반하여 오류가 발생해야 합니다. 이 속성이 없으면 클라이언트는 서버가 달력 구성 요소의 ATTENDEE 속성을 원하는 만큼 처리할 수 있다고 가정할 수 있습니다.\(MUST\)

```text
   Definition:

         <!ELEMENT max-attendees-per-instance (#PCDATA)>
         PCDATA value: a numeric value (integer greater than zero)

   Example:

         <C:max-attendees-per-instance
              xmlns:C="urn:ietf:params:xml:ns:caldav"
         >25</C:max-attendees-per-instance>
```

---
#### **5.2.10.  Additional Precondition for PROPPATCH**

이 사양에는 PROPPATCH 메서드에 대한 추가 전제 조건이 필요합니다. 전제 조건은 다음과 같습니다.

- \(CALDAV:valid-calendar-data\): CALDAV: Calendar-timezone 속성에 지정된 시간대는 유효한 단일 VTIMEZONE 구성 요소를 포함하는 유효한 iCalendar 개체여야 합니다.\(MUST\)

---
### **5.3.  Creating Resources**

달력 컬렉션과 달력 객체 자원은 CalDAV 클라이언트나 CalDAV 서버에 의해 생성될 수 있습니다. 이 사양은 그러한 달력 데이터를 조작할 때 클라이언트와 서버가 모두 준수해야 하는 제한 사항과 데이터 모델을 정의합니다.\(MUST\)

---
#### **5.3.1.  MKCALENDAR Method**

MKCALENDAR 메소드를 사용하는 HTTP 요청은 새로운 캘린더 컬렉션 리소스를 생성합니다. 서버는 캘린더 컬렉션 생성을 특정 컬렉션으로 제한할 수 있습니다.\(MAY\)

서버에서 MKCALENDAR에 대한 지원은 권장 사항일 뿐 필수 사항은 아닙니다. 일부 달력 저장소는 사용자\(또는 주체\)당 하나의 달력만 지원하고 일반적으로 각 계정에 대해 미리 생성되어 있기 때문입니다. 그러나 서버와 클라이언트는 가능하면 사용자가 여러 캘린더 컬렉션을 생성하여 데이터를 더 잘 구성할 수 있도록 MKCALENDAR를 지원하는 것이 좋습니다.\(MUST\)

클라이언트는 사람이 읽을 수 있는 달력 이름에 대해 DAV:displayname 속성을 사용해야 합니다. 클라이언트는 MKCALENDAR 요청의 요청 본문에 DAV:displayname 속성 값을 지정하거나, MKCALENDAR 요청을 발행한 후 즉시 DAV:displayname 속성을 적절한 값으로 변경하기 위해 PROPPATCH 요청을 발행할 수 있습니다. 클라이언트는 DAV: displayname 속성을 동일한 URI "레벨"의 다른 캘린더 컬렉션과 동일하게 설정해서는 안 됩니다. 사용자에게 달력 컬렉션을 표시할 때 클라이언트는 DAV:displayname 속성을 확인하고 해당 값을 달력 이름으로 사용해야 합니다. DAV: displayname 속성이 비어 있는 경우 클라이언트는 캘린더 컬렉션 URI의 마지막 부분을 이름으로 사용할 수 있습니다. 그러나 해당 경로 세그먼트는 "불투명"할 수 있으며 사람이 읽을 수 있는 의미 있는 텍스트를 나타내지 않을 수 있습니다.\(SHOULD, SHOULD NOT, SHOULD, MAY\)

MKCALENDAR 요청이 실패하면 요청 이전의 서버 상태를 복원해야 합니다.\(MUST\)

마샬링:

- 요청 본문이 포함된 경우 CALDAV:mkcalendar XML 요소여야 합니다. 명령어 처리는 명령어가 수신된 순서대로\(즉, 위에서 아래로\) 이루어져야 합니다. 명령어는 모두 실행되거나 전혀 실행되지 않아야 합니다. 따라서 처리 중에 오류가 발생하면 실행된 모든 명령을 취소해야 하며 적절한 오류 결과가 반환되어야 합니다. 명령어 처리 세부정보는 \[RFC2518\] 섹션 12.13.2의 DAV:set 명령어 정의에서 확인할 수 있습니다.\(MUST, MUST, MUST, MUST\)

```text
         <!ELEMENT mkcalendar (DAV:set)>
```

- 성공적인 요청에 대한 응답 본문이 포함된 경우 CALDAV:mkcalendar-response XML 요소여야 합니다.\(MUST\)

```text
         <!ELEMENT mkcalendar-response ANY>
```

- 응답에는 Cache-Control:no-cache 헤더가 포함되어야 합니다.\(MUST\)

```text
   Preconditions:

      (DAV:resource-must-be-null): A resource MUST NOT exist at the
      Request-URI;

      (CALDAV:calendar-collection-location-ok): The Request-URI MUST
      identify a location where a calendar collection can be created;

      (CALDAV:valid-calendar-data): The time zone specified in the
      CALDAV:calendar-timezone property MUST be a valid iCalendar object
      containing a single valid VTIMEZONE component;
```

- \(DAV:needs-privilege\): DAV:bind 권한은 요청-URI의 상위 컬렉션에 있는 현재 사용자에게 부여되어야 합니다.\(MUST\)

```text
   Postconditions:
```

- \(CALDAV:initialize-calendar-collection\): 새 달력 컬렉션이 요청-URI에 존재합니다. 달력 컬렉션의 DAV:resourcetype은 DAV:collection 및 CALDAV:calendar XML 요소를 모두 포함해야 합니다.\(MUST\)

---
##### **5.3.1.1.  Status Codes**

다음은 MKCALENDAR 요청에 대한 응답으로 받을 것으로 예상되는 응답 코드의 예입니다. 이 목록은 결코 완전한 것이 아닙니다.

```text
      201 (Created) - The calendar collection resource was created in
      its entirety;
```

- 207\(다중 상태\) - 요청 본문에 지정된 하나 이상의 DAV:set 명령을 성공적으로 처리할 수 없으므로 달력 컬렉션 리소스가 생성되지 않았습니다. 다음은 이 상황에서 207\(다중 상태\) 응답에 사용될 것으로 예상되는 응답 코드의 예입니다.

```text
         403 (Forbidden) - The client, for reasons the server chooses
         not to specify, cannot alter one of the properties;

         409 (Conflict) - The client has provided a value whose
         semantics are not appropriate for the property.  This includes
         trying to set read-only properties;

         424 (Failed Dependency) - The DAV:set instruction on the
         specified resource would have succeeded if it were not for the
         failure of another DAV:set instruction specified in the request
         body;
```

- 423\(잠김\) - 지정된 리소스가 잠겨 있고 클라이언트가 잠금 소유자가 아니거나 잠금 유형에 잠금 토큰을 제출해야 하는데 클라이언트가 이를 제출하지 않았습니다. 그리고

```text
         507 (Insufficient Storage) - The server did not have sufficient
         space to record the property;

      403 (Forbidden) - This indicates at least one of two conditions:
      1) the server does not allow the creation of calendar collections
      at the given location in its namespace, or 2) the parent
      collection of the Request-URI exists but cannot accept members;

      409 (Conflict) - A collection cannot be made at the Request-URI
      until one or more intermediate collections have been created;
```

- 415\(지원되지 않는 미디어 유형\) - 서버가 본문의 요청 유형을 지원하지 않습니다. 그리고

- 507\(저장 공간 부족\) - 이 메서드 실행 후 리소스 상태를 기록할 공간이 리소스에 부족합니다.

---
##### **5.3.1.2.  Example: Successful MKCALENDAR Request**

이 예에서는 DAV:displayname, CALDAV:calendar-description, CALDAV:supported-calendar-comComponent-set 속성에 대한 특정 값을 사용하여 서버 cal.example.com에 /home/lisa/calendar-events/라는 달력 컬렉션을 생성합니다. 및 CALDAV:calendar- 시간대.

```text
   >> Request <<

   MKCALENDAR /home/lisa/calendars/events/ HTTP/1.1
   Host: cal.example.com
   Content-Type: application/xml; charset="utf-8"
   Content-Length: xxxx
```

<?xml version="1.0" 인코딩="utf-8" ?\> <C:mkcalendar xmlns:D="DAV:" xmlns:C="urn:ietf:params:xml:ns:caldav"\> <D: set\> <D:prop\> <D:displayname\>Lisa의 이벤트</D:displayname\> <C:calendar-description xml:lang="en" \>이벤트로 제한된 캘린더.</C:calendar-description\> <C: 지원되는-캘린더-구성요소-세트\> <C:comp name="VEVENT"/\> </C:supported-calendar-comComponent-set\> <C:calendar-timezone\><!\[CDATA\[BEGIN:VCALENDAR PRODID:-/ /Example Corp.//CalDAV Client//EN VERSION:2.0 BEGIN:VTIMEZONE TZID:US-Eastern LAST-MODIFIED:19870101T000000Z BEGIN:STANDARD DTSTART:19671029T020000 RRULE:FREQ=YEARLY;BYDAY=-1SU;BYMONTH=10 TZOFFSETFROM: - 0400 TZOFFSETTO:-0500 TZNAME:동부 표준시\(미국 및 캐나다\) END:STANDARD BEGIN:DAYLIGHT DTSTART:19870405T020000 RRULE:FREQ=YEARLY;BYDAY=1SU;BYMONTH=4 TZOFFSETFROM:-0500 TZOFFSETTO:-0400 TZNAME:동부 일광 절약 시간 \(미국 및 캐나다\) END:DAYLIGHT END:VTIMEZONE END:VCALENDAR \]\]\></C:calendar-timezone\> </D:prop\> </D:set\> </C:mkcalendar\>

```text
   >> Response <<

   HTTP/1.1 201 Created
   Cache-Control: no-cache
   Date: Sat, 11 Nov 2006 09:32:12 GMT
   Content-Length: 0
```

---
#### **5.3.2.  Creating Calendar Object Resources**

클라이언트는 달력 개체 리소스로 달력 컬렉션을 채웁니다. 각 달력 개체 리소스의 URL은 완전히 임의적이며 달력 개체 리소스의 iCalendar 속성 또는 기타 메타데이터에 대한 특정 관계를 가질 필요가 없습니다. 매핑되지 않은 URI를 대상으로 하는 PUT 요청을 사용하여 새 캘린더 개체 리소스를 생성해야 합니다. 매핑된 URI를 대상으로 하는 PUT 요청은 기존 달력 개체 리소스를 업데이트합니다.\(MUST\)

서버가 새 리소스를 생성할 때 서버가 매핑되지 않은 URI를 선택하는 것은 어렵지 않습니다. 클라이언트가 컬렉션의 모든 리소스를 검사하는 것을 원하지 않을 수도 있고 이름 충돌로 인해 새 리소스가 생성되지 않도록 전체 컬렉션을 잠그는 것을 원하지 않을 수도 있기 때문에 클라이언트에게는 약간 더 어렵습니다. 그러나 이를 완화할 수 있는 HTTP 기능이 있습니다. 클라이언트가 새로운 VEVENT와 같은 새로운 비수집 리소스를 생성하려는 경우 클라이언트는 PUT 요청에서 HTTP 요청 헤더 "If-None-Match: \*"를 사용해야 합니다. PUT 요청의 Request-URI에는 리소스가 생성될 대상 컬렉션과 마지막 경로 세그먼트의 리소스 이름이 포함되어야 합니다. "If-None-Match: \*" 요청 헤더는 마지막 경로 세그먼트가 이미 사용된 것으로 판명된 경우 클라이언트가 실수로 기존 리소스를 덮어쓰지 않도록 보장합니다.\(SHOULD, MUST\)

```text
   >> Request <<

   PUT /home/lisa/calendars/events/qwue23489.ics HTTP/1.1
   If-None-Match: *
   Host: cal.example.com
   Content-Type: text/calendar
   Content-Length: xxxx

   BEGIN:VCALENDAR
   VERSION:2.0
   PRODID:-//Example Corp.//CalDAV Client//EN
   BEGIN:VEVENT
   UID:20010712T182145Z-123401@example.com
   DTSTAMP:20060712T182145Z
   DTSTART:20060714T170000Z
   DTEND:20060715T040000Z
   SUMMARY:Bastille Day Party
   END:VEVENT
   END:VCALENDAR

   >> Response <<

   HTTP/1.1 201 Created
   Content-Length: 0
   Date: Sat, 11 Nov 2006 09:32:12 GMT
   ETag: "123456789-000-111"
```

기존 이벤트 변경 요청은 동일하지만 "If-None-Match" 헤더가 아닌 "If-Match" 헤더에 특정 ETag가 포함되어 있습니다.

\[RFC2445\]의 3.10절에 표시된 대로 달력 및 일정 정보\(임의의 집합\)를 포함하는 달력 개체 리소스의 URL에는 ".ics"라는 접미사가 붙을 수 있으며, 한가함 또는 바쁜 시간 정보가 포함된 달력 개체 리소스의 URL은 다음과 같습니다. ".ifb"라는 접미사가 붙습니다.

---
##### **5.3.2.1.  Additional Preconditions for PUT, COPY, and MOVE**

이 사양은 PUT, COPY 및 MOVE 메서드에 대한 추가 전제 조건을 생성합니다. 이러한 전제 조건은 달력 개체 리소스를 달력 컬렉션으로 PUT 작업을 수행할 때, 달력 개체 리소스를 달력 컬렉션으로 COPY 또는 MOVE 작업을 수행할 때, 달력 컬렉션에서 COPY 또는 MOVE 작업을 수행할 때 적용됩니다.

새로운 전제 조건은 다음과 같습니다.

```text
      (CALDAV:supported-calendar-data): The resource submitted in the
      PUT request, or targeted by a COPY or MOVE request, MUST be a
      supported media type (i.e., iCalendar) for calendar object
      resources;

      (CALDAV:valid-calendar-data): The resource submitted in the PUT
      request, or targeted by a COPY or MOVE request, MUST be valid data
      for the media type being specified (i.e., MUST contain valid
      iCalendar data);

      (CALDAV:valid-calendar-object-resource): The resource submitted in
      the PUT request, or targeted by a COPY or MOVE request, MUST obey
      all restrictions specified in Section 4.1 (e.g., calendar object
      resources MUST NOT contain more than one type of calendar
      component, calendar object resources MUST NOT specify the
      iCalendar METHOD property, etc.);

      (CALDAV:supported-calendar-component): The resource submitted in
      the PUT request, or targeted by a COPY or MOVE request, MUST
      contain a type of calendar component that is supported in the
      targeted calendar collection;

      (CALDAV:no-uid-conflict): The resource submitted in the PUT
      request, or targeted by a COPY or MOVE request, MUST NOT specify
      an iCalendar UID property value already in use in the targeted
      calendar collection or overwrite an existing calendar object
      resource with one that has a different UID property value.
      Servers SHOULD report the URL of the resource that is already
      making use of the same UID property value in the DAV:href element;

                <!ELEMENT no-uid-conflict (DAV:href)>

      (CALDAV:calendar-collection-location-ok): In a COPY or MOVE
      request, when the Request-URI is a calendar collection, the
      Destination-URI MUST identify a location where a calendar
      collection can be created;

      (CALDAV:max-resource-size): The resource submitted in the PUT
      request, or targeted by a COPY or MOVE request, MUST have an octet
      size less than or equal to the value of the CALDAV:max-resource-
      size property value (Section 5.2.5) on the calendar collection
      where the resource will be stored;
```

- \(CALDAV:min-date-time\): PUT 요청으로 제출되거나 COPY 또는 MOVE 요청의 대상이 되는 리소스는 iCalendar DATE 또는 DATE-TIME 속성 값을 모두 가져야 합니다\(각 반복 항목에 대해\).\(MUST\)

```text
      instance) greater than or equal to the value of the CALDAV:min-
      date-time property value (Section 5.2.6) on the calendar
      collection where the resource will be stored;

      (CALDAV:max-date-time): The resource submitted in the PUT request,
      or targeted by a COPY or MOVE request, MUST have all of its
      iCalendar DATE or DATE-TIME property values (for each recurring
      instance) less than the value of the CALDAV:max-date-time property
      value (Section 5.2.7) on the calendar collection where the
      resource will be stored;

      (CALDAV:max-instances): The resource submitted in the PUT request,
      or targeted by a COPY or MOVE request, MUST generate a number of
      recurring instances less than or equal to the value of the CALDAV:
      max-instances property value (Section 5.2.8) on the calendar
      collection where the resource will be stored;

      (CALDAV:max-attendees-per-instance): The resource submitted in the
      PUT request, or targeted by a COPY or MOVE request, MUST have a
      number of ATTENDEE properties on any one instance less than or
      equal to the value of the CALDAV:max-attendees-per-instance
      property value (Section 5.2.9) on the calendar collection where
      the resource will be stored;
```

---
#### **5.3.3.  Non-Standard Components, Properties, and Parameters**

iCalendar는 "비표준 작업을 수행하기 위한 표준 메커니즘"을 제공합니다. 이 확장 지원을 통해 구현자는 이름 앞에 "X-"라는 텍스트가 붙은 비표준 구성 요소, 속성 및 매개 변수를 사용할 수 있습니다.

서버는 PUT 메소드를 통해 저장된 달력 개체 리소스의 비표준 구성 요소, 속성 및 매개 변수의 사용을 지원해야 합니다.\(MUST\)

서버는 자신의 "개인" 구성 요소, 속성 또는 매개 변수에 대한 규칙을 시행해야 할 수 있으므로 클라이언트가 이를 변경하려는 시도를 거부하거나 서버가 가질 수 있는 제한 사항을 벗어나는 값을 사용할 수 있습니다. 서버는 사용하는 모든 "비공개" 구성 요소, 속성 또는 매개변수가 \[RFC2445\]의 섹션 4.2에 설명된 대로 "X-" 이름에 공급업체 ID를 포함하는 규칙을 따르는지 확인해야 합니다\(예: "X-ABC-PRIVATE\). ".\(MAY, SHOULD\)

---
#### **5.3.4.  Calendar Object Resource Entity Tag**

DAV:getetag 속성은 모든 달력 개체 리소스에 대해 강력한 엔터티 태그로 정의되고 설정되어야 합니다.\(MUST\)

달력 객체 자원을 대상으로 하는 GET 요청에 대한 응답은 달력 객체 자원의 강력한 엔터티 태그의 현재 값을 나타내는 ETag 응답 헤더 필드를 포함해야 합니다.\(MUST\)

서버는 저장된 달력 개체 리소스가 PUT 요청 본문에 제출된 달력 개체 리소스와 옥텟 동일성으로 동일한 경우 PUT 응답에 강력한 엔터티 태그\(ETag 헤더\)를 반환해야 합니다. 이를 통해 클라이언트는 데이터 동기화 목적으로 반환된 강력한 엔터티 태그를 안정적으로 사용할 수 있습니다. 예를 들어, 클라이언트는 저장된 달력 개체 리소스에 대해 PROPFIND 요청을 수행하고 DAV:getetag 속성을 반환하고 해당 값을 PUT 응답에서 수신한 강력한 엔터티 태그와 비교하여 두 값이 동일한지 알 수 있습니다. 서버의 달력 개체 리소스는 변경되지 않았습니다.\(SHOULD\)

PUT 요청의 결과로 서버에 저장된 데이터가 제출된 달력 개체 리소스와 옥텟 동일성이 동일하지 않은 경우 강력한 엔터티 태그를 제외하고 ETag 응답 헤더의 동작은 여기에 지정되지 않습니다. 응답으로 반환되어서는 안 됩니다. 결과적으로 클라이언트는 PUT 요청과 함께 보낸 달력 개체 리소스를 사용하는 대신 추가 변경을 위한 기반으로 수정된 달력 개체 리소스\(및 ETag\)를 검색해야 할 수도 있습니다.\(MUST NOT\)

---
## **6.  Calendaring Access Control**
---
### **6.1.  Calendaring Privilege**

CalDAV 서버는 WebDAV ACL \[RFC3744\]의 요구 사항을 지원하고 준수해야 합니다. WebDAV ACL은 WebDAV 컬렉션 및 일반 리소스에 적용할 수 있는 확장 가능한 권한 집합에 대한 프레임워크를 제공합니다. CalDAV 서버는 또한 이 섹션에 정의된 달력 권한을 지원해야 합니다.\(MUST, MUST\)

---
#### **6.1.1.  CALDAV:read-free-busy Privilege**

캘린더 사용자는 캘린더 구성요소의 다른 세부정보\(예: 위치, 요약, 참석자\)를 보지 않고도 다른 사용자가 자신의 바쁜 시간 정보만 볼 수 있기를 원하는 경우가 많습니다. 이를 통해 상당한 양의 개인 정보 보호가 가능하면서도 다른 사용자가 자신이 한가할 것 같은 시간에 회의 일정을 잡을 수 있습니다.

CALDAV:read-free-busy 권한은 CALDAV:free-busy-query REPORT 요청이 처리될 때 검사되는 달력 컬렉션, 일반 컬렉션 및 달력 개체 리소스를 제어합니다\(섹션 7.10 참조\). 이 권한은 달력 컬렉션, 일반 컬렉션 또는 달력 개체 자원에 부여될 수 있습니다.

서버는 모든 달력 컬렉션, 일반 컬렉션 및 달력 개체 리소스에 대해 이 권한을 지원해야 합니다.\(MUST\)

```text
           <!ELEMENT read-free-busy EMPTY>
```

CALDAV:read-free-busy 권한은 DAV: 읽기 권한에 통합되어야 합니다. 서버는 DAV:읽기 권한이 부여되지 않은 상태에서 CALDAV:read-free-busy가 부여되도록 허용해야 합니다.\(MUST, MUST\)

클라이언트는 CALDAV:read-free-busy 권한만 리소스에 부여된 경우 해당 리소스의 GET, HEAD, OPTIONS 및 PROPFIND에 대한 액세스가 암시되지 않는다는 점에 유의해야 합니다\(해당 작업은 DAV:read 권한에 의해 관리됨\). .

---
### **6.2.  Additional Principal Property**

이 섹션에서는 \[RFC3744\]에 정의된 대로 WebDAV 주요 리소스에 대한 추가 속성을 정의합니다.

---
#### **6.2.1.  CALDAV:calendar-home-set Property**

```text
   Name:  calendar-home-set

   Namespace:  urn:ietf:params:xml:ns:caldav
```

목적: 연결된 주요 리소스가 소유한 달력 컬렉션을 포함하는 WebDAV 컬렉션의 URL을 식별합니다.

적합성: 이 속성은 주체에 정의되어야 합니다.

-  자원. 정의된 경우 보호될 수 있으며 PROPFIND DAV:allprop 요청\(\[RFC2518\]의 섹션 12.14.1에 정의됨\)에 의해 반환되어서는 안 됩니다.\(SHOULD, SHOULD NOT\)

설명: CALDAV:calendar-home-set 속성은 사용자가 주체가 소유한 캘린더 컬렉션을 쉽게 찾을 수 있도록 하기 위한 것입니다. 일반적으로 사용자는 자신이 소유한 모든 캘린더 컬렉션을 공통 컬렉션으로 그룹화합니다. 이 속성은 캘린더 컬렉션 또는 주체가 소유한 하위 또는 하위 캘린더 컬렉션이 있는 일반 컬렉션인 컬렉션의 URL을 지정합니다.

```text
   Definition:

         <!ELEMENT calendar-home-set (DAV:href*)>

   Example:

       <C:calendar-home-set xmlns:D="DAV:"
                            xmlns:C="urn:ietf:params:xml:ns:caldav">
         <D:href>http://cal.example.com/home/bernard/calendars/</D:href>
       </C:calendar-home-set>
```

---
## **7.  Calendaring Reports**

이 섹션에서는 CalDAV 서버가 달력 모음 및 달력 개체 자원에 대해 반드시 지원해야 하는 보고서를 정의합니다.\(MUST\)

CalDAV 서버는 \[RFC3253\]의 섹션 3.1.5에 정의된 DAV:supported-report-set 속성을 사용하여 모든 달력 컬렉션 및 달력 개체 리소스에 대한 이러한 보고서에 대한 지원을 광고해야 합니다. CalDAV 서버는 일반 컬렉션에 대한 이러한 보고서 지원을 광고할 수도 있습니다.\(MUST, MAY\)

이러한 보고서 중 일부는 캘린더 데이터\(여러 리소스의\) 반환을 허용합니다.

---
### **7.1.  REPORT Method**

REPORT 메서드\(\[RFC3253\]의 섹션 3.6에 정의됨\)는 하나 이상의 리소스에 대한 정보를 얻기 위한 확장 가능한 메커니즘을 제공합니다. 하나 이상의 명명된 속성 값을 반환하는 PROPFIND 메서드와 달리 REPORT 메서드는 더 복잡한 처리를 포함할 수 있습니다. REPORT는 서버가 복잡한 요청\(예: 쿼리\)을 수행하는 데 필요한 모든 정보에 액세스할 수 있고 클라이언트가 동일한 요청을 수행하는 데 필요한 정보를 검색하기 위해 여러 요청이 필요한 경우에 유용합니다.

CalDAV 서버는 \[RFC3253\]의 섹션 3.8에 정의된 DAV:expand-property REPORT를 지원해야 합니다.\(MUST\)

---
### **7.2.  Ordinary Collections**

서버는 캘린더 컬렉션 또는 캘린더 개체 리소스 외에도 일반 컬렉션\(캘린더 컬렉션이 아닌 컬렉션\)에 대해 이 문서에 정의된 보고서를 지원할 수 있습니다. 일반 컬렉션에 대한 보고서에 대한 응답을 계산할 때 서버는 Depth 요청 헤더의 값을 기반으로 REPORT 요청의 대상이 되는 달력 컬렉션에 포함된 달력 개체 리소스만 고려해야 합니다.\(MAY, MUST\)

---
### **7.3.  Date and Floating Time**

iCalendar는 특히 어떤 시간대에도 구속되지 않는 DATE 및 DATE-TIME 값\(이하 각각 "부동 날짜" 및 "부동 시간"이라고 함\)을 지정하는 방법을 제공합니다. 이러한 값은 관찰되는 시간대에 관계없이 동일한 일, 시, 분, 초 값을 나타내는 데 사용됩니다. 예를 들어, DATE 값 "20051111"은 특정 시간대가 없는 2005년 11월 11일을 나타내고, DATE-TIME 값 "20051111T111100"은 2005년 11월 11일 오전 11시 11분을 나타냅니다. 특정 시간대가 없습니다.

CalDAV 서버는 REPORT 요청 일정을 처리할 때 날짜의 "부동 날짜" 및 "부동 시간" 값을 UTC 시간 값으로 변환해야 할 수도 있습니다.

CALDAV:calendar-query REPORT의 경우 CalDAV 서버는 요청 본문의 일부로 지정된 경우 CALDAV:timezone XML 요소의 값을 사용하여 "부동 날짜" 및 "부동 시간" 값을 다음으로 적절하게 변환해야 합니다. UTC 시간 값이 있는 날짜입니다. CALDAV: timezone XML 요소가 요청 본문에 지정되지 않은 경우 CalDAV 서버는 정의된 경우 CALDAV:calendar-timezone 속성 값에 의존해야 하며, 그렇지 않으면 CalDAV 서버는 선택한 시간대에 의존할 수 있습니다.\(MUST, MUST\)

CALDAV:free-busy-query REPORT의 경우 CalDAV 서버는 정의된 경우 CALDAV:calendar-timezone 속성 값을 사용하여 "부동"으로 예약된 달력 구성 요소에 대한 UTC 시간이 포함된 날짜로 적절한 FREEBUSY 기간 값을 계산해야 합니다. 날짜" 또는 "부동 시간". CALDAV:calendar-timezone 속성이 정의되지 않은 경우 CalDAV 서버는 선택한 시간대에 의존할 수 있습니다.\(MUST, MAY\)

---
### **7.4.  Time Range Filtering**

이 섹션에 정의된 일부 보고서에는 지정된 시간 범위와 겹치는 리소스로만 반환되는 달력 개체 리소스 집합을 제한하는 데 사용되는 시간 범위 필터가 포함될 수 있습니다. 시간 범위 필터는 달력 구성 요소 전체에 적용하거나 DATE 또는 DATE-TIME 값 유형을 사용하는 특정 달력 구성 요소 속성에 적용할 수 있습니다.

달력 개체 리소스가 시간 범위 필터 요소와 일치하는지 확인하기 위해 대상 구성 요소 또는 속성의 시작 및 종료 시간을 확인한 다음 요청된 시간 범위와 비교합니다. 요청된 시간 범위와 겹치는 부분이 있으면 달력 개체 리소스가 필터 요소와 일치합니다. 달력 구성 요소의 실제 시작 및 종료 시간을 결정하기 위해 \[RFC2445\]에 정의된 규칙을 사용해야 하며 이 규칙은 이 문서의 섹션 9.9에 완전히 열거되어 있습니다.\(MUST\)

이러한 시간 범위 필터링을 사용하는 경우 VEVENT 및 VTODO와 같은 반복 달력 구성 요소를 특별히 고려해야 합니다. 서버는 반복 인스턴스가 지정된 시간 범위와 겹치는지 여부를 확인하기 위해 반복 구성 요소를 확장해야 합니다. 하나 이상의 반복 인스턴스가 시간 범위와 겹치는 경우 달력 개체 리소스가 필터 요소와 일치합니다.\(MUST\)

---
### **7.5.  Searching Text: Collations**

이 섹션에 정의된 일부 보고서는 클라이언트가 제공한 문자열과 텍스트 일치를 수행하고 저장된 달력 데이터와 비교됩니다. iCalendar 데이터는 기본적으로 UTF-8 문자 세트로 인코딩되고 일부 속성 및 매개변수 값에 US-ASCII 문자 세트 범위 밖의 문자를 포함할 수 있으므로 텍스트 일치가 잘 정의된 규칙을 따르는지 확인해야 합니다.

이를 처리하기 위해 이 사양에서는 \[RFC4790\]에 정의된 IANA 데이터 정렬 레지스트리를 사용하여 잘 정의된 규칙으로 텍스트 비교 작업을 수행하는 데 사용할 수 있는 데이터 정렬을 지정합니다.

CalDAV에서 사용되는 비교는 \[RFC4790\], 섹션 4.2에 따라 모두 "하위 문자열" 일치입니다. 서버에서 지원하는 데이터 정렬은 "하위 문자열" 일치 작업을 지원해야 합니다.\(MUST\)

CalDAV 서버는 \[RFC4790\]에 설명된 대로 "i;ascii-casemap" 및 "i;octet" 데이터 정렬을 지원해야 하며 다른 데이터 정렬을 지원할 수도 있습니다.\(MUST\)

서버는 데이터 정렬을 사용하는 보고서를 지원하는 모든 리소스에 정의된 CALDAV:supported-collation-set 속성을 통해 지원하는 데이터 정렬 집합을 광고해야 합니다.\(MUST\)

클라이언트는 서버가 광고한 목록의 데이터 정렬만 사용해야 합니다.\(MUST\)

클라이언트가 명시적으로 지정한 데이터 정렬이 없거나 클라이언트가 "기본" 데이터 정렬 식별자\(\[RFC4790\], 섹션 3.1에 정의된 대로\)를 지정하는 경우 서버는 기본적으로 "i;ascii-casemap"을 사용하도록 설정해야 합니다. 대조.\(MUST\)

와일드카드\(\[RFC4790\], 섹션 3.2에 정의된 대로\)는 대조 식별자에 사용되어서는 안 됩니다.\(MUST NOT\)

클라이언트가 서버에서 지원하지 않는 데이터 정렬을 선택하는 경우 서버는 CALDAV:supported-collation 전제 조건 오류 응답으로 응답해야 합니다.\(MUST\)

---
#### **7.5.1.  CALDAV:supported-collation-set Property**

```text
   Name:  supported-collation-set

   Namespace:  urn:ietf:params:xml:ns:caldav
```

목적: 텍스트 일치 작업을 위해 서버에서 지원하는 데이터 정렬 집합을 식별합니다.

적합성: 이 속성은 텍스트 일치를 수행하는 보고서를 지원하는 모든 리소스에 대해 정의되어야 합니다. 정의된 경우 이는 보호되어야 하며\(MUST\) PROPFIND DAV:allprop 요청\(\[RFC2518\]의 섹션 12.14.1에 정의됨\)에 의해 반환되어서는 안 됩니다.\(MUST, MUST\)

설명: CALDAV:supported-collation-set 속성에는 서버에서 지원하는 데이터 정렬의 컬렉션 식별자를 지정하는 0개 이상의 CALDAV:supported-collation 요소가 포함되어 있습니다.

```text
   Definition:

         <!ELEMENT supported-collation-set (supported-collation*)>

         <!ELEMENT supported-collation (#PCDATA)>

   Example:

       <C:supported-collation-set
           xmlns:C="urn:ietf:params:xml:ns:caldav">
         <C:supported-collation>i;ascii-casemap</C:supported-collation>
         <C:supported-collation>i;octet</C:supported-collation>
       </C:supported-collation-set>
```

---
### **7.6.  Partial Retrieval**

이 문서에 정의된 일부 달력 보고서는 달력 개체 자원의 부분 검색을 허용합니다. CalDAV 클라이언트는 달력 REPORT 요청의 본문에 반환할 정보를 지정할 수 있습니다.

CalDAV 클라이언트는 특정 WebDAV 속성 값, 모든 WebDAV 속성 값 또는 리소스의 WebDAV 속성 이름 목록을 요청할 수 있습니다. CalDAV 클라이언트는 또한 달력 데이터가 반환되도록 요청할 수 있으며 모든 달력 구성 요소와 속성을 반환해야 하는지 아니면 특정 항목만 반환해야 하는지 지정할 수 있습니다. 섹션 9.6의 CALDAV: 달력 데이터를 참조하세요.

기본적으로 반환된 달력 데이터에는 "마스터 구성 요소"라고 하는 반복 집합을 정의하는 구성 요소와 "재정의된 구성 요소"라고 하는 반복 집합에 대한 예외를 정의하는 구성 요소가 포함됩니다.

지정된 시간 범위와 겹치는 반복 인스턴스에만 관심이 있는 CalDAV 클라이언트는 지정된 시간 범위에 영향을 미치는 "재정의된 구성 요소"와 함께 "마스터 구성 요소"만 수신하도록 요청할 수 있습니다. 서버\(섹션 9.6.6의 CALDAV:limit-recurrence-set 참조\). 재정의된 구성 요소는 현재 시작 및 종료 시간이 시간 범위와 겹치거나 원래 시작 및 종료 시간\(인스턴스가 재정의되지 않은 경우 사용되었을 시간\)이 시간 범위와 겹치는 경우 시간 범위에 영향을 줍니다. 시간 범위와 겹치는 다른 인스턴스에 영향을 미치는 경우

반복 속성\(예: EXDATE, EXRULE, RDATE 및 RRULE\) 및 VTIMEZONE 구성 요소를 지원하지 않는 CalDAV 클라이언트 또는 제한된 처리 기능으로 인해 반복 확장을 수행하지 않으려는 클라이언트는 겹치는 반복 인스턴스만 수신하도록 요청할 수 있습니다. 각각 정확히 하나의 반복 인스턴스를 정의하는 별도의 달력 구성 요소로 지정된 시간 범위\(섹션 9.6.5의 CALDAV:expand 참조\)

마지막으로 VFREEBUSY 구성 요소의 경우 CalDAV 클라이언트는 지정된 시간 범위와 겹치는 FREEBUSY 속성 값만 수신하도록 요청할 수 있습니다\(섹션 9.6.7의 CALDAV:limit-freebusy-set 참조\).

---
### **7.7.  Non-Standard Components, Properties, and Parameters**

서버는 클라이언트가 비표준 구성 요소, 속성 및 매개 변수가 달력 데이터에 반환되도록 요청할 수 있도록 달력 REPORT 요청의 CALDAV:calendar-data XML 요소에서 비표준 구성 요소, 속성 또는 매개 변수 이름의 사용을 지원해야 합니다. 응답으로 제공됩니다.\(MUST\)

서버는 달력 REPORT 요청의 CALDAV:filter XML 요소에 지정된 CALDAV:comp-filter, CALDAV:prop-filter 및 CALDAV:param-filter XML 요소에서 비표준 구성 요소, 속성 또는 매개 변수 이름의 사용을 지원할 수 있습니다. .\(MAY\)

달력 REPORT 요청이 비표준 구성 요소, 속성을 참조하는 CALDAV:comp-filter, CALDAV:prop-filter 또는 CALDAV:param-filter XML 요소를 사용하는 경우 서버는 CALDAV:supported-filter 전제 조건으로 인해 실패해야 합니다. 또는 서버가 쿼리를 지원하지 않는 매개변수 이름입니다.\(MUST\)

---
### **7.8.  CALDAV:calendar-query REPORT**

CALDAV:calendar-query REPORT는 지정된 필터와 일치하는 모든 달력 개체 리소스에 대한 검색을 수행합니다. 이 보고서의 응답에는 요청에 지정된 모든 WebDAV 속성과 달력 개체 리소스 데이터가 포함됩니다. CALDAV: 달력 데이터 XML 요소의 경우 필터와 일치하는 달력 개체 리소스 데이터에 반환되어야 하는 달력 구성 요소 및 속성을 명시적으로 지정할 수 있습니다.

이 보고서의 형식은 PROPFIND 방법을 모델로 합니다. CALDAV:calendar-query REPORT의 요청 및 응답 본문은 PROPFIND에서도 사용되는 XML 요소를 사용합니다. 특히 요청에는 WebDAV 속성이 반환되도록 요청하는 XML 요소가 포함될 수 있습니다. 이러한 상황이 발생하면 응답은 특정 속성 결과를 반환하는 데 사용되는 DAV:multistatus 응답 요소와 관련하여 PROPFIND와 동일한 동작을 따라야 합니다. 예를 들어, 존재하지 않는 속성 값을 검색하라는 요청은 오류이므로 404\(찾을 수 없음\) 상태 값이 포함된 응답 XML 요소로 기록되어야 합니다.\(MUST\)

CALDAV:calendar-query REPORT에 대한 지원이 필요합니다.\(MUST\)

```text
   Marshalling:
```

- 요청 본문은 섹션 9.5에 정의된 대로 CALDAV:calendar-query XML 요소여야 합니다.\(MUST\)

- 요청에는 Depth 헤더가 포함될 수 있습니다. Depth 헤더가 포함되지 않은 경우 Depth:0으로 간주됩니다.\(MAY\)

성공적인 요청에 대한 응답 본문은 DAV여야 합니다.

- 다중 상태 XML 요소\(즉, 응답은 PROPFIND에 대한 응답과 동일한 형식을 사용합니다\). 응답 요소가 없는 경우 반환된 DAV:multistatus XML 요소는 비어 있습니다.\(MUST\)

- 성공적인 CALDAV:calendar-query REPORT 요청에 대한 응답 본문에는 검색 필터와 일치하는 각 iCalendar 개체에 대한 DAV:response 요소가 포함되어야 합니다. 달력 데이터는 DAV: propstat XML 요소 내의 CALDAV:calendar-data XML 요소에 반환됩니다.\(MUST\)

```text
   Preconditions:
```

- \(CALDAV:supported-calendar-data\): CALDAV:calendar-data XML 요소의 "content-type" 및 "version" 속성\(참조:

- 섹션 9.6\) 달력 객체 자원에 대해 서버가 지원하는 미디어 유형을 지정합니다.

\(CALDAV:valid-filter\): CALDAV:filter XML 요소\(참조:

- REPORT 요청에 지정된 섹션 9.7\)은 유효해야 합니다. 예를 들어 CALDAV:filter는 <C:comp name="VTODO"\> 요소에 <C:comp name="VEVENT"\> 요소를 중첩할 수 없으며 CALDAV:filter는 <C:time-range start를 중첩할 수 없습니다. ="..." end="..."\> <C:prop name="SUMMARY"\> 요소의 요소입니다.\(MUST\)

\(CALDAV:supported-filter\): CALDAV:comp-filter\(참조:

- 섹션 9.7.1\), CALDAV:prop-filter\(섹션 9.7.2 참조\) 및 CALDAV:param-filter\(섹션 9.7.3 참조\)에서 CALDAV:filter XML 요소\(섹션 9.7 참조\)에 사용되는 XML 요소 REPORT 요청은 쿼리가 서버에서 지원되는 구성 요소, 속성 및 매개 변수만 참조합니다. 즉, CALDAV: 필터 요소가 지원되지 않는 구성 요소, 속성 또는 매개 변수를 참조하려고 하면 이 전제 조건이 위반됩니다. 서버는 지원을 제공하지 않는 CALDAV:comp-filter, CALDAV:prop-filter 또는 CALDAV:param-filter를 보고해야 합니다.\(SHOULD\)

```text
            <!ELEMENT supported-filter (comp-filter*,
                                        prop-filter*,
                                        param-filter*)>
```

- \(CALDAV:valid-calendar-data\): REPORT 요청에 지정된 시간대는 유효한 단일 VTIMEZONE 구성 요소를 포함하는 유효한 iCalendar 개체여야 합니다.\(MUST\)

```text
      (CALDAV:min-date-time): Any XML element specifying a range of time
      MUST have its start or end DATE or DATE-TIME values greater than
      or equal to the value of the CALDAV:min-date-time property value
      (Section 5.2.6) on the calendar collections being targeted by the
      REPORT request;

      (CALDAV:max-date-time): Any XML element specifying a range of time
      MUST have its start or end DATE or DATE-TIME values less than or
      equal to the value of the CALDAV:max-date-time property value
      (Section 5.2.7) on the calendar collections being targeted by the
      REPORT request;
```

- \(CALDAV:supported-collation\): 데이터 정렬을 지정하는 모든 XML 속성은 섹션 7.5에 설명된 대로 서버가 지원하는 데이터 정렬을 지정해야 합니다.\(MUST\)

```text
   Postconditions:
```

- \(DAV:number-of-matches-within-limits\): 일치하는 달력 개체 리소스의 수는 서버별로 미리 정의된 제한 내에 있어야 합니다. 예를 들어, 검색 사양으로 인해 매우 많은 수의 응답이 반환되는 경우 이 조건이 트리거될 수 있습니다.

---
#### **7.8.1.  Example: Partial Retrieval of Events by Time Range**

이 예에서 클라이언트는 2006년 1월 4일 오전 00:00:00부터 시간 범위와 겹치는 VEVENT 구성 요소의 특정 구성 요소와 속성을 반환하도록 서버에 요청합니다. UTC 기준 2006년 1월 5일 오전 00:00:00 UTC. 또한 DAV:getetag 속성도 요청되어 응답의 일부로 반환됩니다. 반환된 첫 번째 달력 개체는 첫 번째 인스턴스가 요청된 시간 범위를 벗어나지만 세 번째 인스턴스가 시간 범위와 겹치는 반복 이벤트입니다. CALDAV: 달력 데이터 요소 제한으로 인해 VEVENT 구성 요소의 DTSTAMP 속성이 반환되지 않았으며 VCALENDAR 개체에 반환된 유일한 속성은 VERSION입니다.

이 예에서 대상으로 삼는 달력 데이터는 부록 B를 참조하세요.

```text
   >> Request <<

   REPORT /bernard/work/ HTTP/1.1
   Host: cal.example.com
   Depth: 1
   Content-Type: application/xml; charset="utf-8"
   Content-Length: xxxx

   <?xml version="1.0" encoding="utf-8" ?>
   <C:calendar-query xmlns:D="DAV:"
                 xmlns:C="urn:ietf:params:xml:ns:caldav">
     <D:prop>
       <D:getetag/>
       <C:calendar-data>
         <C:comp name="VCALENDAR">
           <C:prop name="VERSION"/>
           <C:comp name="VEVENT">
             <C:prop name="SUMMARY"/>
             <C:prop name="UID"/>
             <C:prop name="DTSTART"/>
             <C:prop name="DTEND"/>
             <C:prop name="DURATION"/>
             <C:prop name="RRULE"/>
             <C:prop name="RDATE"/>
             <C:prop name="EXRULE"/>
             <C:prop name="EXDATE"/>
             <C:prop name="RECURRENCE-ID"/>
           </C:comp>
           <C:comp name="VTIMEZONE"/>
         </C:comp>
       </C:calendar-data>
     </D:prop>
     <C:filter>
       <C:comp-filter name="VCALENDAR">
         <C:comp-filter name="VEVENT">
           <C:time-range start="20060104T000000Z"
                         end="20060105T000000Z"/>
         </C:comp-filter>
       </C:comp-filter>
     </C:filter>
   </C:calendar-query>

   >> Response <<

   HTTP/1.1 207 Multi-Status
   Date: Sat, 11 Nov 2006 09:32:12 GMT
   Content-Type: application/xml; charset="utf-8"
   Content-Length: xxxx

   <?xml version="1.0" encoding="utf-8" ?>
   <D:multistatus xmlns:D="DAV:"
              xmlns:C="urn:ietf:params:xml:ns:caldav">
     <D:response>
       <D:href>http://cal.example.com/bernard/work/abcd2.ics</D:href>
       <D:propstat>
         <D:prop>
           <D:getetag>"fffff-abcd2"</D:getetag>
           <C:calendar-data>BEGIN:VCALENDAR
   VERSION:2.0
   BEGIN:VTIMEZONE
   LAST-MODIFIED:20040110T032845Z
   TZID:US/Eastern
   BEGIN:DAYLIGHT
   DTSTART:20000404T020000
   RRULE:FREQ=YEARLY;BYDAY=1SU;BYMONTH=4
   TZNAME:EDT
   TZOFFSETFROM:-0500
   TZOFFSETTO:-0400
   END:DAYLIGHT
   BEGIN:STANDARD
   DTSTART:20001026T020000
   RRULE:FREQ=YEARLY;BYDAY=-1SU;BYMONTH=10
   TZNAME:EST
   TZOFFSETFROM:-0400
   TZOFFSETTO:-0500
   END:STANDARD
   END:VTIMEZONE
   BEGIN:VEVENT
   DTSTART;TZID=US/Eastern:20060102T120000
   DURATION:PT1H
   RRULE:FREQ=DAILY;COUNT=5
   SUMMARY:Event #2
   UID:00959BC664CA650E933C892C@example.com
   END:VEVENT
   BEGIN:VEVENT
   DTSTART;TZID=US/Eastern:20060104T140000
   DURATION:PT1H
   RECURRENCE-ID;TZID=US/Eastern:20060104T120000
   SUMMARY:Event #2 bis
   UID:00959BC664CA650E933C892C@example.com
   END:VEVENT
   BEGIN:VEVENT
   DTSTART;TZID=US/Eastern:20060106T140000
   DURATION:PT1H
   RECURRENCE-ID;TZID=US/Eastern:20060106T120000
   SUMMARY:Event #2 bis bis
   UID:00959BC664CA650E933C892C@example.com

   END:VEVENT
   END:VCALENDAR
   </C:calendar-data>
         </D:prop>
         <D:status>HTTP/1.1 200 OK</D:status>
       </D:propstat>
     </D:response>
     <D:response>
       <D:href>http://cal.example.com/bernard/work/abcd3.ics</D:href>
       <D:propstat>
         <D:prop>
           <D:getetag>"fffff-abcd3"</D:getetag>
           <C:calendar-data>BEGIN:VCALENDAR
   VERSION:2.0
   PRODID:-//Example Corp.//CalDAV Client//EN
   BEGIN:VTIMEZONE
   LAST-MODIFIED:20040110T032845Z
   TZID:US/Eastern
   BEGIN:DAYLIGHT
   DTSTART:20000404T020000
   RRULE:FREQ=YEARLY;BYDAY=1SU;BYMONTH=4
   TZNAME:EDT
   TZOFFSETFROM:-0500
   TZOFFSETTO:-0400
   END:DAYLIGHT
   BEGIN:STANDARD
   DTSTART:20001026T020000
   RRULE:FREQ=YEARLY;BYDAY=-1SU;BYMONTH=10
   TZNAME:EST
   TZOFFSETFROM:-0400
   TZOFFSETTO:-0500
   END:STANDARD
   END:VTIMEZONE
   BEGIN:VEVENT
   DTSTART;TZID=US/Eastern:20060104T100000
   DURATION:PT1H
   SUMMARY:Event #3
   UID:DC6C50A017428C5216A2F1CD@example.com
   END:VEVENT
   END:VCALENDAR
   </C:calendar-data>
         </D:prop>
         <D:status>HTTP/1.1 200 OK</D:status>
       </D:propstat>
     </D:response>
   </D:multistatus>
```

---
#### **7.8.2.  Example: Partial Retrieval of Recurring Events**

이 예에서 클라이언트는 2006년 1월 3일 오전 00:00:00부터 시간 범위와 겹치는 VEVENT 구성 요소를 반환하도록 서버에 요청합니다. UTC 기준 2006년 1월 5일 오전 00:00:00 UTC. CALDAV:limit-recurrence-set 요소를 사용하면 서버는 해당 요소에 지정된 시간 범위와 겹치거나 시간 범위와 겹치는 다른 인스턴스에 영향을 미치는 재정의된 반복 구성 요소만 반환하게 됩니다\(예: THISANDFUTURE 동작의 경우\). . 이 예에서는 일치하는 리소스의 첫 번째 재정의된 구성 요소가 반환되지만 두 번째 구성 요소는 반환되지 않습니다.

이 예에서 대상으로 삼는 달력 데이터는 부록 B를 참조하세요.

```text
   >> Request <<

   REPORT /bernard/work/ HTTP/1.1
   Host: cal.example.com
   Depth: 1
   Content-Type: application/xml; charset="utf-8"
   Content-Length: xxxx

   <?xml version="1.0" encoding="utf-8" ?>
   <C:calendar-query xmlns:D="DAV:"
                     xmlns:C="urn:ietf:params:xml:ns:caldav">
     <D:prop>
       <C:calendar-data>
         <C:limit-recurrence-set start="20060103T000000Z"
                                 end="20060105T000000Z"/>
       </C:calendar-data>
     </D:prop>
     <C:filter>
       <C:comp-filter name="VCALENDAR">
         <C:comp-filter name="VEVENT">
           <C:time-range start="20060103T000000Z"
                         end="20060105T000000Z"/>
         </C:comp-filter>
       </C:comp-filter>
     </C:filter>
   </C:calendar-query>

   >> Response <<

   HTTP/1.1 207 Multi-Status
   Date: Sat, 11 Nov 2006 09:32:12 GMT
   Content-Type: application/xml; charset="utf-8"
   Content-Length: xxxx

   <?xml version="1.0" encoding="utf-8" ?>
   <D:multistatus xmlns:D="DAV:"
              xmlns:C="urn:ietf:params:xml:ns:caldav">
     <D:response>
       <D:href>http://cal.example.com/bernard/work/abcd2.ics</D:href>
       <D:propstat>
         <D:prop>
           <D:getetag>"fffff-abcd2"</D:getetag>
           <C:calendar-data>BEGIN:VCALENDAR
   VERSION:2.0
   PRODID:-//Example Corp.//CalDAV Client//EN
   BEGIN:VTIMEZONE
   LAST-MODIFIED:20040110T032845Z
   TZID:US/Eastern
   BEGIN:DAYLIGHT
   DTSTART:20000404T020000
   RRULE:FREQ=YEARLY;BYDAY=1SU;BYMONTH=4
   TZNAME:EDT
   TZOFFSETFROM:-0500
   TZOFFSETTO:-0400
   END:DAYLIGHT
   BEGIN:STANDARD
   DTSTART:20001026T020000
   RRULE:FREQ=YEARLY;BYDAY=-1SU;BYMONTH=10
   TZNAME:EST
   TZOFFSETFROM:-0400
   TZOFFSETTO:-0500
   END:STANDARD
   END:VTIMEZONE
   BEGIN:VEVENT
   DTSTAMP:20060206T001121Z
   DTSTART;TZID=US/Eastern:20060102T120000
   DURATION:PT1H
   RRULE:FREQ=DAILY;COUNT=5
   SUMMARY:Event #2
   UID:00959BC664CA650E933C892C@example.com
   END:VEVENT
   BEGIN:VEVENT
   DTSTAMP:20060206T001121Z
   DTSTART;TZID=US/Eastern:20060104T140000
   DURATION:PT1H
   RECURRENCE-ID;TZID=US/Eastern:20060104T120000
   SUMMARY:Event #2 bis
   UID:00959BC664CA650E933C892C@example.com
   END:VEVENT
   END:VCALENDAR
   </C:calendar-data>
         </D:prop>

         <D:status>HTTP/1.1 200 OK</D:status>
       </D:propstat>
     </D:response>
     <D:response>
       <D:href>http://cal.example.com/bernard/work/abcd3.ics</D:href>
       <D:propstat>
         <D:prop>
           <D:getetag>"fffff-abcd3"</D:getetag>
           <C:calendar-data>BEGIN:VCALENDAR
   VERSION:2.0
   PRODID:-//Example Corp.//CalDAV Client//EN
   BEGIN:VTIMEZONE
   LAST-MODIFIED:20040110T032845Z
   TZID:US/Eastern
   BEGIN:DAYLIGHT
   DTSTART:20000404T020000
   RRULE:FREQ=YEARLY;BYDAY=1SU;BYMONTH=4
   TZNAME:EDT
   TZOFFSETFROM:-0500
   TZOFFSETTO:-0400
   END:DAYLIGHT
   BEGIN:STANDARD
   DTSTART:20001026T020000
   RRULE:FREQ=YEARLY;BYDAY=-1SU;BYMONTH=10
   TZNAME:EST
   TZOFFSETFROM:-0400
   TZOFFSETTO:-0500
   END:STANDARD
   END:VTIMEZONE
   BEGIN:VEVENT
   ATTENDEE;PARTSTAT=ACCEPTED;ROLE=CHAIR:mailto:cyrus@example.com
   ATTENDEE;PARTSTAT=NEEDS-ACTION:mailto:lisa@example.com
   DTSTAMP:20060206T001220Z
   DTSTART;TZID=US/Eastern:20060104T100000
   DURATION:PT1H
   LAST-MODIFIED:20060206T001330Z
   ORGANIZER:mailto:cyrus@example.com
   SEQUENCE:1
   STATUS:TENTATIVE
   SUMMARY:Event #3
   UID:DC6C50A017428C5216A2F1CD@example.com
   X-ABC-GUID:E1CX5Dr-0007ym-Hz@example.com
   END:VEVENT
   END:VCALENDAR
   </C:calendar-data>
         </D:prop>
         <D:status>HTTP/1.1 200 OK</D:status>
       </D:propstat>

     </D:response>
   </D:multistatus>
```

---
#### **7.8.3.  Example: Expanded Retrieval of Recurring Events**

이 예에서 클라이언트는 2006년 1월 2일 오전 00:00:00부터 시간 범위와 겹치는 VEVENT 구성 요소를 반환하도록 서버에 요청합니다. UTC 기준 2006년 1월 5일 오전 00:00:00 UTC를 사용하고 개별 반복 인스턴스 달력 구성 요소로 확장된 반복 달력 구성 요소를 반환합니다. CALDAV:expand 요소를 사용하면 서버는 해당 요소에 지정된 시간 범위와 겹치는 재정의된 반복 인스턴스만 반환합니다.

이 예에서 대상으로 삼는 달력 데이터는 부록 B를 참조하세요.

```text
   >> Request <<

   REPORT /bernard/work/ HTTP/1.1
   Host: cal.example.com
   Depth: 1
   Content-Type: application/xml; charset="utf-8"
   Content-Length: xxxx

   <?xml version="1.0" encoding="utf-8" ?>
   <C:calendar-query xmlns:D="DAV:"
                     xmlns:C="urn:ietf:params:xml:ns:caldav">
     <D:prop>
       <C:calendar-data>
         <C:expand start="20060103T000000Z"
                   end="20060105T000000Z"/>
       </C:calendar-data>
     </D:prop>
     <C:filter>
       <C:comp-filter name="VCALENDAR">
         <C:comp-filter name="VEVENT">
           <C:time-range start="20060103T000000Z"
                         end="20060105T000000Z"/>
         </C:comp-filter>
       </C:comp-filter>
     </C:filter>
   </C:calendar-query>

   >> Response <<

   HTTP/1.1 207 Multi-Status
   Date: Sat, 11 Nov 2006 09:32:12 GMT
   Content-Type: application/xml; charset="utf-8"
   Content-Length: xxxx

   <?xml version="1.0" encoding="utf-8" ?>
   <D:multistatus xmlns:D="DAV:"
              xmlns:C="urn:ietf:params:xml:ns:caldav">
     <D:response>
       <D:href>http://cal.example.com/bernard/work/abcd2.ics</D:href>
       <D:propstat>
         <D:prop>
           <D:getetag>"fffff-abcd2"</D:getetag>
           <C:calendar-data>BEGIN:VCALENDAR
   VERSION:2.0
   PRODID:-//Example Corp.//CalDAV Client//EN
   BEGIN:VEVENT
   DTSTAMP:20060206T001121Z
   DTSTART:20060103T170000
   DURATION:PT1H
   RECURRENCE-ID:20060103T170000
   SUMMARY:Event #2
   UID:00959BC664CA650E933C892C@example.com
   END:VEVENT
   BEGIN:VEVENT
   DTSTAMP:20060206T001121Z
   DTSTART:20060104T190000
   DURATION:PT1H
   RECURRENCE-ID:20060104T170000
   SUMMARY:Event #2 bis
   UID:00959BC664CA650E933C892C@example.com
   END:VEVENT
   END:VCALENDAR
   </C:calendar-data>
         </D:prop>
         <D:status>HTTP/1.1 200 OK</D:status>
       </D:propstat>
     </D:response>
     <D:response>
       <D:href>http://cal.example.com/bernard/work/abcd3.ics</D:href>
       <D:propstat>
         <D:prop>
           <D:getetag>"fffff-abcd3"</D:getetag>
           <C:calendar-data>BEGIN:VCALENDAR
   VERSION:2.0
   PRODID:-//Example Corp.//CalDAV Client//EN
   BEGIN:VEVENT
   ATTENDEE;PARTSTAT=ACCEPTED;ROLE=CHAIR:mailto:cyrus@example.com
   ATTENDEE;PARTSTAT=NEEDS-ACTION:mailto:lisa@example.com
   DTSTAMP:20060206T001220Z
   DTSTART:20060104T150000
   DURATION:PT1H
   LAST-MODIFIED:20060206T001330Z

   ORGANIZER:mailto:cyrus@example.com
   SEQUENCE:1
   STATUS:TENTATIVE
   SUMMARY:Event #3
   UID:DC6C50A017428C5216A2F1CD@example.com
   X-ABC-GUID:E1CX5Dr-0007ym-Hz@example.com
   END:VEVENT
   END:VCALENDAR
   </C:calendar-data>
         </D:prop>
         <D:status>HTTP/1.1 200 OK</D:status>
       </D:propstat>
     </D:response>
   </D:multistatus>
```

---
#### **7.8.4.  Example: Partial Retrieval of Stored Free Busy Components**

이 예에서 클라이언트는 2006년 1월 2일 오전 00:00:00부터 시간 범위와 겹치는 한가함/바쁨 정보가 있는 VFREEBUSY 구성 요소를 반환하도록 서버에 요청합니다. UTC\(포함\) \~ 2006년 1월 3일 오전 00:00:00 UTC\(독점\). CALDAV:limit-freebusy-set 요소를 사용하면 서버는 해당 요소에 지정된 시간 범위와 겹치는 FREEBUSY 속성 값만 반환합니다. 이는 캘린더 소유자가 바쁜 시간을 검색하는 예가 아닙니다.

이 예에서 대상으로 삼는 달력 데이터는 부록 B를 참조하세요.

```text
   >> Request <<

   REPORT /bernard/work/ HTTP/1.1
   Host: cal.example.com
   Depth: 1
   Content-Type: application/xml; charset="utf-8"
   Content-Length: xxxx

   <?xml version="1.0" encoding="utf-8" ?>
   <C:calendar-query xmlns:D="DAV:"
                 xmlns:C="urn:ietf:params:xml:ns:caldav">
     <D:prop>
       <C:calendar-data>
         <C:limit-freebusy-set start="20060102T000000Z"
                                 end="20060103T000000Z"/>
       </C:calendar-data>
     </D:prop>
     <C:filter>
       <C:comp-filter name="VCALENDAR">
         <C:comp-filter name="VFREEBUSY">
           <C:time-range start="20060102T000000Z"
                           end="20060103T000000Z"/>
         </C:comp-filter>
       </C:comp-filter>
     </C:filter>
   </C:calendar-query>

   >> Response <<

   HTTP/1.1 207 Multi-Status
   Date: Sat, 11 Nov 2006 09:32:12 GMT
   Content-Type: application/xml; charset="utf-8"
   Content-Length: xxxx

   <?xml version="1.0" encoding="utf-8" ?>
   <D:multistatus xmlns:D="DAV:"
                  xmlns:C="urn:ietf:params:xml:ns:caldav">
     <D:response>
       <D:href>http://cal.example.com/bernard/work/abcd8.ics</D:href>
       <D:propstat>
         <D:prop>
           <D:getetag>"fffff-abcd8"</D:getetag>
           <C:calendar-data>BEGIN:VCALENDAR
   VERSION:2.0
   PRODID:-//Example Corp.//CalDAV Client//EN
   BEGIN:VFREEBUSY
   ORGANIZER;CN="Bernard Desruisseaux":mailto:bernard@example.com
   UID:76ef34-54a3d2@example.com
   DTSTAMP:20050530T123421Z
   DTSTART:20060101T100000Z
   DTEND:20060108T100000Z
   FREEBUSY;FBTYPE=BUSY-TENTATIVE:20060102T100000Z/20060102T120000Z
   END:VFREEBUSY
   END:VCALENDAR
   </C:calendar-data>
         </D:prop>
         <D:status>HTTP/1.1 200 OK</D:status>
       </D:propstat>
     </D:response>
   </D:multistatus>
```

---
#### **7.8.5.  Example: Retrieval of To-Dos by Alarm Time Range**

이 예에서 클라이언트는 지정된 시간 범위에 예약된 경보 트리거가 있는 VTODO 구성 요소를 반환하도록 서버에 요청합니다.

이 예에서 대상으로 삼는 달력 데이터는 부록 B를 참조하세요.

```text
   >> Request <<

   REPORT /bernard/work/ HTTP/1.1
   Host: cal.example.com
   Depth: 1
   Content-Type: application/xml; charset="utf-8"
   Content-Length: xxxx

   <?xml version="1.0" encoding="utf-8" ?>
   <C:calendar-query xmlns:C="urn:ietf:params:xml:ns:caldav">
     <D:prop xmlns:D="DAV:">
       <D:getetag/>
       <C:calendar-data/>
     </D:prop>
     <C:filter>
       <C:comp-filter name="VCALENDAR">
         <C:comp-filter name="VTODO">
           <C:comp-filter name="VALARM">
             <C:time-range start="20060106T100000Z"
                             end="20060107T100000Z"/>
           </C:comp-filter>
         </C:comp-filter>
       </C:comp-filter>
     </C:filter>
   </C:calendar-query>

   >> Response <<

   HTTP/1.1 207 Multi-Status
   Date: Sat, 11 Nov 2006 09:32:12 GMT
   Content-Type: application/xml; charset="utf-8"
   Content-Length: xxxx

   <?xml version="1.0" encoding="utf-8" ?>
   <D:multistatus xmlns:D="DAV:"
                  xmlns:C="urn:ietf:params:xml:ns:caldav">
     <D:response>
       <D:href>http://cal.example.com/bernard/work/abcd4.ics</D:href>
       <D:propstat>
         <D:prop>
           <D:getetag>"fffff-abcd4"</D:getetag>
           <C:calendar-data>BEGIN:VCALENDAR
   VERSION:2.0
   PRODID:-//Example Corp.//CalDAV Client//EN
   BEGIN:VTODO
   DTSTAMP:20060205T235300Z
   DUE;TZID=US/Eastern:20060106T120000
   LAST-MODIFIED:20060205T235308Z
   SEQUENCE:1
   STATUS:NEEDS-ACTION
   SUMMARY:Task #2
   UID:E10BA47467C5C69BB74E8720@example.com
   BEGIN:VALARM
   ACTION:AUDIO
   TRIGGER;RELATED=START:-PT10M
   END:VALARM
   END:VTODO
   END:VCALENDAR
   </C:calendar-data>
         </D:prop>
         <D:status>HTTP/1.1 200 OK</D:status>
       </D:propstat>
     </D:response>
   </D:multistatus>
```

---
#### **7.8.6.  Example: Retrieval of Event by UID**

이 예에서 클라이언트는 UID 속성이 "DC6C50A017428C5216A2F1CD@example.com"으로 설정된 VEVENT 구성 요소를 반환하도록 서버에 요청합니다.

이 예에서 대상으로 삼는 달력 데이터는 부록 B를 참조하세요.

```text
   >> Request <<

   REPORT /bernard/work/ HTTP/1.1
   Host: cal.example.com
   Depth: 1
   Content-Type: application/xml; charset="utf-8"
   Content-Length: xxxx

   <?xml version="1.0" encoding="utf-8" ?>
   <C:calendar-query xmlns:C="urn:ietf:params:xml:ns:caldav">
     <D:prop xmlns:D="DAV:">
       <D:getetag/>
       <C:calendar-data/>
     </D:prop>
     <C:filter>
       <C:comp-filter name="VCALENDAR">
         <C:comp-filter name="VEVENT">
           <C:prop-filter name="UID">
             <C:text-match collation="i;octet"
             >DC6C50A017428C5216A2F1CD@example.com</C:text-match>
           </C:prop-filter>
         </C:comp-filter>
       </C:comp-filter>
     </C:filter>
   </C:calendar-query>

   >> Response <<

   HTTP/1.1 207 Multi-Status
   Date: Sat, 11 Nov 2006 09:32:12 GMT
   Content-Type: application/xml; charset="utf-8"
   Content-Length: xxxx

   <?xml version="1.0" encoding="utf-8" ?>
   <D:multistatus xmlns:D="DAV:"
                  xmlns:C="urn:ietf:params:xml:ns:caldav">
     <D:response>
       <D:href>http://cal.example.com/bernard/work/abcd3.ics</D:href>
       <D:propstat>
         <D:prop>
           <D:getetag>"fffff-abcd3"</D:getetag>
           <C:calendar-data>BEGIN:VCALENDAR
   VERSION:2.0
   PRODID:-//Example Corp.//CalDAV Client//EN
   BEGIN:VTIMEZONE
   LAST-MODIFIED:20040110T032845Z
   TZID:US/Eastern
   BEGIN:DAYLIGHT

   DTSTART:20000404T020000
   RRULE:FREQ=YEARLY;BYDAY=1SU;BYMONTH=4
   TZNAME:EDT
   TZOFFSETFROM:-0500
   TZOFFSETTO:-0400
   END:DAYLIGHT
   BEGIN:STANDARD
   DTSTART:20001026T020000
   RRULE:FREQ=YEARLY;BYDAY=-1SU;BYMONTH=10
   TZNAME:EST
   TZOFFSETFROM:-0400
   TZOFFSETTO:-0500
   END:STANDARD
   END:VTIMEZONE
   BEGIN:VEVENT
   ATTENDEE;PARTSTAT=ACCEPTED;ROLE=CHAIR:mailto:cyrus@example.com
   ATTENDEE;PARTSTAT=NEEDS-ACTION:mailto:lisa@example.com
   DTSTAMP:20060206T001220Z
   DTSTART;TZID=US/Eastern:20060104T100000
   DURATION:PT1H
   LAST-MODIFIED:20060206T001330Z
   ORGANIZER:mailto:cyrus@example.com
   SEQUENCE:1
   STATUS:TENTATIVE
   SUMMARY:Event #3
   UID:DC6C50A017428C5216A2F1CD@example.com
   X-ABC-GUID:E1CX5Dr-0007ym-Hz@example.com
   END:VEVENT
   END:VCALENDAR
   </C:calendar-data>
         </D:prop>
         <D:status>HTTP/1.1 200 OK</D:status>
       </D:propstat>
     </D:response>
   </D:multistatus>
```

---
#### **7.8.7.  Example: Retrieval of Events by PARTSTAT**

이 예에서 클라이언트는 ATTENDEE 속성 값이 "mailto:lisa@example.com"이고 PARTSTAT 매개변수가 NEEDS-ACTION으로 설정된 VEVENT 구성 요소를 반환하도록 서버에 요청합니다.

이 예에서 대상으로 삼는 달력 데이터는 부록 B를 참조하세요.

```text
   >> Request <<

   REPORT /bernard/work/ HTTP/1.1
   Host: cal.example.com
   Depth: 1
   Content-Type: application/xml; charset="utf-8"
   Content-Length: xxxx

   <?xml version="1.0" encoding="utf-8" ?>
   <C:calendar-query xmlns:C="urn:ietf:params:xml:ns:caldav">
     <D:prop xmlns:D="DAV:">
       <D:getetag/>
       <C:calendar-data/>
     </D:prop>
     <C:filter>
       <C:comp-filter name="VCALENDAR">
         <C:comp-filter name="VEVENT">
           <C:prop-filter name="ATTENDEE">
             <C:text-match collation="i;ascii-casemap"
              >mailto:lisa@example.com</C:text-match>
             <C:param-filter name="PARTSTAT">
               <C:text-match collation="i;ascii-casemap"
                >NEEDS-ACTION</C:text-match>
             </C:param-filter>
           </C:prop-filter>
         </C:comp-filter>
       </C:comp-filter>
     </C:filter>
   </C:calendar-query>

   >> Response <<

   HTTP/1.1 207 Multi-Status
   Date: Sat, 11 Nov 2006 09:32:12 GMT
   Content-Type: application/xml; charset="utf-8"
   Content-Length: xxxx

   <?xml version="1.0" encoding="utf-8" ?>
   <D:multistatus xmlns:D="DAV:"
                  xmlns:C="urn:ietf:params:xml:ns:caldav">
     <D:response>
       <D:href>http://cal.example.com/bernard/work/abcd3.ics</D:href>
       <D:propstat>
         <D:prop>
           <D:getetag>"fffff-abcd3"</D:getetag>
           <C:calendar-data>BEGIN:VCALENDAR
   VERSION:2.0
   PRODID:-//Example Corp.//CalDAV Client//EN

   BEGIN:VTIMEZONE
   LAST-MODIFIED:20040110T032845Z
   TZID:US/Eastern
   BEGIN:DAYLIGHT
   DTSTART:20000404T020000
   RRULE:FREQ=YEARLY;BYDAY=1SU;BYMONTH=4
   TZNAME:EDT
   TZOFFSETFROM:-0500
   TZOFFSETTO:-0400
   END:DAYLIGHT
   BEGIN:STANDARD
   DTSTART:20001026T020000
   RRULE:FREQ=YEARLY;BYDAY=-1SU;BYMONTH=10
   TZNAME:EST
   TZOFFSETFROM:-0400
   TZOFFSETTO:-0500
   END:STANDARD
   END:VTIMEZONE
   BEGIN:VEVENT
   ATTENDEE;PARTSTAT=ACCEPTED;ROLE=CHAIR:mailto:cyrus@example.com
   ATTENDEE;PARTSTAT=NEEDS-ACTION:mailto:lisa@example.com
   DTSTAMP:20060206T001220Z
   DTSTART;TZID=US/Eastern:20060104T100000
   DURATION:PT1H
   LAST-MODIFIED:20060206T001330Z
   ORGANIZER:mailto:cyrus@example.com
   SEQUENCE:1
   STATUS:TENTATIVE
   SUMMARY:Event #3
   UID:DC6C50A017428C5216A2F1CD@example.com
   X-ABC-GUID:E1CX5Dr-0007ym-Hz@example.com
   END:VEVENT
   END:VCALENDAR
   </C:calendar-data>
         </D:prop>
         <D:status>HTTP/1.1 200 OK</D:status>
       </D:propstat>
     </D:response>
   </D:multistatus>
```

---
#### **7.8.8.  Example: Retrieval of Events Only**

이 예에서 클라이언트는 서버에 모든 VEVENT 구성 요소를 반환하도록 요청합니다.

이 예에서 대상으로 삼는 달력 데이터는 부록 B를 참조하세요.

```text
   >> Request <<

   REPORT /bernard/work/ HTTP/1.1
   Host: cal.example.com
   Depth: 1
   Content-Type: application/xml; charset="utf-8"
   Content-Length: xxxx

   <?xml version="1.0" encoding="utf-8" ?>
   <C:calendar-query xmlns:C="urn:ietf:params:xml:ns:caldav">
     <D:prop xmlns:D="DAV:">
       <D:getetag/>
       <C:calendar-data/>
     </D:prop>
     <C:filter>
       <C:comp-filter name="VCALENDAR">
         <C:comp-filter name="VEVENT"/>
       </C:comp-filter>
     </C:filter>
   </C:calendar-query>

   >> Response <<

   HTTP/1.1 207 Multi-Status
   Date: Sat, 11 Nov 2006 09:32:12 GMT
   Content-Type: application/xml; charset="utf-8"
   Content-Length: xxxx

   <?xml version="1.0" encoding="utf-8" ?>
   <D:multistatus xmlns:D="DAV:"
                  xmlns:C="urn:ietf:params:xml:ns:caldav">
     <D:response>
       <D:href>http://cal.example.com/bernard/work/abcd1.ics</D:href>
       <D:propstat>
         <D:prop>
           <D:getetag>"fffff-abcd1"</D:getetag>
           <C:calendar-data>BEGIN:VCALENDAR
   VERSION:2.0
   PRODID:-//Example Corp.//CalDAV Client//EN
   BEGIN:VTIMEZONE
   LAST-MODIFIED:20040110T032845Z
   TZID:US/Eastern
   BEGIN:DAYLIGHT
   DTSTART:20000404T020000
   RRULE:FREQ=YEARLY;BYDAY=1SU;BYMONTH=4
   TZNAME:EDT
   TZOFFSETFROM:-0500
   TZOFFSETTO:-0400

   END:DAYLIGHT
   BEGIN:STANDARD
   DTSTART:20001026T020000
   RRULE:FREQ=YEARLY;BYDAY=-1SU;BYMONTH=10
   TZNAME:EST
   TZOFFSETFROM:-0400
   TZOFFSETTO:-0500
   END:STANDARD
   END:VTIMEZONE
   BEGIN:VEVENT
   DTSTAMP:20060206T001102Z
   DTSTART;TZID=US/Eastern:20060102T100000
   DURATION:PT1H
   SUMMARY:Event #1
   Description:Go Steelers!
   UID:74855313FA803DA593CD579A@example.com
   END:VEVENT
   END:VCALENDAR
   </C:calendar-data>
         </D:prop>
         <D:status>HTTP/1.1 200 OK</D:status>
       </D:propstat>
     </D:response>
     <D:response>
       <D:href>http://cal.example.com/bernard/work/abcd2.ics</D:href>
       <D:propstat>
         <D:prop>
           <D:getetag>"fffff-abcd2"</D:getetag>
           <C:calendar-data>BEGIN:VCALENDAR
   VERSION:2.0
   PRODID:-//Example Corp.//CalDAV Client//EN
   BEGIN:VTIMEZONE
   LAST-MODIFIED:20040110T032845Z
   TZID:US/Eastern
   BEGIN:DAYLIGHT
   DTSTART:20000404T020000
   RRULE:FREQ=YEARLY;BYDAY=1SU;BYMONTH=4
   TZNAME:EDT
   TZOFFSETFROM:-0500
   TZOFFSETTO:-0400
   END:DAYLIGHT
   BEGIN:STANDARD
   DTSTART:20001026T020000
   RRULE:FREQ=YEARLY;BYDAY=-1SU;BYMONTH=10
   TZNAME:EST
   TZOFFSETFROM:-0400
   TZOFFSETTO:-0500
   END:STANDARD

   END:VTIMEZONE
   BEGIN:VEVENT
   DTSTAMP:20060206T001121Z
   DTSTART;TZID=US/Eastern:20060102T120000
   DURATION:PT1H
   RRULE:FREQ=DAILY;COUNT=5
   SUMMARY:Event #2
   UID:00959BC664CA650E933C892C@example.com
   END:VEVENT
   BEGIN:VEVENT
   DTSTAMP:20060206T001121Z
   DTSTART;TZID=US/Eastern:20060104T140000
   DURATION:PT1H
   RECURRENCE-ID;TZID=US/Eastern:20060104T120000
   SUMMARY:Event #2 bis
   UID:00959BC664CA650E933C892C@example.com
   END:VEVENT
   BEGIN:VEVENT
   DTSTAMP:20060206T001121Z
   DTSTART;TZID=US/Eastern:20060106T140000
   DURATION:PT1H
   RECURRENCE-ID;TZID=US/Eastern:20060106T120000
   SUMMARY:Event #2 bis bis
   UID:00959BC664CA650E933C892C@example.com
   END:VEVENT
   END:VCALENDAR
   </C:calendar-data>
         </D:prop>
         <D:status>HTTP/1.1 200 OK</D:status>
       </D:propstat>
     </D:response>
     <D:response>
       <D:href>http://cal.example.com/bernard/work/abcd3.ics</D:href>
       <D:propstat>
         <D:prop>
           <D:getetag>"fffff-abcd3"</D:getetag>
           <C:calendar-data>BEGIN:VCALENDAR
   VERSION:2.0
   PRODID:-//Example Corp.//CalDAV Client//EN
   BEGIN:VTIMEZONE
   LAST-MODIFIED:20040110T032845Z
   TZID:US/Eastern
   BEGIN:DAYLIGHT
   DTSTART:20000404T020000
   RRULE:FREQ=YEARLY;BYDAY=1SU;BYMONTH=4
   TZNAME:EDT
   TZOFFSETFROM:-0500
   TZOFFSETTO:-0400

   END:DAYLIGHT
   BEGIN:STANDARD
   DTSTART:20001026T020000
   RRULE:FREQ=YEARLY;BYDAY=-1SU;BYMONTH=10
   TZNAME:EST
   TZOFFSETFROM:-0400
   TZOFFSETTO:-0500
   END:STANDARD
   END:VTIMEZONE
   BEGIN:VEVENT
   ATTENDEE;PARTSTAT=ACCEPTED;ROLE=CHAIR:mailto:cyrus@example.com
   ATTENDEE;PARTSTAT=NEEDS-ACTION:mailto:lisa@example.com
   DTSTAMP:20060206T001220Z
   DTSTART;TZID=US/Eastern:20060104T100000
   DURATION:PT1H
   LAST-MODIFIED:20060206T001330Z
   ORGANIZER:mailto:cyrus@example.com
   SEQUENCE:1
   STATUS:TENTATIVE
   SUMMARY:Event #3
   UID:DC6C50A017428C5216A2F1CD@example.com
   X-ABC-GUID:E1CX5Dr-0007ym-Hz@example.com
   END:VEVENT
   END:VCALENDAR
   </C:calendar-data>
         </D:prop>
         <D:status>HTTP/1.1 200 OK</D:status>
       </D:propstat>
     </D:response>
   </D:multistatus>
```

---
#### **7.8.9.  Example: Retrieval of All Pending To-Dos**

이 예에서 클라이언트는 COMPLETED 속성을 포함하지 않고 CANCELLED와 일치하는 STATUS 속성 값이 없는 모든 VTODO 구성 요소\(즉, 여전히 작업해야 하는 VTODO\)를 반환하도록 서버에 요청합니다.

이 예에서 대상으로 삼는 달력 데이터는 부록 B를 참조하세요.

```text
   >> Request <<

   REPORT /bernard/work/ HTTP/1.1
   Host: cal.example.com
   Depth: 1
   Content-Type: application/xml; charset="utf-8"
   Content-Length: xxxx

   <?xml version="1.0" encoding="utf-8" ?>
   <C:calendar-query xmlns:C="urn:ietf:params:xml:ns:caldav">
     <D:prop xmlns:D="DAV:">
       <D:getetag/>
       <C:calendar-data/>
     </D:prop>
     <C:filter>
       <C:comp-filter name="VCALENDAR">
         <C:comp-filter name="VTODO">
           <C:prop-filter name="COMPLETED">
             <C:is-not-defined/>
           </C:prop-filter>
           <C:prop-filter name="STATUS">
             <C:text-match
                negate-condition="yes">CANCELLED</C:text-match>
           </C:prop-filter>
         </C:comp-filter>
       </C:comp-filter>
     </C:filter>
   </C:calendar-query>

   >> Response <<

   HTTP/1.1 207 Multi-Status
   Date: Sat, 11 Nov 2006 09:32:12 GMT
   Content-Type: application/xml; charset="utf-8"
   Content-Length: xxxx

   <?xml version="1.0" encoding="utf-8" ?>
   <D:multistatus xmlns:D="DAV:"
                  xmlns:C="urn:ietf:params:xml:ns:caldav">
     <D:response>
       <D:href>http://cal.example.com/bernard/work/abcd4.ics</D:href>
       <D:propstat>
         <D:prop>
           <D:getetag>"fffff-abcd4"</D:getetag>
           <C:calendar-data>BEGIN:VCALENDAR
   VERSION:2.0
   PRODID:-//Example Corp.//CalDAV Client//EN
   BEGIN:VTODO

   DTSTAMP:20060205T235335Z
   DUE;VALUE=DATE:20060104
   STATUS:NEEDS-ACTION
   SUMMARY:Task #1
   UID:DDDEEB7915FA61233B861457@example.com
   BEGIN:VALARM
   ACTION:AUDIO
   TRIGGER;RELATED=START:-PT10M
   END:VALARM
   END:VTODO
   END:VCALENDAR
   </C:calendar-data>
         </D:prop>
         <D:status>HTTP/1.1 200 OK</D:status>
       </D:propstat>
     </D:response>

     <D:response>
       <D:href>http://cal.example.com/bernard/work/abcd5.ics</D:href>
       <D:propstat>
         <D:prop>
           <D:getetag>"fffff-abcd5"</D:getetag>
           <C:calendar-data>BEGIN:VCALENDAR
   VERSION:2.0
   PRODID:-//Example Corp.//CalDAV Client//EN
   BEGIN:VTODO
   DTSTAMP:20060205T235300Z
   DUE;VALUE=DATE:20060106
   LAST-MODIFIED:20060205T235308Z
   SEQUENCE:1
   STATUS:NEEDS-ACTION
   SUMMARY:Task #2
   UID:E10BA47467C5C69BB74E8720@example.com
   BEGIN:VALARM
   ACTION:AUDIO
   TRIGGER;RELATED=START:-PT10M
   END:VALARM
   END:VTODO
   END:VCALENDAR
   </C:calendar-data>
         </D:prop>
         <D:status>HTTP/1.1 200 OK</D:status>
       </D:propstat>
     </D:response>
   </D:multistatus>
```

---
#### **7.8.10.  Example: Attempt to Query Unsupported Property**

이 예에서 클라이언트는 값이 "ABC"와 일치하는 X-ABC-GUID 속성을 포함하는 모든 VEVENT 구성 요소를 반환하도록 서버에 요청합니다. 그러나 서버는 해당 비표준 속성 쿼리를 지원하지 않으며 대신 오류 응답을 반환합니다.

이 예에서 대상으로 삼는 달력 데이터는 부록 B를 참조하세요.

```text
   >> Request <<

   REPORT /bernard/work/ HTTP/1.1
   Host: cal.example.com
   Depth: 1
   Content-Type: application/xml; charset="utf-8"
   Content-Length: xxxx

   <?xml version="1.0" encoding="utf-8" ?>
   <C:calendar-query xmlns:C="urn:ietf:params:xml:ns:caldav">
     <D:prop xmlns:D="DAV:">
       <D:getetag/>
       <C:calendar-data/>
     </D:prop>
     <C:filter>
       <C:comp-filter name="VCALENDAR">
         <C:comp-filter name="VEVENT">
           <C:prop-filter name="X-ABC-GUID">
             <C:text-match>ABC</C:text-match>
           </C:prop-filter>
         </C:comp-filter>
       </C:comp-filter>
     </C:filter>
   </C:calendar-query>

   >> Response <<

   HTTP/1.1 403 Forbidden
   Date: Sat, 11 Nov 2005 09:32:12 GMT
   Content-Type: application/xml; charset="utf-8"
   Content-Length: xxxx

   <?xml version="1.0" encoding="utf-8" ?>
   <D:error>
     <C:supported-filter>
       <C:prop-filter name="X-ABC-GUID"/>
     </C:supported-filter>
   </D:error>
```

---
### **7.9.  CALDAV:calendar-multiget REPORT**

CALDAV:calendar-multiget REPORT는 요청-URI가 컬렉션인 경우 컬렉션 내에서 특정 달력 개체 리소스를 검색하거나 요청-URI가 달력 개체 리소스인 경우 특정 달력 개체 리소스를 검색하는 데 사용됩니다. 이 보고서는 반환할 달력 개체 리소스를 결정하기 위해 CALDAV:filter 요소 대신 DAV:href 요소 목록을 사용한다는 점을 제외하면 CALDAV:calendar-query REPORT\(섹션 7.8 참조\)와 유사합니다.

CALDAV:calendar-multiget REPORT에 대한 지원이 필요합니다.\(MUST\)

```text
   Marshalling:
```

- 요청 본문은 CALDAV:calendar-multiget XML 요소여야 합니다\(섹션 9.10 참조\). Request-URI가 컬렉션 리소스인 경우 DAV:href 요소는 해당 컬렉션 내의 달력 개체 리소스를 참조해야 하며 컬렉션 내의 모든 깊이에서 달력 개체 리소스를 참조할 수 있습니다. 결과적으로 "Depth" 헤더는 서버에 의해 무시되어야 하며 클라이언트에 의해 전송되어서는 안 됩니다. Request-URI가 비수집 자원을 참조하는 경우 Request-URI와 동등한 단일 DAV:href 요소가 있어야 합니다.\(MUST, MUST, MUST, MUST\)

성공적인 요청에 대한 응답 본문은 DAV여야 합니다.

- 다중 상태 XML 요소.\(MUST\)

- 성공적인 CALDAV:calendar-multiget REPORT 요청에 대한 응답 본문에는 제공된 DAV:href 요소 집합이 참조하는 각 달력 개체 리소스에 대한 DAV:response 요소가 포함되어야 합니다. 달력 데이터는 DAV:prop 요소 내의 CALDAV:calendar-data 요소에 반환됩니다.\(MUST\)

- 제공된 DAV:href 리소스에 액세스하는 동안 오류가 발생한 경우 서버는 해당 DAV:response 요소의 DAV:status 요소에 적절한 오류 상태 코드를 반환해야 합니다.\(MUST\)

```text
   Preconditions:
```

- \(CALDAV:supported-calendar-data\): CALDAV:calendar-data XML 요소의 "content-type" 및 "version" 속성\(섹션 9.6 참조\)은 달력 객체 자원에 대해 서버가 지원하는 미디어 유형을 지정합니다.

- \(CALDAV:min-date-time\): 시간 범위를 지정하는 모든 XML 요소는 시작 또는 종료 DATE 또는 DATE-TIME 값이 다음보다 커야 합니다.\(MUST\)

```text
      or equal to the value of the CALDAV:min-date-time property value
      (Section 5.2.6) on the calendar collections being targeted by the
      REPORT request;

      (CALDAV:max-date-time): Any XML element specifying a range of time
      MUST have its start or end DATE or DATE-TIME values less than or
      equal to the value of the CALDAV:max-date-time property value
      (Section 5.2.7) on the calendar collections being targeted by the
      REPORT request;

   Postconditions:

      None.
```

---
#### **7.9.1.  Example: Successful CALDAV:calendar-multiget REPORT**

이 예에서 클라이언트는 특정 URI에서 참조하는 VEVENT 구성 요소의 특정 속성을 반환하도록 서버에 요청합니다. 또한 DAV:getetag 속성도 요청되어 응답의 일부로 반환됩니다. 이 예에서는 http://cal.example.com/bernard/work/mtg1.ics의 리소스가 존재하지 않아 오류 상태 응답이 발생합니다.

이 예에서 대상으로 삼는 달력 데이터는 부록 B를 참조하세요.

```text
   >> Request <<

   REPORT /bernard/work/ HTTP/1.1
   Host: cal.example.com
   Content-Type: application/xml; charset="utf-8"
   Content-Length: xxxx

   <?xml version="1.0" encoding="utf-8" ?>
   <C:calendar-multiget xmlns:D="DAV:"
                    xmlns:C="urn:ietf:params:xml:ns:caldav">
     <D:prop>
       <D:getetag/>
       <C:calendar-data/>
     </D:prop>
     <D:href>/bernard/work/abcd1.ics</D:href>
     <D:href>/bernard/work/mtg1.ics</D:href>
   </C:calendar-multiget>

   >> Response <<

   HTTP/1.1 207 Multi-Status
   Date: Sat, 11 Nov 2006 09:32:12 GMT
   Content-Type: application/xml; charset="utf-8"

   Content-Length: xxxx

   <?xml version="1.0" encoding="utf-8" ?>
   <D:multistatus xmlns:D="DAV:"
                  xmlns:C="urn:ietf:params:xml:ns:caldav">
     <D:response>
       <D:href>http://cal.example.com/bernard/work/abcd1.ics</D:href>
       <D:propstat>
         <D:prop>
           <D:getetag>"fffff-abcd1"</D:getetag>
           <C:calendar-data>BEGIN:VCALENDAR
   VERSION:2.0
   PRODID:-//Example Corp.//CalDAV Client//EN
   BEGIN:VTIMEZONE
   LAST-MODIFIED:20040110T032845Z
   TZID:US/Eastern
   BEGIN:DAYLIGHT
   DTSTART:20000404T020000
   RRULE:FREQ=YEARLY;BYDAY=1SU;BYMONTH=4
   TZNAME:EDT
   TZOFFSETFROM:-0500
   TZOFFSETTO:-0400
   END:DAYLIGHT
   BEGIN:STANDARD
   DTSTART:20001026T020000
   RRULE:FREQ=YEARLY;BYDAY=-1SU;BYMONTH=10
   TZNAME:EST
   TZOFFSETFROM:-0400
   TZOFFSETTO:-0500
   END:STANDARD
   END:VTIMEZONE
   BEGIN:VEVENT
   DTSTAMP:20060206T001102Z
   DTSTART;TZID=US/Eastern:20060102T100000
   DURATION:PT1H
   SUMMARY:Event #1
   Description:Go Steelers!
   UID:74855313FA803DA593CD579A@example.com
   END:VEVENT
   END:VCALENDAR
   </C:calendar-data>
         </D:prop>
         <D:status>HTTP/1.1 200 OK</D:status>
       </D:propstat>
     </D:response>
     <D:response>
       <D:href>http://cal.example.com/bernard/work/mtg1.ics</D:href>
       <D:status>HTTP/1.1 404 Not Found</D:status>

     </D:response>
   </D:multistatus>
```

---
### **7.10.  CALDAV:free-busy-query REPORT**

CALDAV:free-busy-query REPORT는 요청 대상이며 CALDAV:read-free-busy 또는 DAV:read 권한이 현재 사용자에게 부여된 모든 달력 개체 리소스에 대한 약속 있음/없음 정보가 포함된 VFREEBUSY 구성 요소를 생성합니다.

TRANSP 속성이 없거나 TRANSP 속성이 OPAQUE로 설정된 VEVENT 구성 요소와 VFREEBUSY 구성 요소만 비어 있는 바쁜 시간 정보를 생성하는 데 고려해야 합니다.\(SHOULD\)

VEVENT 구성 요소의 경우 반환된 VFREEBUSY 구성 요소에 있는 FREEBUSY 속성의 한가함 또는 바쁜 시간 유형\(FBTYPE\)은 아래 표에 설명된 대로 TRANSP 및 STATUS 속성의 값에서 파생되어야 합니다.\(SHOULD\)

```text
         +---------------------------++------------------+
         |          VEVENT           ||    VFREEBUSY     |
         +-------------+-------------++------------------+
         | TRANSP      | STATUS      || FBTYPE           |
         +=============+=============++==================+
         |             | CONFIRMED   || BUSY             |
         |             | (default)   ||                  |
         | OPAQUE      +-------------++------------------+
         | (default)   | CANCELLED   || FREE             |
         |             +-------------++------------------+
         |             | TENTATIVE   || BUSY-TENTATIVE   |
         |             +-------------++------------------+
         |             | x-name      || BUSY or          |
         |             |             || x-name           |
         +-------------+-------------++------------------+
         |             | CONFIRMED   ||                  |
         | TRANSPARENT | CANCELLED   || FREE             |
         |             | TENTATIVE   ||                  |
         |             | x-name      ||                  |
         +-------------+-------------++------------------+
```

동일한 FBTYPE 매개변수 값을 가진 중복된 바쁜 기간은 반환된 VFREEBUSY 구성 요소에 지정되어서는 안 됩니다. 서버는 동일한 유형의 연속적이거나 겹치는 바쁜 기간을 통합해야 합니다. FBTYPE 매개변수 값이 다른 바쁜 기간이 겹칠 수 있습니다.\(SHOULD NOT, SHOULD, MAY\)

CALDAV:free-busy-query 보고서에 대한 지원이 필요합니다.\(MUST\)

```text
   Marshalling:
```

- 요청 본문은 섹션 9.9에 정의된 대로 정확히 하나의 CALDAV:time-range XML 요소를 포함해야 하는 CALDAV:free-busy-query XML 요소\(섹션 9.11 참조\)여야 합니다.\(MUST\)

- 요청에는 Depth 헤더가 포함될 수 있습니다. Depth 헤더가 포함되지 않은 경우 Depth:0으로 간주됩니다.\(MAY\)

- 성공적인 요청에 대한 응답 본문은 VEVENT를 포함하는 달력 개체 리소스의 바쁜 시간 간격을 설명하는 정확히 하나의 VFREEBUSY 구성 요소를 포함하는 iCalendar 개체이거나 깊이 값을 만족하고 현재 사용자가 최소한인 VFREEBUSY 구성 요소여야 합니다. CALDAV:read-free-busy 권한이 부여되었습니다. 이러한 조건을 충족하는 달력 객체 자원이 발견되지 않으면 FREEBUSY 속성이 없는 VFREEBUSY 구성 요소가 반환되어야 합니다. 이 보고서는 바쁜 시간 정보만 반환합니다. 반환된 바쁜 시간 정보로부터 여유 시간 정보를 유추할 수 있다.\(MUST, MUST\)

- 현재 사용자에게 Request-URI에 대한 CALDAV:read-free-busy 또는 DAV:read 권한이 부여되지 않은 경우 CALDAV:free-busy-query REPORT 요청은 반드시 실패하고 404\(찾을 수 없음\) 상태 값을 반환해야 합니다. 이러한 제한은 사용자가 CALDAV:읽기-한가함-바쁨 권한만 부여받은 리소스의 URL을 검색하는 것을 방지합니다.\(MUST\)

- CALDAV:free-busy-query REPORT 요청은 컬렉션\(일반 컬렉션 또는 달력 컬렉션\)에 대해서만 실행할 수 있습니다. 달력 개체 리소스에 대한 보고서를 실행하려는 시도는 반드시 실패해야 하며 403\(금지됨\) 상태 값을 반환해야 합니다.\(MUST\)

```text
   Preconditions:

      None.

   Postconditions:
```

- \(DAV:number-of-matches-within-limits\): 일치하는 달력 개체 리소스의 수는 서버별로 미리 정의된 제한 내에 있어야 합니다. 예를 들어, 지정된 CALDAV:time-range로 인해 응답 계산 시 매우 많은 수의 달력 개체 리소스가 고려되는 경우 이 사후 조건이 실패할 수 있습니다.

---
#### **7.10.1.  Example: Successful CALDAV:free-busy-query REPORT**

이 예에서 클라이언트는 오전 9시부터 오전 9시 사이에 캘린더 컬렉션 /bernard/work/에 대한 한가함/바쁨 정보를 반환하도록 서버에 요청합니다. 그리고 오후 5시 2006년 1월 4일 EST\(오후 2시 및 오후 10시 UTC\). 서버는 1시간의 두 번의 바쁜 시간 간격을 나타내는 응답을 하며 그 중 하나는 잠정적입니다.

이 예에서 대상으로 삼는 달력 데이터는 부록 B를 참조하세요.

```text
   >> Request <<

   REPORT /bernard/work/ HTTP/1.1
   Host: cal.example.com
   Depth: 1
   Content-Type: application/xml; charset="utf-8"
   Content-Length: xxxx

   <?xml version="1.0" encoding="utf-8" ?>
   <C:free-busy-query xmlns:C="urn:ietf:params:xml:ns:caldav">
     <C:time-range start="20060104T140000Z"
                     end="20060105T220000Z"/>
   </C:free-busy-query>

   >> Response <<

   HTTP/1.1 200 OK
   Date: Sat, 11 Nov 2006 09:32:12 GMT
   Content-Type: text/calendar
   Content-Length: xxxx

   BEGIN:VCALENDAR
   VERSION:2.0
   PRODID:-//Example Corp.//CalDAV Server//EN
   BEGIN:VFREEBUSY
   DTSTAMP:20050125T090000Z
   DTSTART:20060104T140000Z
   DTEND:20060105T220000Z
   FREEBUSY;FBTYPE=BUSY-TENTATIVE:20060104T150000Z/PT1H
   FREEBUSY:20060104T190000Z/PT1H
   END:VFREEBUSY
   END:VCALENDAR
```

---
## **8.  Guidelines**
---
### **8.1.  Client-to-Client Interoperability**

클라이언트가 취할 수 있는 조치는 적법하지만\(서버가 오류를 반환하지 않음\) 동일한 데이터에 액세스하는 다른 클라이언트 구현과의 상호 운용성을 저하시킬 수 있는 여러 가지 조치가 있습니다. 예를 들어, 반복 규칙은 반복 날짜 집합으로 대체될 수 있고, 단일 반복 이벤트는 각 반복을 나타내는 독립적인 리소스 집합으로 대체될 수 있으며, 시작/종료 시간 값은 원래 표준 시간대에서 다음 표준 시간대로 변환될 수 있습니다. 다른 시간대. 이 조언은 iCalendar 상호 운용성 모범 사례에 해당하고 CalDAV 사용에만 국한되지는 않지만 상호 운용성 문제는 CalDAV 사용 사례에서 더 분명하게 나타날 수 있습니다.

---
### **8.2.  Synchronization Operations**

WebDAV는 이미 컬렉션 또는 컬렉션 집합을 동기화하고 오프라인으로 변경하는 데 필요한 기능을 제공하며 다시 연결될 때 충돌을 해결하는 간단한 방법을 제공합니다. ETag는 이 작업을 수행하는 데 핵심이지만 모든 WebDAV 서버에 필요한 것은 아닙니다. 오프라인 기능은 다른 WebDAV 애플리케이션보다 캘린더 애플리케이션에 더 중요하므로 CalDAV 서버는 섹션 5.3.4에 지정된 대로 ETag를 지원해야 합니다.\(MUST\)

---
#### **8.2.1.  Use of Reports**
---
##### **8.2.1.1.  Restrict the Time Range**

CalDAV에서 제공되는 보고서는 클라이언트가 로컬 클라이언트 컴퓨터의 네트워크 대역폭 사용량 및 리소스 소비 측면에서 성능을 최적화하는 데 사용할 수 있습니다. 두 가지 모두 확실히 용량이 제한된 모바일 또는 휴대용 장치에 대한 주요 고려 사항이지만 달력 컬렉션에 많은 양의 데이터가 포함되어 있는 경우 데스크톱 클라이언트 응용 프로그램과도 관련이 있습니다.

일반적으로 클라이언트는 제한된 시간 간격에 걸쳐 있는 보기에서 달력 데이터를 사용자에게 표시하므로 가능하면 클라이언트는 CALDAV:time-range 요소와 결합된 CALDAV:calendar-query REPORT를 사용하여 서버에서 달력 구성 요소만 검색해야 합니다. 반환된 구성 요소 집합을 현재 보기를 채우는 데 필요한 구성 요소로 만듭니다.

---
##### **8.2.1.2.  Synchronize by Time Range**

일반적으로 달력에서 기록 데이터\(현재 날짜 이전에 완료된 이벤트, 할 일 등\)는 삭제될 수 있지만 변경되지 않습니다. 결과적으로 클라이언트는 합리적인 한도\(예: 1주, 1개월\)까지 현재와 미래의 데이터만 고려하여 동기화 프로세스의 속도를 높일 수 있습니다. 그런 다음 사용자가 동기화된 범위 밖의 일정 부분을 검사하려고 하면 클라이언트는 검사 중인 새 시간 간격에 대해 다른 동기화 작업을 수행할 수 있습니다. 이러한 "적시" 동기화는 일반적인 사용자 상호 작용 동작에 대한 대역폭을 최소화할 수 있습니다.

---
##### **8.2.1.3.  Synchronization Process**

클라이언트가 필요할 때마다 달력 데이터를 다운로드하는 대신 달력 데이터 동기화를 지원하려는 경우 클라이언트는 실제 달력 데이터와 함께 달력 개체 리소스의 URI 및 ETag를 캐시해야 합니다. URI는 달력 개체 리소스의 수명 동안 정적으로 유지되지만 ETag는 달력 개체 리소스가 연속적으로 변경될 때마다 변경됩니다. 따라서 로컬 데이터 캐시를 서버와 동기화하기 위해 클라이언트는 먼저 고려 중인 시간 간격 동안 URI/ETag 쌍을 가져오고 해당 결과를 캐시된 데이터와 비교할 수 있습니다. ETag가 서버의 것과 다른 캐시된 구성 요소를 새로 고쳐야 합니다.

서버와 클라이언트 데이터 간의 변경 사항을 적절하게 감지하려면 클라이언트는 해당 변경 사항을 데이터와 조정할 수 있도록 마지막 동기화 작업 이후 어떤 달력 개체 리소스가 생성, 변경 또는 삭제되었는지 기록을 유지해야 합니다. 서버에서.

이를 수행하는 방법의 예는 다음과 같습니다.

클라이언트는 특정 시간 범위에 대해 CALDAV:calendar-query REPORT 요청을 발행하고 DAV:getetag 속성만 반환되도록 요청합니다.

```text
   REPORT /bernard/work/ HTTP/1.1
   Host: cal.example.com
   Depth: 1
   Content-Type: application/xml; charset="utf-8"
   Content-Length: xxxx

   <?xml version="1.0" encoding="utf-8" ?>
   <C:calendar-query xmlns:D="DAV:"
                     xmlns:C="urn:ietf:params:xml:ns:caldav">
     <D:prop>
       <D:getetag/>
     </D:prop>
     <C:filter>
       <C:comp-filter name="VCALENDAR">
         <C:comp-filter name="VEVENT">
           <C:time-range start="20040902T000000Z"
                           end="20040903T000000Z"/>
         </C:comp-filter>
       </C:comp-filter>
     </C:filter>
   </C:calendar-query>
```

그런 다음 클라이언트는 결과를 사용하여 서버에서 어떤 달력 개체 자원이 변경, 생성 또는 삭제되었는지 확인하고 해당 자원이 변경, 생성 또는 삭제되었을 수 있는 로컬로 캐시된 달력 객체 자원과 어떤 관련이 있는지 확인합니다. 서버에 가져와야 하는 달력 개체 리소스가 있다고 클라이언트가 판단하면 클라이언트는 달력 데이터를 가져오기 위해 CALDAV:calendar-multiget REPORT 요청을 발행합니다.

```text
   REPORT /bernard/work/ HTTP/1.1
   Host: cal.example.com
   Content-Type: application/xml; charset="utf-8"
   Content-Length: xxxx

   <?xml version="1.0" encoding="utf-8" ?>
   <C:calendar-multiget xmlns:D="DAV:"
                        xmlns:C="urn:ietf:params:xml:ns:caldav">
     <D:prop>
       <D:getetag/>
       <C:calendar-data/>
     </D:prop>
     <D:href>/bernard/work/abcd1.ics</D:href>
     <D:href>/bernard/work/mtg1.ics</D:href>
   </C:calendar-multiget>
```

---
#### **8.2.2.  Restrict the Properties Returned**

클라이언트는 사용자에게 정보를 제공할 때 달력 개체 자원의 모든 달력 속성이 필요하지 않을 수 있습니다. 일부 달력 속성 값은 클 수 있으므로\(예: ATTACH 또는 ATTENDEE\) 클라이언트는 달력 REPORT 요청에서 반환되는 달력 속성을 사용할 것으로 알고 있는 속성으로 제한하도록 선택할 수 있습니다.

그러나 클라이언트가 달력 개체 리소스를 변경해야 하는 경우 PUT 요청을 통해서만 전체 달력 개체 리소스를 변경할 수 있습니다. 현재 달력 개체 자원의 달력 속성 집합을 점진적으로 변경할 수 있는 방법은 없습니다. 결과적으로 클라이언트는 변경되는 전체 달력 개체 리소스를 가져와야 합니다.

---
### **8.3.  Use of Locking**

WebDAV 잠금을 사용하면 동일한 리소스를 수정하는 두 클라이언트가 서로의 변경 사항을 덮어쓰거나\(ETag를 사용하여 문제를 해결할 수도 있음\) 다른 변경 사항 집합과 충돌하는 변경 작업을 수행하는 데 시간을 낭비하지 않도록 할 수 있습니다. 다중 사용자 캘린더 시스템에서 대화형 캘린더 클라이언트는 사용자가 이벤트를 편집하는 동안 이벤트를 잠그고 사용자가 완료하거나 취소하면 이벤트를 잠금 해제할 수 있습니다. 데이터가 재구성되는 동안 변경을 방지하기 위해 잠금을 사용할 수도 있습니다. 예를 들어, 캘린더 클라이언트는 여러 캘린더 리소스를 한 곳에서 다른 곳으로 이동하기 전에 두 개의 캘린더 컬렉션을 잠글 수 있습니다.

클라이언트는 사용 사례에 적합한 잠금 제한 시간을 요청할 책임이 있습니다. 사용자가 명시적으로 리소스를 예약하고 다른 변경을 방지하기로 결정한 경우 긴 시간 초과가 적절할 수 있지만 클라이언트가 자동으로 리소스를 잠그기로 결정한 경우 시간 초과는 짧아야 합니다. 클라이언트는 항상 잠금을 새로 고칠 수 있습니다. 필요하다\). 짧은 잠금 시간 초과는 클라이언트가 잠금을 제거할 수 없는 경우 다른 달력 사용자가 변경하는 데 방해가 되지 않음을 의미합니다.

---
### **8.4.  Finding Calendars**

대부분의 경우 캘린더 클라이언트\(또는 에이전트\)는 URL을 직접 제공하여 새 캘린더의 위치를 ​​검색합니다. 예를 들어, 사용자는 클라이언트 구성 정보에 자신의 캘린더 위치를 입력하거나 이메일의 URL을 복사하여 캘린더 애플리케이션에 붙여넣습니다. 클라이언트는 URL이 캘린더 컬렉션인 리소스를 가리키는지 확인하기만 하면 됩니다. 클라이언트는 WebDAV 컬렉션을 탐색하여 달력 컬렉션을 찾을 수도 있습니다.

HTTP URL을 선택한다는 것은 달력 객체 자원이 기존 소프트웨어와 역호환된다는 것을 의미하지만, 기존 소프트웨어는 일반적으로 해당 URL에 대한 OPTIONS 응답을 확인하여 무엇을 할 수 있는지 결정하지 못한다는 단점이 있습니다. 이는 CalDAV 사용뿐만 아니라 WebDAV 사용에도 다소 장애가 됩니다. 이 사양은 요청 시 OPTIONS 응답에서 정보를 사용할 수 있도록 하는 것 외에는 이를 통한 방법을 제공하지 않습니다.

캘린더 공유 및 예약 사용 사례의 경우 다른 사용자에게 속한 캘린더를 찾고 싶을 수 있습니다. 다른 사용자가 동일한 저장소에 달력을 갖고 있는 경우 WebDAV ACL 지원에 필요한 주요 네임스페이스를 사용하여 해당 달력을 찾을 수 있습니다. 다른 경우에는 작성자에게 보편적인 솔루션이 없지만 구현자는 달력 속성\[RFC2739\]과 함께 vCard \[RFC2426\] 또는 LDAP \[RFC4511\] 표준을 사용할지 여부를 고려할 수 있습니다.

CalDAV는 서버가 주요 네임스페이스를 포함하여 WebDAV ACL \[RFC3744\]를 지원해야 하고 CALDAV: Calendar-home-set 속성을 추가해야 하기 때문에 CalDAV 클라이언트가 자신의 달력이나 다른 사용자의 달력을 찾을 수 있는 몇 가지 옵션이 있습니다.

이 경우 DAV:principal-match REPORT는 현재 사용자의 Principal-URL에서 명명된 속성\(CALDAV:calendar-home-set\)을 찾는 데 사용됩니다. 이를 사용하여 WebDAV 클라이언트는 "나는 누구인가"와 "내 달력은 어디에 있는가"를 배울 수 있습니다. REPORT 요청 본문은 다음과 같습니다.

```text
   <?xml version="1.0" encoding="utf-8" ?>
   <D:principal-match xmlns:D="DAV:">
     <D:self/>
     <D:prop>
       <C:calendar-home-set
          xmlns:C="urn:ietf:params:xml:ns:caldav"/>
     </D:prop>
   </D:principal-match>
```

다른 사용자의 달력을 찾으려면 DAV:principal-property-search REPORT를 사용하여 일부 속성을 필터링하고 다른 속성을 반환할 수 있습니다. "Laurie"라는 사용자가 소유한 캘린더를 검색하기 위한 REPORT 요청 본문은 다음과 같습니다.

```text
   <?xml version="1.0" encoding="utf-8" ?>
   <D:principal-property-search xmlns:D="DAV:">
     <D:property-search>
       <D:prop>
         <D:displayname/>
       </D:prop>
       <D:match>Laurie</D:match>
     </D:property-search>
     <D:prop>
       <C:calendar-home-set
          xmlns:C="urn:ietf:params:xml:ns:caldav"/>
       <D:displayname/>
     </D:prop>
   </D:principal-property-search>
```

서버는 DAV:displayname 속성 내에서 "Laurie"의 일치하는 문자열 하위 집합에 대해 대/소문자 구분 또는 대/소문자 구분 검색을 수행합니다. 따라서 서버는 일치하는 DAV:displayname 값으로 "Laurie Dusseault", "Laurier Desruisseaux" 또는 "Wilfrid Laurier"를 반환하고 이들 각각에 대한 달력을 반환할 수 있습니다.

---
### **8.5.  Storing and Using Attachments**

CalDAV 클라이언트는 인라인 또는 외부로 캘린더 구성 요소에 첨부 파일을 생성할 수 있습니다. 이 섹션에는 첨부 파일 생성 및 관리에 대한 몇 가지 지침이 포함되어 있습니다.\(MAY\)

---
#### **8.5.1.  Inline Attachments**

CalDAV 클라이언트는 iCalendar \[RFC2445\]에 지정된 대로 인라인 첨부 파일을 지원해야 합니다. CalDAV 서버는 인라인 첨부 파일을 지원해야 하므로 클라이언트는 이러한 방식으로 첨부 파일을 생성할 수 있습니다. 반면 인라인 첨부에는 몇 가지 단점이 있습니다.\(MUST, MUST\)

o 서버는 달력 개체 리소스의 크기에 제한을 가할 수 있습니다\(예: 매우 큰 iCalendar 개체의 PUT 요청 거부\). 이러한 제한을 적용하는 서버는 달력 컬렉션의 CALDAV:max-resource-size 속성을 사용하여 클라이언트에게 제한 사항을 알려야 합니다\(섹션 5.2.5 참조\).\(MAY, MUST\)

o 서버는 달력에 저장 할당량 제한을 적용할 수 있습니다.

- 컬렉션\(\[RFC4331\] 참조\).\(MAY\)

o 인라인 첨부 파일이 포함된 달력 개체 리소스를 변경하려면 전체 인라인 첨부 파일을 다시 업로드해야 합니다.

o 변경된 달력 개체 리소스를 동기화하는 클라이언트는 첨부 파일이 변경되지 않은 경우에도 전체 달력 개체 리소스를 다운로드해야 합니다.

---
#### **8.5.2.  External Attachments**

CalDAV 클라이언트는 임의의 URI 구성표에 의해 참조되는 외부 첨부 파일을 직접 처리하거나 처리를 위해 적합한 "도우미 응용 프로그램"\(해당 응용 프로그램이 있는 경우\)에 첨부 파일 URI를 전달하여 다운로드를 지원해야 합니다. CalDAV 클라이언트는 "http" 또는 "https" URI 체계에서 참조하는 외부 첨부 파일의 다운로드를 지원해야 합니다. 외부 첨부 파일은 다음과 같습니다.\(SHOULD, MUST\)

```text
   o  In a collection in the calendar collection containing the calendar
      object resource;
```

o 달력 컬렉션을 호스팅하는 동일한 저장소의 다른 위치 또는

o 다른 곳의 HTTP 또는 FTP 서버에서.

CalDAV 서버는 달력 컬렉션의 하위 컬렉션에 대한 지원을 제공할 수 있습니다. CalDAV 서버는 MKCOL 메소드가 달력 컬렉션에 하위 컬렉션을 생성하도록 허용할 수 있습니다. 캘린더 컬렉션의 하위 컬렉션에는 포함하면 안 되는 캘린더 컬렉션을 제외한 모든 유형의 리소스가 포함될 수 있습니다. 일부 CalDAV 서버는 달력 컬렉션의 하위 컬렉션을 허용하지 않으며 이러한 서버에서는 첨부 파일이 저장될 수 있는 다른 위치를 검색하는 것이 가능할 수 있습니다.\(MAY, MAY, MUST NOT\)

외부 첨부 파일에 연결되는 캘린더 구성 요소와의 참조 일관성을 유지하는 것은 전적으로 고객의 책임입니다. 따라서 외부 첨부 파일이 있는 캘린더 구성 요소를 삭제하는 클라이언트는 적절한 경우 첨부 파일도 삭제할 수 있습니다. 그러나 적절성을 결정하는 것은 매우 어려울 수 있습니다. 새 구성 요소는 달력 구성 요소와 독립적으로 존재하도록 의도된 일부 기존 웹 리소스를 쉽게 참조할 수 있습니다. 예를 들어 "첨부 파일"은 회의에서 논의할 주요 제안일 수 있습니다. 아마도 모범 사례가 등장하고 문서화되어야 할 것입니다. 그러나 지금으로서는 클라이언트가 외부 첨부 파일을 공격적으로 "정리"하는 것에 주의해야 합니다. 클라이언트는 참조되지 않은 문서를 제거하는 결정을 내리는 데 사용자를 참여시킬 수도 있고, 클라이언트가 생성한 첨부 파일만 삭제하는 데 보수적일 수도 있습니다.

또한 클라이언트는 외부 첨부 파일을 사용할 때 권한의 일관성을 유지할 책임이 있습니다. 서버가

캘린더 컬렉션의 하위 컬렉션 내에 첨부 파일을 저장하면 ACL 상속을 통해 캘린더 컬렉션에 부여된 첨부 파일에 동일한 권한을 더 쉽게 부여할 수 있습니다. 그렇지 않으면 권한을 동기화된 상태로 유지하는 것이 매우 어려울 수 있습니다. 첨부 파일이 별도의 저장소에 저장되어 있으면 권한을 일관되게 유지하는 것이 불가능할 수 있습니다. 두 저장소가 동일한 권한을 지원하지 않거나 동일한 주체 집합을 가질 수 없습니다. 일부 시스템에서는 이러한 종류의 문제에 대해 부분적으로 만족스러운 솔루션을 제공하기 위해 티켓이나 기타 익명 액세스 제어 메커니즘을 사용했습니다.

---
### **8.6.  Storing and Using Alarms**

모든 CalDAV 캘린더 컬렉션\(사용자가 공개 또는 그룹 캘린더로 처리할 수 있는 컬렉션 포함\)에는 이벤트 및 할 일에 대한 알람 정보가 포함될 수 있습니다. 사용자는 여러 장치 간에 달력을 동기화하고 알람을 생성한 장치가 아닌 다른 장치에서 알람이 실행되도록 결정할 수 있습니다. 모든 알람 작업 유형이 완전히 상호 운용 가능한 것은 아닙니다\(예: 재생할 사운드 파일의 이름을 지정하는 작업\).

- 작업이 오디오이고 클라이언트가 알람을 실행하도록 구성된 경우 클라이언트는 제안된 사운드가 있으면 이를 재생하거나 다른 사운드를 재생해야 하지만 제안된 사운드를 로컬에서 사용할 수 있는 사운드로 바꾸기 위해 알람을 다시 작성해서는 안 됩니다.\(SHOULD NOT\)

- 작업이 DISPLAY이고 클라이언트가 알람을 실행하도록 구성된 경우 클라이언트는 제안된 설명이나 합리적인 교체에 따라 표시하여 디스플레이 알람을 실행해야 하지만 자체 편의를 위해 알람을 다시 작성해서는 안 됩니다.\(SHOULD NOT\)

- 작업이 EMAIL이고 클라이언트가 이메일을 보낼 수 없는 경우 알람을 무시해야 하지만 알람 자체를 계속 동기화해야 합니다.\(MUST\)

- 이 사양에서는 PROCEDURE 유형의 경보 실행에 대한 권장 사항을 제공하지 않습니다. 단, 클라이언트는 이러한 경보를 실행하여 보안 허점을 만들지 않도록 주의해야 한다는 점을 유의해야 합니다.

모든 장치에서 기본 알람을 사용할 수 있도록 하려면 상호 운용할 수 없는 알람 정보\(예: 누군가가 디스플레이 알람에 사용할 색상을 정의해야 함\)를 VALARM 구성 요소 내부의 비표준 속성에 넣어야 합니다.

달력 개체 리소스에 대한 변경을 허용하는 클라이언트는 리소스에 이미 존재하는 알람 데이터를 동기화해야 합니다.\(MUST\)

클라이언트는 사용자 기본 설정에 따라 이러한 방식으로 다운로드된 알람을 실행할 수 있습니다. 클라이언트가 달력에서 읽기 작업만 수행하고 알람 정보를 잃을 위험이 없다면 클라이언트는 알람 정보를 삭제할 수 있습니다.\(MAY, MAY\)

이 사양은 그룹 달력에 다중 사용자 알람을 제공하거나 알람이 누구를 대상으로 하는지 알아내려는 시도를 하지 않습니다. 이러한 문제를 해결하려면 iCalendar 확장이 필요할 수 있습니다. 예를 들어, 사용자별로 경보를 저장하거나 VALARM이 어떤 사용자를 대상으로 했는지 표시합니다. 그 동안 클라이언트는 일반적으로 공개, 그룹 또는 리소스 달력에 경보 정보를 업로드하지 않음으로써 상호 운용성을 극대화할 수 있습니다.

---
## **9.  XML Element Definitions**
---
### **9.1.  CALDAV:calendar XML Element**

```text
   Name:  calendar

   Namespace:  urn:ietf:params:xml:ns:caldav
```

목적: 달력 컬렉션의 리소스 유형을 지정합니다.

```text
   Description:  See Section 4.2.

   Definition:

         <!ELEMENT calendar EMPTY>
```

---
### **9.2.  CALDAV:mkcalendar XML Element**

```text
   Name:  mkcalendar

   Namespace:  urn:ietf:params:xml:ns:caldav
```

목적: 달력 컬렉션 리소스가 생성될 때 설정할 WebDAV 속성 값을 포함하는 요청을 지정합니다.

```text
   Description:  See Section 5.3.1.

   Definition:

         <!ELEMENT mkcalendar (DAV:set)>
```

---
### **9.3.  CALDAV:mkcalendar-response XML Element**

```text
   Name:  mkcalendar-response

   Namespace:  urn:ietf:params:xml:ns:caldav
```

목적: 성공적인 MKCALENDAR 요청에 대한 응답 본문을 지정합니다.

```text
   Description:  See Section 5.3.1.

   Definition:

         <!ELEMENT mkcalendar-response ANY>
```

---
### **9.4.  CALDAV:supported-collation XML Element**

```text
   Name:  supported-collation

   Namespace:  urn:ietf:params:xml:ns:caldav
```

목적: \[RFC4790\]에 정의된 대로 데이터 정렬 식별자를 통해 단일 데이터 정렬을 식별합니다.

설명: CALDAV:supported-collation에는 섹션 7.5.1에 ​​설명된 대로 데이터 정렬 식별자의 텍스트가 포함되어 있습니다.

```text
   Definition:

         <!ELEMENT supported-collation (#PCDATA)>
         PCDATA value: collation identifier
```

---
### **9.5.  CALDAV:calendar-query XML Element**

```text
   Name:  calendar-query

   Namespace:  urn:ietf:params:xml:ns:caldav
```

목적: 달력 개체 리소스를 쿼리하기 위한 보고서를 정의합니다.

```text
   Description:  See Section 7.8.

   Definition:

         <!ELEMENT calendar-query ((DAV:allprop |
                                    DAV:propname |
                                    DAV:prop)?, filter, timezone?)>
```

---
### **9.6.  CALDAV:calendar-data XML Element**

```text
   Name:  calendar-data

   Namespace:  urn:ietf:params:xml:ns:caldav
```

목적: 다음 중 하나를 지정합니다.

```text
      1.  A supported media type for calendar object resources when
          nested in the CALDAV:supported-calendar-data property;

      2.  The parts of a calendar object resource should be returned by
          a calendaring report;
```

- 3. 달력 보고서에 대한 응답으로 달력 개체 리소스의 콘텐츠입니다.

설명: CALDAV:supported-calendar-data 속성에 중첩된 경우 CALDAV:calendar-data XML 요소는 달력 개체 자원에 대해 CalDAV 서버에서 지원하는 미디어 유형을 지정합니다.

- 달력 REPORT 요청에 사용될 때 CALDAV:calendar-data XML 요소는 응답으로 반환되어야 하는 달력 객체 자원의 부분을 지정합니다. CALDAV: 달력 데이터 XML 요소에 CALDAV:comp 요소가 포함되어 있지 않으면 달력 개체 리소스가 전체적으로 반환됩니다.

- 마지막으로 달력 REPORT 응답에 사용되는 경우 CALDAV: 달력 데이터 XML 요소는 달력 개체 리소스의 내용을 지정합니다. XML 파서가 두 문자 시퀀스 CRLF\(US-ASCII 십진수 13 및 US-ASCII 십진수 10\)를 단일 LF 문자\(US-ASCII 십진수 10\)로 정규화하는 경우 CR 문자\(US-ASCII 십진수 13\)는 생략될 수 있습니다. CALDAV:calendar-data XML 요소에 지정된 달력 개체 자원에 있습니다. 또한 CALDAV: 달력 데이터 XML 요소에 지정된 달력 개체 리소스는 달력 REPORT 요청의 CALDAV:calendar-data XML 요소 부분이 필수 속성\(예: UID, DTSTAMP, 등\) 또는 "novalue" 속성이 "yes"로 설정된 CALDAV:prop XML 요소를 지정했습니다.\(MAY, MAY\)

참고: CALDAV:calendar-data XML 요소는 마치 WebDAV 속성인 것처럼 DAV:prop XML 요소 내의 요청 및 응답에 지정됩니다. 그러나 CALDAV:calendar-data XML 요소는 WebDAV 속성이 아니므로 PROPFIND 응답에서 반환되지 않으며 PROPPATCH 요청에서도 사용되지 않습니다.

참고: CALDAV:calendar-data XML 요소에 포함된 iCalendar 데이터는 &lt;, &gt;, &amp; 사용을 포함하여 표준 XML 문자 데이터 인코딩 규칙을 따라야 합니다. 등 엔터티 인코딩 또는 <!\[CDATA\[ ... \]\]\> 구문 사용. 후자의 경우 iCalendar 데이터에는 CDATA 섹션의 끝 구분 기호인 문자 시퀀스 "\]\]\>"가 포함될 수 없습니다.\(MUST\)

```text
   Definition:

         <!ELEMENT calendar-data EMPTY>

         when nested in the CALDAV:supported-calendar-data property
         to specify a supported media type for calendar object
         resources;

         <!ELEMENT calendar-data (comp?,
                                  (expand | limit-recurrence-set)?,
                                  limit-freebusy-set?)>

         when nested in the DAV:prop XML element in a calendaring
         REPORT request to specify which parts of calendar object
         resources should be returned in the response;

         <!ELEMENT calendar-data (#PCDATA)>
         PCDATA value: iCalendar object
```

- 반환된 달력 개체 리소스의 콘텐츠를 지정하기 위해 달력 REPORT 응답의 DAV:prop XML 요소에 중첩된 경우.

- <!ATTLIST Calendar-data content-type CDATA "text/calendar" version CDATA "2.0"\> content-type 값: MIME 미디어 유형 버전 값: 버전 문자열

속성은 세 가지 변형 모두에 사용될 수 있습니다.

- CALDAV:캘린더 데이터 XML 요소.

---
#### **9.6.1.  CALDAV:comp XML Element**

```text
   Name:  comp

   Namespace:  urn:ietf:params:xml:ns:caldav
```

목적: 반환할 구성 요소 유형을 정의합니다.

설명: 이름 값은 달력 구성 요소 이름\(예: VEVENT\)입니다.

```text
   Definition:

         <!ELEMENT comp ((allprop | prop*), (allcomp | comp*))>
```

<!ATTLIST 구성 요소 이름 CDATA #REQUIRED\>

- name 값 : 캘린더 컴포넌트 이름\(MUST\)

참고: CALDAV:prop 및 CALDAV:allprop 요소는 \[RFC2518\]에 정의된 DAV:prop 및 DAV:allprop 요소와 동일한 이름을 갖습니다. 그러나 CALDAV:prop 및 CALDAV:allprop 요소는 "DAV:" 네임스페이스 대신 "urn:ietf:params:xml:ns:caldav" 네임스페이스에 정의됩니다.

---
#### **9.6.2.  CALDAV:allcomp XML Element**

```text
   Name:  allcomp

   Namespace:  urn:ietf:params:xml:ns:caldav
```

목적: 모든 구성 요소가 반환되도록 지정합니다.

설명: CALDAV:allcomp XML 요소는 클라이언트가 달력 REPORT 요청에 의해 반환되는 모든 유형의 구성 요소를 원하는 경우 사용할 수 있습니다.

```text
   Definition:

         <!ELEMENT allcomp EMPTY>
```

---
#### **9.6.3.  CALDAV:allprop XML Element**

```text
   Name:  allprop

   Namespace:  urn:ietf:params:xml:ns:caldav
```

목적: 모든 속성이 반환되도록 지정합니다.

설명: CALDAV:allprop XML 요소는 클라이언트가 일정 REPORT 요청에 의해 반환된 구성 요소의 모든 속성을 원할 때 사용할 수 있습니다.

```text
   Definition:

         <!ELEMENT allprop EMPTY>
```

참고: CALDAV:allprop 요소는 \[RFC2518\]에 정의된 DAV: allprop 요소와 동일한 이름을 갖습니다. 그러나 CALDAV:allprop 요소는 "DAV:" 네임스페이스 대신 "urn:ietf:params:xml:ns:caldav" 네임스페이스에 정의됩니다.

---
#### **9.6.4.  CALDAV:prop XML Element**

```text
   Name:  prop

   Namespace:  urn:ietf:params:xml:ns:caldav
```

목적: 응답으로 반환할 속성을 정의합니다.

설명: "name" 속성은 반환할 달력 속성의 이름을 지정합니다\(예: ATTENDEE\). 클라이언트는 "novalue" 속성을 사용하여 속성의 실제 값이 반환되지 않도록 요청할 수 있습니다\("novalue" 속성이 "yes"로 설정된 경우\). 이 경우 서버는 후속 값 데이터 없이 iCalendar 속성 이름과 모든 iCalendar 매개변수 및 후행 ":"만 반환합니다.

```text
   Definition:

         <!ELEMENT prop EMPTY>

         <!ATTLIST prop name CDATA #REQUIRED
                        novalue (yes | no) "no">
         name value: a calendar property name
         novalue value: "yes" or "no"
```

참고: CALDAV:prop 요소는 \[RFC2518\]에 정의된 DAV:prop 요소와 동일한 이름을 갖습니다. 그러나 CALDAV:prop 요소는 "DAV:" 네임스페이스 대신 "urn:ietf:params:xml:ns:caldav" 네임스페이스에 정의됩니다.

---
#### **9.6.5.  CALDAV:expand XML Element**

```text
   Name:  expand

   Namespace:  urn:ietf:params:xml:ns:caldav
```

목적: 서버가 반복 구성 요소를 개별 반복 인스턴스로 확장하도록 합니다.

설명: CALDAV:expand XML 요소는 특정 달력 REPORT 요청에 대해 서버가 반복 세트를 정확히 하나를 정의하는 달력 구성 요소로 확장해야 함을 지정합니다.\(MUST\)

- 반복 인스턴스이며, 예약된 시간이 지정된 시간 범위와 교차하는 인스턴스만 반환해야 합니다.\(MUST\)

- "start" 속성은 시간 범위의 포괄적 시작을 지정하고, "end" 속성은 시간 범위의 비포함적 끝을 지정합니다. 두 속성 모두 UTC 시간 값을 갖는 날짜로 지정됩니다. "end" 속성의 값은 "start" 속성의 값보다 커야 합니다.\(MUST\)

- 서버는 반복 인스턴스가 지정된 시간 범위와 교차하는지 확인하기 위해 CALDAV:time-range에 정의된 것과 동일한 논리를 사용해야 합니다.\(MUST\)

- 초기 인스턴스 이외의 반복 구성 요소에는 참조하는 인스턴스를 나타내는 RECURRENCE-ID 속성이 포함되어야 합니다.\(MUST\)

반환된 달력 구성 요소는 반복을 사용해서는 안 됩니다.

- 속성\(예: EXDATE, EXRULE, RDATE 및 RRULE\)은 VTIMEZONE 구성 요소를 참조하거나 포함해서는 안 됩니다. 시간대 정보를 참조하여 날짜 및 현지 시간은 UTC 시간을 사용하는 날짜로 변환되어야 합니다.\(MUST NOT, MUST\)

```text
   Definition:

         <!ELEMENT expand EMPTY>

         <!ATTLIST expand start CDATA #REQUIRED
                          end   CDATA #REQUIRED>
         start value: an iCalendar "date with UTC time"
         end value: an iCalendar "date with UTC time"
```

---
#### **9.6.6.  CALDAV:limit-recurrence-set XML Element**

```text
   Name:  limit-recurrence-set

   Namespace:  urn:ietf:params:xml:ns:caldav
```

목적: 서버에서 반환되는 "재정의된 구성 요소" 집합을 제한하는 시간 범위를 지정합니다.

설명: CALDAV:limit-recurrence-set XML 요소는 지정된 일정 REPORT 요청에 대해 서버가 "마스터 구성 요소" 외에 지정된 시간 범위에 영향을 미치는 "재정의된 구성 요소"만 반환해야 함을 지정합니다. 재정의된 구성 요소는 현재 시작 및 종료 시간이 시간 범위와 겹치거나 원래 시작 및 종료 시간이 시간 범위에 영향을 미칩니다.\(MUST\)

- 시간 - 인스턴스가 재정의되지 않은 경우 사용되었을 시간 - 시간 범위와 겹칩니다.

- "start" 속성은 시간 범위의 포괄적 시작을 지정하고, "end" 속성은 시간 범위의 비포함적 끝을 지정합니다. 두 속성 모두 UTC 시간 값을 갖는 날짜로 지정됩니다. "end" 속성의 값은 "start" 속성의 값보다 커야 합니다.\(MUST\)

- 서버는 "재정의된" 반복 인스턴스의 현재 또는 원래 예약 시간이 지정된 시간 범위와 교차하는지 확인하기 위해 CALDAV:time-range에 정의된 것과 동일한 논리를 사용해야 합니다.\(MUST\)

- RECURRENCE-ID 속성에 RANGE 매개변수가 있는 재정의된 구성 요소는 반복 집합에서 하나 이상의 인스턴스를 지정할 수 있으며, 해당 인스턴스 중 일부는 지정된 시간 범위 내에 속할 수 있거나 원래는 지정된 시간 범위 내에 속했을 수 있습니다. 재정의됨. 이 경우 재정의된 구성 요소는 지정된 시간 범위 내의 인스턴스 해석에 직접적인 영향을 미치므로 결과에 포함되어야 합니다.\(MUST\)

```text
   Definition:

         <!ELEMENT limit-recurrence-set EMPTY>

         <!ATTLIST limit-recurrence-set start CDATA #REQUIRED
                                        end   CDATA #REQUIRED>
         start value: an iCalendar "date with UTC time"
         end value: an iCalendar "date with UTC time"
```

---
#### **9.6.7.  CALDAV:limit-freebusy-set XML Element**

```text
   Name:  limit-freebusy-set

   Namespace:  urn:ietf:params:xml:ns:caldav
```

목적: 서버에서 반환되는 FREEBUSY 값 집합을 제한하는 시간 범위를 지정합니다.

설명: CALDAV:limit-freebusy-set XML 요소는 지정된 일정 REPORT 요청에 대해 서버가 지정된 시간 범위와 교차하는 VFREEBUSY 구성 요소의 FREEBUSY 속성 값만 반환해야 함을 지정합니다.\(MUST\)

- "start" 속성은 시간 범위의 포함 시작을 지정하고, "end" 속성은 시간 범위의 비포함 끝을 지정합니다.

- 시간 범위. 두 속성 모두 "UTC 시간이 포함된 날짜" 값으로 지정됩니다. "end" 속성의 값은 "start" 속성의 값보다 커야 합니다.\(MUST\)

- 서버는 FREEBUSY 속성 값이 지정된 시간 범위와 교차하는지 확인하기 위해 CALDAV:time-range에 정의된 것과 동일한 논리를 사용해야 합니다.\(MUST\)

```text
   Definition:

         <!ELEMENT limit-freebusy-set EMPTY>

         <!ATTLIST limit-freebusy-set start CDATA #REQUIRED
                                      end   CDATA #REQUIRED>
         start value: an iCalendar "date with UTC time"
         end value: an iCalendar "date with UTC time"
```

---
### **9.7.  CALDAV:filter XML Element**

```text
   Name:  filter

   Namespace:  urn:ietf:params:xml:ns:caldav
```

목적: 서버에서 반환되는 달력 구성 요소 집합을 제한하는 필터를 지정합니다.

설명: CALDAV:filter XML 요소는 달력 REPORT 요청에 의해 반환되는 달력 구성 요소를 제한하는 데 사용되는 검색 필터를 지정합니다.

```text
   Definition:

         <!ELEMENT filter (comp-filter)>
```

---
#### **9.7.1.  CALDAV:comp-filter XML Element**

```text
   Name:  comp-filter

   Namespace:  urn:ietf:params:xml:ns:caldav
```

목적: 달력 구성 요소에 대한 검색 기준을 지정합니다.

설명: CALDAV:comp-filter XML 요소는 달력 개체\(예: VCALENDAR\) 또는 특정 달력 구성 요소 유형\(예: VEVENT\)을 대상으로 하는 쿼리를 지정합니다. CALDAV:comp-filter XML 요소의 범위는 CALDAV:filter XML 요소의 하위로 사용될 때 달력 개체입니다. CALDAV:comp-filter XML 요소의 범위는 포함하는 달력 구성 요소입니다.

- 다른 CALDAV:comp-filter XML 요소의 하위로 사용되는 경우. CALDAV:comp-filter는 다음과 같은 경우 일치한다고 합니다.

```text
      *  The CALDAV:comp-filter XML element is empty and the calendar
         object or calendar component type specified by the "name"
         attribute exists in the current scope;

      or:

      *  The CALDAV:comp-filter XML element contains a CALDAV:is-not-
         defined XML element and the calendar object or calendar
         component type specified by the "name" attribute does not exist
         in the current scope;

      or:

      *  The CALDAV:comp-filter XML element contains a CALDAV:time-range
         XML element and at least one recurrence instance in the
         targeted calendar component is scheduled to overlap the
         specified time range, and all specified CALDAV:prop-filter and
         CALDAV:comp-filter child XML elements also match the targeted
         calendar component;

      or:
```

- \* CALDAV:comp-filter XML 요소에는 대상 달력 구성 요소와 모두 일치하는 CALDAV:prop-filter 및 CALDAV:comp-filter 하위 XML 요소만 포함됩니다.

```text
   Definition:

         <!ELEMENT comp-filter (is-not-defined | (time-range?,
                                prop-filter*, comp-filter*))>

         <!ATTLIST comp-filter name CDATA #REQUIRED>
         name value: a calendar object or calendar component
                     type (e.g., VEVENT)
```

---
#### **9.7.2.  CALDAV:prop-filter XML Element**

```text
   Name:  prop-filter

   Namespace:  urn:ietf:params:xml:ns:caldav
```

목적: 달력 속성에 대한 검색 기준을 지정합니다.

설명: CALDAV:prop-filter XML 요소는 달력의 특정 달력 속성\(예: CATEGORIES\)을 대상으로 하는 쿼리를 지정합니다.

- 포함된 달력 구성요소의 범위. 다음과 같은 경우 달력 속성이 CALDAV:prop-filter와 일치한다고 합니다.

```text
      *  The CALDAV:prop-filter XML element is empty and a property of
         the type specified by the "name" attribute exists in the
         enclosing calendar component;

      or:

      *  The CALDAV:prop-filter XML element contains a CALDAV:is-not-
         defined XML element and no property of the type specified by
         the "name" attribute exists in the enclosing calendar
         component;

      or:

      *  The CALDAV:prop-filter XML element contains a CALDAV:time-range
         XML element and the property value overlaps the specified time
         range, and all specified CALDAV:param-filter child XML elements
         also match the targeted property;

      or:

      *  The CALDAV:prop-filter XML element contains a CALDAV:text-match
         XML element and the property value matches it, and all
         specified CALDAV:param-filter child XML elements also match the
         targeted property;

   Definition:

         <!ELEMENT prop-filter (is-not-defined |
                                ((time-range | text-match)?,
                                 param-filter*))>

         <!ATTLIST prop-filter name CDATA #REQUIRED>
         name value: a calendar property name (e.g., ATTENDEE)
```

---
#### **9.7.3.  CALDAV:param-filter XML Element**

```text
   Name:  param-filter

   Namespace:  urn:ietf:params:xml:ns:caldav
```

목적: 특정 매개변수 값으로 검색을 제한합니다.

설명: CALDAV:param-filter XML 요소는 해당 요소가 속한 달력 속성 범위에서 특정 달력 속성 매개 변수\(예: PARTSTAT\)를 대상으로 하는 쿼리를 지정합니다.

- 정의되었습니다. 다음과 같은 경우 달력 속성 매개변수는 CALDAV: param-filter와 일치한다고 합니다.

```text
      *  The CALDAV:param-filter XML element is empty and a parameter of
         the type specified by the "name" attribute exists on the
         calendar property being examined;

      or:

      *  The CALDAV:param-filter XML element contains a CALDAV:is-not-
         defined XML element and no parameter of the type specified by
         the "name" attribute exists on the calendar property being
         examined;

   Definition:

         <!ELEMENT param-filter (is-not-defined | text-match?)>

         <!ATTLIST param-filter name CDATA #REQUIRED>
         name value: a property parameter name (e.g., PARTSTAT)
```

---
#### **9.7.4.  CALDAV:is-not-defined XML Element**

```text
   Name:  is-not-defined

   Namespace:  urn:ietf:params:xml:ns:caldav
```

목적: 바깥쪽 구성 요소, 속성 또는 매개 변수가 존재하지 않는 경우 일치가 발생하도록 지정합니다.

설명: CALDAV:is-not-define XML 요소는 달력 REPORT 요청에 지정된 바깥쪽 구성 요소, 속성 또는 매개 변수 값이 테스트 중인 달력 데이터에 존재하지 않는 경우 일치가 발생하도록 지정합니다.

```text
   Definition:

         <!ELEMENT is-not-defined EMPTY>
```

---
#### **9.7.5.  CALDAV:text-match XML Element**

```text
   Name:  text-match

   Namespace:  urn:ietf:params:xml:ns:caldav
```

목적: 속성 또는 매개변수 값에 대한 하위 문자열 일치를 지정합니다.

설명: CALDAV:text-match XML 요소는 달력 REPORT 요청에 지정된 속성 또는 매개변수 값에 대한 하위 문자열 일치에 사용되는 텍스트를 지정합니다.

- "collation" 속성은 서버가 문자열 일치를 위해 반드시 사용해야 하는 데이터 정렬을 선택하는 데 사용됩니다. 이 속성이 없으면 서버는 "i;ascii-casemap" 데이터 정렬을 사용해야 합니다.\(MUST, MUST\)

- "negate-condition" 속성은 속성 값이 "no"로 설정된 경우 텍스트가 일치하면 이 테스트가 일치 항목을 반환하거나 속성 값이 설정된 경우 텍스트가 일치하지 않으면 일치 항목을 반환함을 나타내는 데 사용됩니다. "예"로. 예를 들어, STATUS 속성이 CANCELLED로 설정되지 않은 구성 요소를 일치시키는 데 사용할 수 있습니다.

```text
   Definition:

         <!ELEMENT text-match (#PCDATA)>
         PCDATA value: string

         <!ATTLIST text-match collation        CDATA "i;ascii-casemap"
                              negate-condition (yes | no) "no">
```

---
### **9.8.  CALDAV:timezone XML Element**

```text
   Name:  timezone

   Namespace:  urn:ietf:params:xml:ns:caldav
```

목적: 보고서 결과를 확인할 때 사용할 시간대 구성 요소를 지정합니다.

설명: CALDAV:timezone XML 요소는 지정된 달력 REPORT 요청에 대해 서버가 달력 컬렉션의 CALDAV:calendar-timezone 속성 대신 지정된 VTIMEZONE 구성 요소에 의존해야 함을 지정합니다. 여기에는 달력 객체 리소스가 포함되어 있습니다. "날짜" 값과 "현지 시간이 포함된 날짜" 값\(예: 부동 시간\)을 "UTC 시간이 포함된 날짜" 값으로 변경합니다. 서버는 "날짜" 값 또는 "현지 시간이 있는 날짜" 값으로 예약된 달력 구성 요소가 CALDAV:calendar-query REPORT에 지정된 CALDAV:시간 범위와 교차하는지 확인하기 위해 이 정보가 필요합니다.\(MUST\)

참고: CALDAV:timezone XML 요소 내에 포함된 iCalendar 데이터는 &lt;, &gt;, &amp; 사용을 포함하여 표준 XML 문자 데이터 인코딩 규칙을 따라야 합니다. 등 엔터티 인코딩 또는 <!\[CDATA\[ ... \]\]\> 구문 사용. 후자의 경우,\(MUST\)

- iCalendar 데이터에는 CDATA 섹션의 끝 구분 기호인 "\]\]\>" 문자 시퀀스가 ​​포함될 수 없습니다.

```text
   Definition:
```

<!ELEMENT 시간대\(#PCDATA\)\>

- PCDATA 값: 정확히 하나의 VTIMEZONE을 포함하는 iCalendar 개체

---
### **9.9.  CALDAV:time-range XML Element**

```text
   Name:  time-range

   Namespace:  urn:ietf:params:xml:ns:caldav
```

목적: 서버에서 반환되는 달력 구성 요소 집합을 제한하는 시간 범위를 지정합니다.

설명: CALDAV:time-range XML 요소는 지정된 달력 REPORT 요청에 대해 서버가 컨텍스트에 따라 값이 지정된 시간 범위와 교차하는 구성 요소 또는 속성을 갖는 달력 개체 리소스만 반환해야 함을 지정합니다.\(MUST\)

- "start" 속성은 시간 범위의 포괄적 시작을 지정하고, "end" 속성은 시간 범위의 비포함적 끝을 지정합니다. 두 속성 모두 "UTC 시간이 포함된 날짜" 값으로 지정되어야 합니다. 한쪽 끝에서 열려 있는 시간 범위는 하나의 속성만 포함하여 지정할 수 있습니다. 그러나 CALDAV:time-range 요소에는 항상 하나 이상의 속성이 있어야 합니다. "start" 또는 "end" 속성이 CALDAV:time-range XML 요소에 지정되지 않은 경우 각각 "-infinity" 및 "+infinity"를 해당 값으로 가정합니다. "start"와 "end"가 모두 존재하는 경우 "end" 속성의 값은 "start" 속성의 값보다 커야 합니다.\(MUST, MUST, MUST\)

- 시간 범위 테스트는 시간 범위 조건을 테스트할 때 모든 반복 인스턴스를 고려해야 합니다. 하나의 인스턴스가 일치하면 테스트는 true를 반환합니다. 반복 인스턴스를 테스트하려면 서버가 반복 패턴 및 재정의를 기반으로 인스턴스의 DTSTART, DTEND, DURATION 및 DUE 속성에 대한 유효 값을 유추해야 합니다.\(MUST\)

- 아래 표에 명시된 해당 구성 요소 상태에 대한 조건이 만족되면 VEVENT 구성 요소가 주어진 시간 범위와 겹칩니다. \[RFC2445\]에 지정된 대로 DTSTART 속성은 VEVENT 구성 요소에 필수입니다. 조건은 VEVENT 구성 요소에 DTEND 및 DURATION 속성이 있는지에 따라 달라집니다. 또한 DTEND 속성의 값\(MUST\)

- DTSTART 속성 값보다 이후여야 합니다. DTEND 및 DURATION 속성이 없는 VEVENT 구성 요소의 기간은 DTSTART가 DATE 값인 경우 1일\(+P1D\)이고, DTSTART가 DATE-TIME 값인 경우 0초입니다.\(MUST\)

```text
      +---------------------------------------------------------------+
      | VEVENT has the DTEND property?                                |
      |   +-----------------------------------------------------------+
      |   | VEVENT has the DURATION property?                         |
      |   |   +-------------------------------------------------------+
      |   |   | DURATION property value is greater than 0 seconds?    |
      |   |   |   +---------------------------------------------------+
      |   |   |   | DTSTART property is a DATE-TIME value?            |
      |   |   |   |   +-----------------------------------------------+
      |   |   |   |   | Condition to evaluate                         |
      +---+---+---+---+-----------------------------------------------+
      | Y | N | N | * | (start <  DTEND AND end > DTSTART)            |
      +---+---+---+---+-----------------------------------------------+
      | N | Y | Y | * | (start <  DTSTART+DURATION AND end > DTSTART) |
      |   |   +---+---+-----------------------------------------------+
      |   |   | N | * | (start <= DTSTART AND end > DTSTART)          |
      +---+---+---+---+-----------------------------------------------+
      | N | N | N | Y | (start <= DTSTART AND end > DTSTART)          |
      +---+---+---+---+-----------------------------------------------+
      | N | N | N | N | (start <  DTSTART+P1D AND end > DTSTART)      |
      +---+---+---+---+-----------------------------------------------+
```

- VTODO 구성 요소는 아래 표에 지정된 해당 구성 요소 상태에 대한 조건이 만족되면 주어진 시간 범위와 중첩된다고 합니다. 조건은 VTODO 구성 요소에 DTSTART, DURATION, DUE, COMPLETED 및 CREATED 속성이 있는지에 따라 달라집니다. \[RFC2445\]에 지정된 대로 DUE 값은 지정된 경우 DTSTART 값과 같거나 그 이후의 DATE-TIME 값이어야 합니다.\(MUST\)

```text
   +-------------------------------------------------------------------+
   | VTODO has the DTSTART property?                                   |
   |   +---------------------------------------------------------------+
   |   |   VTODO has the DURATION property?                            |
   |   |   +-----------------------------------------------------------+
   |   |   | VTODO has the DUE property?                               |
   |   |   |   +-------------------------------------------------------+
   |   |   |   | VTODO has the COMPLETED property?                     |
   |   |   |   |   +---------------------------------------------------+
   |   |   |   |   | VTODO has the CREATED property?                   |
   |   |   |   |   |   +-----------------------------------------------+
   |   |   |   |   |   | Condition to evaluate                         |
   +---+---+---+---+---+-----------------------------------------------+
   | Y | Y | N | * | * | (start  <= DTSTART+DURATION)  AND             |
   |   |   |   |   |   | ((end   >  DTSTART)  OR                       |
   |   |   |   |   |   |  (end   >= DTSTART+DURATION))                 |
   +---+---+---+---+---+-----------------------------------------------+
   | Y | N | Y | * | * | ((start <  DUE)      OR  (start <= DTSTART))  |
   |   |   |   |   |   | AND                                           |
   |   |   |   |   |   | ((end   >  DTSTART)  OR  (end   >= DUE))      |
   +---+---+---+---+---+-----------------------------------------------+
   | Y | N | N | * | * | (start  <= DTSTART)  AND (end >  DTSTART)     |
   +---+---+---+---+---+-----------------------------------------------+
   | N | N | Y | * | * | (start  <  DUE)      AND (end >= DUE)         |
   +---+---+---+---+---+-----------------------------------------------+
   | N | N | N | Y | Y | ((start <= CREATED)  OR  (start <= COMPLETED))|
   |   |   |   |   |   | AND                                           |
   |   |   |   |   |   | ((end   >= CREATED)  OR  (end   >= COMPLETED))|
   +---+---+---+---+---+-----------------------------------------------+
   | N | N | N | Y | N | (start  <= COMPLETED) AND (end  >= COMPLETED) |
   +---+---+---+---+---+-----------------------------------------------+
   | N | N | N | N | Y | (end    >  CREATED)                           |
   +---+---+---+---+---+-----------------------------------------------+
   | N | N | N | N | N | TRUE                                          |
   +---+---+---+---+---+-----------------------------------------------+
```

- VJOURNAL 컴포넌트는 아래 표에 명시된 해당 컴포넌트 상태에 대한 조건을 만족하는 경우 주어진 시간 범위와 중첩됩니다. 조건은 VJOURNAL 구성 요소의 DTSTART 속성 존재 여부와 DTSTART가 DATE-TIME 값인지 DATE 값인지 여부에 따라 달라집니다. VJOURNAL 구성요소의 유효 "기간"은 DTSTART가 DATE 값인 경우 1일\(+P1D\)이고, DTSTART가 DATE-TIME 값인 경우 0초입니다.

```text
      +----------------------------------------------------+
      | VJOURNAL has the DTSTART property?                 |
      |   +------------------------------------------------+
      |   | DTSTART property is a DATE-TIME value?         |
      |   |   +--------------------------------------------+
      |   |   | Condition to evaluate                      |
      +---+---+--------------------------------------------+
      | Y | Y | (start <= DTSTART)     AND (end > DTSTART) |
      +---+---+--------------------------------------------+
      | Y | N | (start <  DTSTART+P1D) AND (end > DTSTART) |
      +---+---+--------------------------------------------+
      | N | * | FALSE                                      |
      +---+---+--------------------------------------------+
```

- VFREEBUSY 구성 요소는 아래 표에 지정된 해당 구성 요소 상태에 대한 조건이 만족되는 경우 주어진 시간 범위와 겹칩니다. 조건은 DTSTART 및 DTEND 속성의 VFREEBUSY 구성 요소 존재 여부와 DTSTART 및 DTEND가 없는 FREEBUSY 속성에 따라 달라집니다. DURATION 속성은 VFREEBUSY 구성 요소에서 사용될 때 특별한 의미를 갖기 때문에 무시됩니다.

- FREEBUSY 속성만 사용하는 경우 해당 속성이 나타내는 free busy 정보 유형\(한가함, 바쁨, 바쁨-미정, 바쁨-사용 불가능\)에 관계없이 각 FREEBUSY 속성의 각 기간을 시간 범위와 비교합니다.

```text
      +------------------------------------------------------+
      | VFREEBUSY has both the DTSTART and DTEND properties? |
      |   +--------------------------------------------------+
      |   | VFREEBUSY has the FREEBUSY property?             |
      |   |   +----------------------------------------------+
      |   |   | Condition to evaluate                        |
      +---+---+----------------------------------------------+
      | Y | * | (start <= DTEND) AND (end > DTSTART)         |
      +---+---+----------------------------------------------+
      | N | Y | (start <  freebusy-period-end) AND           |
      |   |   | (end   >  freebusy-period-start)             |
      +---+---+----------------------------------------------+
      | N | N | FALSE                                        |
      +---+---+----------------------------------------------+
```

- VALARM 구성 요소는 다음 조건이 충족되는 경우 주어진 시간 범위와 겹치는 것으로 간주됩니다.

```text
         (start <= trigger-time) AND (end > trigger-time)
```

VALARM 구성요소는 반복적으로 트리거되도록 정의할 수 있습니다. 이러한 VALARM 구성 요소는 트리거 중 하나 이상이 시간 범위와 겹치는 경우 주어진 시간 범위와 겹치는 것으로 간주됩니다.

- 다음 조건이 충족되면 달력 속성 COMPLETED, CREATED, DTEND, DTSTAMP, DTSTART, DUE 및 LAST-MODIFIED가 지정된 시간 범위와 겹칩니다.

```text
          (start <= date-time) AND (end > date-time)
```

DTEND가 VEVENT에 없지만 DURATION이 있는 경우 테스트는 대신 '유효한' DTEND, 즉 DTSTART+DURATION에서 작동해야 합니다. 마찬가지로 DUE가 VTODO에 없지만 DTSTART 및 DURATION이 있는 경우 테스트는 대신 '유효' DUE, 즉 DTSTART+DURATION에서 작동해야 합니다.

- CALDAV:시간 범위의 의미는 다른 달력 구성 요소 및 속성에 대해 정의되지 않습니다.

```text
   Definition:

         <!ELEMENT time-range EMPTY>

         <!ATTLIST time-range start CDATA #IMPLIED
                              end   CDATA #IMPLIED>
         start value: an iCalendar "date with UTC time"
         end value: an iCalendar "date with UTC time"
```

---
### **9.10.  CALDAV:calendar-multiget XML Element**

```text
   Name:  calendar-multiget

   Namespace:  urn:ietf:params:xml:ns:caldav
```

목적: 특정 달력 개체 리소스를 검색하는 데 사용되는 CalDAV 보고서입니다.

```text
   Description:  See Section 7.9.

   Definition:

         <!ELEMENT calendar-multiget ((DAV:allprop |
                                      DAV:propname |
                                      DAV:prop)?, DAV:href+)>
```

---
### **9.11.  CALDAV:free-busy-query XML Element**

```text
   Name:  free-busy-query

   Namespace:  urn:ietf:params:xml:ns:caldav
```

목적: 특정 시간 범위에 걸쳐 바쁜 시간을 확인하기 위해 VFREEBUSY를 생성하는 데 사용되는 CalDAV 보고서.

```text
   Description:  See Section 7.10.

   Definition:

         <!ELEMENT free-busy-query (time-range)>
```

---
## **10.  Internationalization Considerations**

CalDAV를 사용하면 달력 컬렉션 설명을 위해 국제화된 문자열을 저장하고 검색할 수 있습니다\(섹션 5.2.1 참조\).

CALDAV:calendar-query REPORT\(섹션 7.8\)에는 CALDAV:text-match 요소에 의해 제어되는 텍스트 검색 옵션이 포함되어 있으며 문자 처리에 대한 세부 정보는 해당 요소에 대한 설명에서 다룹니다\(섹션 9.7.5 참조\).

---
## **11.  Security Considerations**

스누핑 방지가 협상되지 않는 한 HTTP 프로토콜 트랜잭션은 네트워크를 통해 암호화되지 않은 상태로 전송됩니다. 이는 \[RFC2818\]에 정의된 대로 TLS를 사용하여 수행할 수 있습니다. 특히 TLS가 적용되지 않는 한 HTTP 기본 인증을 사용해서는 안 됩니다.\(MUST NOT\)

서버는 신중하게 작성된 보고서를 통해 악성 클라이언트가 과도한 서버 리소스\(CPU, 메모리, 디스크 등\)를 소비하지 못하도록 적절한 예방 조치를 취해야 합니다. 예를 들어, 클라이언트는 향후 100년 동안 매초마다 발생하는 반복 이벤트를 지정하는 반복 규칙을 사용하여 이벤트를 업로드할 수 있으며, 그 결과 약 3 x 10^9 인스턴스가 생성됩니다! 해당 범위 이상으로 반복을 확장하도록 요청하는 보고서는 서버에 대한 서비스 거부 공격을 구성할 가능성이 높습니다.\(MUST\)

새 리소스\(캘린더 컬렉션 포함\)를 생성할 때 클라이언트는 새 리소스에 할당된 리소스 이름\(리소스 URI의 마지막 경로 세그먼트\)이 iCalendar 리소스 자체 내의 데이터나 리소스의 특성에 대한 정보를 노출하지 않는지 확인해야 합니다. 달력 컬렉션. 이는 특정 iCalendar 구성 요소의 존재나 컬렉션에 있는 구성 요소의 특성을 리소스 이름을 기반으로 유추할 수 없도록 하기 위해 필요합니다.\(MUST\)

한가함/바쁨 정보를 롤업할 때 바쁜 기간이 겹치거나 인접하면 사용자 이벤트에 대한 더 많은 정보가 노출됩니다. 이는 한가함 정보를 요청하는 클라이언트에게 캘린더 소유자가 일정이 2개 이상 있다는 것을 알려주는 것입니다. 캘린더 소유자는 바쁜 기간 동안 하나 이상의 이벤트를 가집니다. 따라서 달력 데이터 개인 정보 보호에 대한 보수적인 접근 방식을 사용하면 서버가 동일한 유형일 때 항상 바쁜 기간을 합칠 수 있습니다.

절차 경보는 특히 다른 에이전트가 경보를 생성한 경우 클라이언트나 서버가 처리해야 하는 알려진 보안 위험입니다. 클라이언트와 서버는 그러한 절차 알람을 실행할 필요가 없습니다.

iCalendar \[RFC2445\] 및 iTIP \[RFC2446\]에 설명된 보안 고려 사항은 CalDAV에도 적용됩니다.

이 외에도 CalDAV는 HTTP \[RFC2616\] 및 WebDAV \[RFC2518\], \[RFC3253\], \[RFC3744\]에 없는 보안 고려 사항을 제기하지 않습니다.

---
## **12.  IANA Considerations**

이 문서에서는 하나의 새 URN을 사용하여 새 XML 네임스페이스를 식별합니다. URN은 \[RFC3688\]에 설명된 레지스트리 메커니즘을 따릅니다.

---
### **12.1.  Namespace Registration**

CalDAV 네임스페이스 등록 요청:

```text
   URI: urn:ietf:params:xml:ns:caldav
```

등록자 연락처: 이 문서의 "저자 주소" 섹션을 참조하세요.

XML: 없음. 네임스페이스 URI는 XML 사양을 나타내지 않습니다.

---
## **13.  Acknowledgements**

저자는 이 사양 작성에 대한 아이디어와 지원을 제공한 다음 개인에게 감사의 말씀을 전합니다: Michael Arick, Mario Bonin, Chris Bryant, Scott Carr, Andre Courtemanche, Mike Douglass, Ted Hardie, Marten den Haring, Jeffrey Harris, Sam Hartman , Helge Hess, Jeff McCullough, Alexey Melnikov, Dan Mosedale, Brian Moseley, Francois Perrault, Kervin L. Pierre, Julian F. Reschke, Wilfredo Sanchez Vega, Mike Shaver, Jari Urpalainen, Simon Vaillancourt 및 Jim Whitehead.

저자는 또한 이 사양에 대한 조언을 제공하고 상호 운용성 테스트 이벤트를 조직하여 이를 개선하는 데 도움을 준 Calendaring and Scheduling Consortium에 감사의 말씀을 전하고 싶습니다.

---
## **14.  References**
---
### **14.1.  Normative References**

\[RFC2119\] Bradner, S., "요구 사항 수준을 나타 내기 위해 RFC에 사용되는 핵심 단어", BCP 14, RFC 2119, 1997년 3월.

\[RFC2246\] Dierks, T. 및 C. Allen, "TLS 프로토콜 버전 1.0", RFC 2246, 1999년 1월.

\[RFC2445\] Dawson, F. 및 Stenerson, D., "인터넷 달력 및 일정 핵심 개체 사양\(iCalendar\)", RFC 2445, 1998년 11월.

\[RFC2446\] Silverberg, S., Mansour, S., Dawson, F. 및 R. Hopson, "iTIP\(iCalendar Transport-Independent Interoperability Protocol\) 일정 이벤트, BusyTime, 할 일 및 저널 항목", RFC 2446, 11월 1998.

\[RFC2518\] Goland, Y., Whitehead, E., Faizi, A., Carter, S. 및 D. Jensen, "분산 작성을 위한 HTTP 확장 - WEBDAV", RFC 2518, 1999년 2월.

\[RFC2616\] Fielding, R., Gettys, J., Mogul, J., Frystyk, H., Masinter, L., Leach, P. 및 T. Berners- Lee, "Hypertext Transfer Protocol -- HTTP/1.1" , RFC 2616, 1999년 6월.

\[RFC2818\] Rescorla, E., "TLS를 통한 HTTP", RFC 2818, 2000년 5월.

\[RFC3253\] Clemm, G., Amsden, J., Ellison, T., Kaler, C. 및 J. Whitehead, "WebDAV\(Web Distributed Authoring and Versioning\)에 대한 버전 관리 확장", RFC 3253, 2002년 3월.

```text
   [RFC3688]               Mealling, M., "The IETF XML Registry",
                           BCP 81, RFC 3688, January 2004.
```

\[RFC3744\] Clemm, G., Reschke, J., Sedlar, E. 및 J. Whitehead, "WebDAV\(Web Distributed Authoring and Versioning\) 액세스 제어 프로토콜", RFC 3744, 2004년 5월.

\[RFC4346\] Dierks, T. 및 E. Rescorla, "TLS\(전송 계층 보안\) 프로토콜 버전 1.1", RFC 4346, 2006년 4월.

\[RFC4790\] Newman, C., Duerst, M. 및 A. Gulbrandsen, "인터넷 애플리케이션 프로토콜 대조 레지스트리", RFC 4790, 2007년 3월.

```text
   [W3C.REC-xml-20060816]  Paoli, J., Maler, E., Yergeau, F., Sperberg-
                           McQueen, C., and T. Bray, "Extensible Markup
                           Language (XML) 1.0 (Fourth Edition)", World
                           Wide Web Consortium Recommendation REC-xml-
                           20060816, August 2006,
                           <http://www.w3.org/TR/2006/REC-xml-20060816>.
```

---
### **14.2.  Informative References**

\[RFC2426\] Dawson, F. 및 T. Howes, "vCard MIME

- 디렉터리 프로필", RFC 2426, 1998년 9월.

\[RFC2739\] Small, T., Hennessy, D. 및 F. Dawson, "vCard 및 LDAP에 대한 달력 속성", RFC 2739, 2000년 1월.

\[RFC4331\] Korver, B. 및 L. Dusseault, "DAV\(분산 작성 및 버전 관리\) 컬렉션의 할당량 및 크기 속성", RFC 4331, 2006년 2월.

\[RFC4511\] Sermersheim, J., "LDAP\(Lightweight Directory Access Protocol\): 프로토콜", RFC 4511, 2006년 6월.

\[rfc2518bis\] Dusseault, L., "HTTP 확장

- 분산 저작 - WebDAV", 진행 중인 작업, 2006년 12월.

---
# **Appendix A.  CalDAV Method Privilege Table (Normative)**

다음 표는 \[RFC3744\]의 부록 B에 지정된 WebDAV 메서드 권한 테이블을 확장합니다.

```text
   +------------+------------------------------------------------------+
   | METHOD     | PRIVILEGES                                           |
   +------------+------------------------------------------------------+
   | MKCALENDAR | DAV:bind                                             |
   | REPORT     | DAV:read or CALDAV:read-free-busy (on all referenced |
   |            | resources)                                           |
   +------------+------------------------------------------------------+
```

---
# **Appendix B.  Calendar Collections Used in the Examples**

이 부록은 이 문서 전체의 예제에서 쿼리된 달력 컬렉션에 포함된 달력 개체 리소스를 보여줍니다.

캘린더 컬렉션의 콘텐츠는 컬렉션의 모든 캘린더 데이터를 반환하도록 설계된 CALDAV:calendar-query REPORT 요청에 의해 반환된 것처럼 표시됩니다.

```text
   >> Request <<

   REPORT /bernard/work/ HTTP/1.1
   Host: cal.example.com
   Depth: 1
   Content-Type: application/xml; charset="utf-8"
   Content-Length: xxxx

   <?xml version="1.0" encoding="utf-8" ?>
   <C:calendar-query xmlns:D="DAV:"
                    xmlns:C="urn:ietf:params:xml:ns:caldav">
    <D:prop>
      <D:getetag/>
      <C:calendar-data/>
    </D:prop>
    <C:filter>
      <C:comp-filter name="VCALENDAR"/>
    </C:filter>
   </C:calendar-query>

   >> Response <<

   HTTP/1.1 207 Multi-Status
   Content-Type: application/xml; charset="utf-8"
   Content-Length: xxxx

   <?xml version="1.0" encoding="utf-8" ?>
   <D:multistatus xmlns:D="DAV:"
                 xmlns:C="urn:ietf:params:xml:ns:caldav">

     <D:response>
       <D:href>http://cal.example.com/bernard/work/abcd1.ics</D:href>
       <D:propstat>
         <D:prop>
           <D:getetag>"fffff-abcd1"</D:getetag>
           <C:calendar-data>BEGIN:VCALENDAR
   VERSION:2.0
   PRODID:-//Example Corp.//CalDAV Client//EN
   BEGIN:VTIMEZONE
   LAST-MODIFIED:20040110T032845Z
   TZID:US/Eastern
   BEGIN:DAYLIGHT
   DTSTART:20000404T020000
   RRULE:FREQ=YEARLY;BYDAY=1SU;BYMONTH=4
   TZNAME:EDT
   TZOFFSETFROM:-0500
   TZOFFSETTO:-0400
   END:DAYLIGHT
   BEGIN:STANDARD
   DTSTART:20001026T020000
   RRULE:FREQ=YEARLY;BYDAY=-1SU;BYMONTH=10
   TZNAME:EST
   TZOFFSETFROM:-0400
   TZOFFSETTO:-0500
   END:STANDARD
   END:VTIMEZONE
   BEGIN:VEVENT
   DTSTAMP:20060206T001102Z
   DTSTART;TZID=US/Eastern:20060102T100000
   DURATION:PT1H
   SUMMARY:Event #1
   Description:Go Steelers!
   UID:74855313FA803DA593CD579A@example.com
   END:VEVENT
   END:VCALENDAR
   </C:calendar-data>
         </D:prop>
         <D:status>HTTP/1.1 200 OK</D:status>
       </D:propstat>
     </D:response>

     <D:response>
       <D:href>http://cal.example.com/bernard/work/abcd2.ics</D:href>
       <D:propstat>

         <D:prop>
           <D:getetag>"fffff-abcd2"</D:getetag>
           <C:calendar-data>BEGIN:VCALENDAR
   VERSION:2.0
   PRODID:-//Example Corp.//CalDAV Client//EN
   BEGIN:VTIMEZONE
   LAST-MODIFIED:20040110T032845Z
   TZID:US/Eastern
   BEGIN:DAYLIGHT
   DTSTART:20000404T020000
   RRULE:FREQ=YEARLY;BYDAY=1SU;BYMONTH=4
   TZNAME:EDT
   TZOFFSETFROM:-0500
   TZOFFSETTO:-0400
   END:DAYLIGHT
   BEGIN:STANDARD
   DTSTART:20001026T020000
   RRULE:FREQ=YEARLY;BYDAY=-1SU;BYMONTH=10
   TZNAME:EST
   TZOFFSETFROM:-0400
   TZOFFSETTO:-0500
   END:STANDARD
   END:VTIMEZONE
   BEGIN:VEVENT
   DTSTAMP:20060206T001121Z
   DTSTART;TZID=US/Eastern:20060102T120000
   DURATION:PT1H
   RRULE:FREQ=DAILY;COUNT=5
   SUMMARY:Event #2
   UID:00959BC664CA650E933C892C@example.com
   END:VEVENT
   BEGIN:VEVENT
   DTSTAMP:20060206T001121Z
   DTSTART;TZID=US/Eastern:20060104T140000
   DURATION:PT1H
   RECURRENCE-ID;TZID=US/Eastern:20060104T120000
   SUMMARY:Event #2 bis
   UID:00959BC664CA650E933C892C@example.com
   END:VEVENT
   END:VCALENDAR
   </C:calendar-data>
         </D:prop>
         <D:status>HTTP/1.1 200 OK</D:status>
       </D:propstat>
     </D:response>

     <D:response>
       <D:href>http://cal.example.com/bernard/work/abcd3.ics</D:href>

       <D:propstat>
         <D:prop>
           <D:getetag>"fffff-abcd3"</D:getetag>
           <C:calendar-data>BEGIN:VCALENDAR
   VERSION:2.0
   PRODID:-//Example Corp.//CalDAV Client//EN
   BEGIN:VTIMEZONE
   LAST-MODIFIED:20040110T032845Z
   TZID:US/Eastern
   BEGIN:DAYLIGHT
   DTSTART:20000404T020000
   RRULE:FREQ=YEARLY;BYDAY=1SU;BYMONTH=4
   TZNAME:EDT
   TZOFFSETFROM:-0500
   TZOFFSETTO:-0400
   END:DAYLIGHT
   BEGIN:STANDARD
   DTSTART:20001026T020000
   RRULE:FREQ=YEARLY;BYDAY=-1SU;BYMONTH=10
   TZNAME:EST
   TZOFFSETFROM:-0400
   TZOFFSETTO:-0500
   END:STANDARD
   END:VTIMEZONE
   BEGIN:VEVENT
   ATTENDEE;PARTSTAT=ACCEPTED;ROLE=CHAIR:mailto:cyrus@example.com
   ATTENDEE;PARTSTAT=NEEDS-ACTION:mailto:lisa@example.com
   DTSTAMP:20060206T001220Z
   DTSTART;TZID=US/Eastern:20060104T100000
   DURATION:PT1H
   LAST-MODIFIED:20060206T001330Z
   ORGANIZER:mailto:cyrus@example.com
   SEQUENCE:1
   STATUS:TENTATIVE
   SUMMARY:Event #3
   UID:DC6C50A017428C5216A2F1CD@example.com
   END:VEVENT
   END:VCALENDAR
   </C:calendar-data>
         </D:prop>
         <D:status>HTTP/1.1 200 OK</D:status>
       </D:propstat>
     </D:response>

     <D:response>
       <D:href>http://cal.example.com/bernard/work/abcd4.ics</D:href>
       <D:propstat>
         <D:prop>

           <D:getetag>"fffff-abcd4"</D:getetag>
           <C:calendar-data>BEGIN:VCALENDAR
   VERSION:2.0
   PRODID:-//Example Corp.//CalDAV Client//EN
   BEGIN:VTODO
   DTSTAMP:20060205T235335Z
   DUE;VALUE=DATE:20060104
   STATUS:NEEDS-ACTION
   SUMMARY:Task #1
   UID:DDDEEB7915FA61233B861457@example.com
   BEGIN:VALARM
   ACTION:AUDIO
   TRIGGER;RELATED=START:-PT10M
   END:VALARM
   END:VTODO
   END:VCALENDAR
   </C:calendar-data>
         </D:prop>
         <D:status>HTTP/1.1 200 OK</D:status>
       </D:propstat>
     </D:response>

     <D:response>
       <D:href>http://cal.example.com/bernard/work/abcd5.ics</D:href>
       <D:propstat>
         <D:prop>
           <D:getetag>"fffff-abcd5"</D:getetag>
           <C:calendar-data>BEGIN:VCALENDAR
   VERSION:2.0
   PRODID:-//Example Corp.//CalDAV Client//EN
   BEGIN:VTODO
   DTSTAMP:20060205T235300Z
   DUE;VALUE=DATE:20060106
   LAST-MODIFIED:20060205T235308Z
   SEQUENCE:1
   STATUS:NEEDS-ACTION
   SUMMARY:Task #2
   UID:E10BA47467C5C69BB74E8720@example.com
   BEGIN:VALARM
   ACTION:AUDIO
   TRIGGER;RELATED=START:-PT10M
   END:VALARM
   END:VTODO
   END:VCALENDAR
   </C:calendar-data>
         </D:prop>
         <D:status>HTTP/1.1 200 OK</D:status>
       </D:propstat>

     </D:response>

     <D:response>
       <D:href>http://cal.example.com/bernard/work/abcd6.ics</D:href>
       <D:propstat>
         <D:prop>
           <D:getetag>"fffff-abcd6"</D:getetag>
           <C:calendar-data>BEGIN:VCALENDAR
   VERSION:2.0
   PRODID:-//Example Corp.//CalDAV Client//EN
   BEGIN:VTODO
   COMPLETED:20051223T122322Z
   DTSTAMP:20060205T235400Z
   DUE;VALUE=DATE:20051225
   LAST-MODIFIED:20060205T235308Z
   SEQUENCE:1
   STATUS:COMPLETED
   SUMMARY:Task #3
   UID:E10BA47467C5C69BB74E8722@example.com
   END:VTODO
   END:VCALENDAR
   </C:calendar-data>
         </D:prop>
         <D:status>HTTP/1.1 200 OK</D:status>
       </D:propstat>
     </D:response>

     <D:response>
       <D:href>http://cal.example.com/bernard/work/abcd7.ics</D:href>
       <D:propstat>
         <D:prop>
           <D:getetag>"fffff-abcd7"</D:getetag>
           <C:calendar-data>BEGIN:VCALENDAR
   VERSION:2.0
   PRODID:-//Example Corp.//CalDAV Client//EN
   BEGIN:VTODO
   DTSTAMP:20060205T235600Z
   DUE;VALUE=DATE:20060101
   LAST-MODIFIED:20060205T235308Z
   SEQUENCE:1
   STATUS:CANCELLED
   SUMMARY:Task #4
   UID:E10BA47467C5C69BB74E8725@example.com
   END:VTODO
   END:VCALENDAR
   </C:calendar-data>
         </D:prop>
         <D:status>HTTP/1.1 200 OK</D:status>

       </D:propstat>
     </D:response>

     <D:response>
       <D:href>http://cal.example.com/bernard/work/abcd8.ics</D:href>
       <D:propstat>
         <D:prop>
           <D:getetag>"fffff-abcd8"</D:getetag>
           <C:calendar-data>BEGIN:VCALENDAR
   VERSION:2.0
   PRODID:-//Example Corp.//CalDAV Client//EN
   BEGIN:VFREEBUSY
   ORGANIZER;CN="Bernard Desruisseaux":mailto:bernard@example.com
   UID:76ef34-54a3d2@example.com
   DTSTAMP:20050530T123421Z
   DTSTART:20060101T000000Z
   DTEND:20060108T000000Z
   FREEBUSY:20050531T230000Z/20050601T010000Z
   FREEBUSY;FBTYPE=BUSY-TENTATIVE:20060102T100000Z/20060102T120000Z
   FREEBUSY:20060103T100000Z/20060103T120000Z
   FREEBUSY:20060104T100000Z/20060104T120000Z
   FREEBUSY;FBTYPE=BUSY-UNAVAILABLE:20060105T100000Z/20060105T120000Z
   FREEBUSY:20060106T100000Z/20060106T120000Z
   END:VFREEBUSY
   END:VCALENDAR
   </C:calendar-data>
         </D:prop>
         <D:status>HTTP/1.1 200 OK</D:status>
       </D:propstat>
     </D:response>

   </D:multistatus>
```

---
# **Authors' Addresses**

```text
   Cyrus Daboo
   Apple Inc.
   1 Infinite Loop
   Cupertino, CA  95014
   USA

   EMail: cyrus@daboo.name
   URI:   http://www.apple.com/

   Bernard Desruisseaux
   Oracle Corporation
   600 Blvd. de Maisonneuve West
   Suite 1900
   Montreal, QC  H3A 3J2
   CANADA

   EMail: bernard.desruisseaux@oracle.com
   URI:   http://www.oracle.com/

   Lisa Dusseault
   CommerceNet
   169 University Ave.
   Palo Alto, CA  94301
   USA

   EMail: ldusseault@commerce.net
   URI:   http://commerce.net/
```

---
# **Full Copyright Statement**

저작권\(C\) IETF 트러스트\(2007\).

이 문서는 BCP 78에 포함된 권리, 라이선스 및 제한 사항의 적용을 받으며 여기에 명시된 경우를 제외하고 작성자는 모든 권리를 보유합니다.

이 문서 및 여기에 포함된 정보는 "있는 그대로" 제공되며 기여자, 기여자가 대표하거나 후원하는 조직\(있는 경우\), 인터넷 협회, IETF 트러스트 및 인터넷 엔지니어링 태스크포스는 모든 내용을 부인합니다. 여기에 포함된 정보의 사용이 특정 목적에 대한 상품성 또는 적합성에 대한 권리 또는 묵시적 보증을 침해하지 않는다는 보증을 포함하되 이에 국한되지 않는 명시적 또는 묵시적 보증.

---
# **Intellectual Property**

IETF는 이 문서에 설명된 기술의 구현 또는 사용과 관련이 있다고 주장할 수 있는 지적 재산권 또는 기타 권리의 유효성 또는 범위 또는 그러한 권리에 따른 라이센스의 범위에 대해 어떠한 입장도 취하지 않습니다. 는 가능하다; 또한 그러한 권리를 식별하기 위해 독립적인 노력을 기울였다는 것을 나타내지 않습니다. RFC 문서의 권리와 관련된 절차에 대한 정보는 BCP 78 및 BCP 79에서 찾을 수 있습니다.

IETF 사무국에 제출된 IPR 공개 사본 및 사용 가능한 라이선스에 대한 보증 또는 이 사양의 구현자 또는 사용자가 이러한 독점권 사용에 대한 일반 라이선스 또는 허가를 얻으려는 시도의 결과를 얻을 수 있습니다. http://www.ietf.org/ipr의 IETF 온라인 IPR 저장소에서.

IETF는 이 표준을 구현하는 데 필요할 수 있는 기술을 포함할 수 있는 저작권, 특허 또는 특허 출원 또는 기타 소유권에 관심을 갖도록 이해 당사자를 초대합니다. 정보를 IETF\(ietf-ipr@ietf.org\)로 보내주십시오.

---
# **Acknowledgement**

RFC 편집기 기능에 대한 자금은 현재 Internet Society에서 제공하고 있습니다.