

```text
Network Working Group                                     M. Krilanovich
Request for Comments: 119                                           UCSB
NIC: 5831                                                 April 21, 1971

                      NETWORK FORTRAN SUBPROGRAMS
```

---
# **Preface**

이 문서에 설명된 서브루틴은 UCSB에서 구현되었으며 360/75에서 실행되는 Fortran 프로그램에 액세스할 수 있는 네트워크\(NCP를 통해\)를 만듭니다. 이는 Fortran 메인 프로그램이나 UCSB에서 컴파일된 서브루틴 내에서 호출할 수 있습니다.

FORTRAN 프로그래머가 네트워크를 쉽게 사용할 수 있도록 어셈블리 언어로 작성된 하위 프로그램 세트가 제공됩니다. 이는 이 사이트의 모든 네트워크 작업을 감독하는 네트워크 제어 프로그램\(NCP\)과 사용자 사이의 인터페이스 역할을 합니다.

FORTRAN 네트워크 작업의 기본 개념은 완료 코드 변수의 개념입니다. 닫힌 상태가 아닌 각 소켓에는 완료 코드 변수라고 하는 고유한 변수가 연결되어 있습니다. 이 변수는 두 가지 목적으로 사용됩니다. 참조된 로컬 소켓을 식별하고 작업이 완료되면 프로그래머에게 작업 결과를 나타내는 완료 코드가 포함됩니다. 네트워크 운영 이외의 목적으로 언제든지 사용될 수 있습니다. 네트워크 작업 시작 시의 값은 중요하지 않습니다. 오히려 중요한 것은 변수 자체입니다. 모든 네트워크 작업에서 완료 코드 변수가 호출될 때마다 허용되는 유일한 유형 변수는 INTERGER\*4입니다.

일반적으로 서브프로그램은 작업을 시작하고 NCP에서 작업 완료를 통지할 때까지 WAIT 상태\(CPU 시간을 소비하지 않음\)로 들어갑니다. 이러한 작업의 경우 프로그래머는 하위 프로그램이 작업이 완료될 때까지 기다려야 하는 최대 시간을 10분의 1초 단위로 지정하는 INTERGER\*4 유형의 시간 제한을 제공합니다. 이 시간 제한을 초과하면 오류를 나타내는 완료 코드가 제공됩니다. 그리고 제어는 호출 프로그램으로 반환되며 작업은 여전히 ​​보류 중입니다.

소켓 식별자로 소켓을 지정해야 하는 작업에서는 다음 형식이 사용됩니다. 식별자는 두 개 이상의 요소가 있는 INTEGER\*4 배열 또는 그러한 배열의 요소로 지정됩니다. 지정된 첫 번째 요소는 사이트 번호로 간주되고 다음 요소는 소켓 번호로 간주됩니다. 소켓 번호는 양수, 음수, 0 등 어떤 값이든 가질 수 있습니다. 음수는 내부적으로 2의 보수 형태로 표현되므로 소켓의 성별을 고려하여 소켓 번호는 절대값이 짝수인지 홀수인지에 따라 홀수에 대해 짝수입니다.

다음은 각 하위 프로그램, 해당 기능 및 호출 순서에 대한 설명입니다.

```text
   (1) OPEN
```

- 이 서브프로그램을 호출함으로써 사용자는 지정된 로컬 소켓이 닫힌 상태에서 제거되어 데이터 전송에 참여할 준비를 하도록 요청합니다. 이 하위 프로그램으로 수행할 수 있는 세 가지 작업이 있으며 아래에 설명되어 있습니다.

```text
       (A) CONNECT
```

- 이 작업을 시작함으로써 사용자는 지정된 로컬 소켓이 지정된 외부 소켓에 논리적으로 연결되고 두 소켓 간의 데이터 전송이 활성화되도록 요청합니다. 서브프로그램은 외부 소켓이 연결 시도를 승인하거나 거부할 때까지 기다립니다. 이 작업은 로컬 소켓이 닫힌 상태일 때만 유효합니다.

- 호출 순서는 다음과 같습니다.

```text
                 CALL OPEN (cmpcd, time, lclsck, fgnsck, ws)
```

어디

- 'cmpcd'는 로컬 소켓과 연결될 완료 코드 변수입니다.

- '시간'은 서브프로그램이 작업 완료를 기다리는 시간입니다.

- 'lclsck'는 로컬 소켓의 소켓 식별자입니다.

- 'fgnsck'는 외부 소켓의 소켓 식별자입니다.

- 'ws'는 소켓 식별자와 동일한 속성을 갖는 작업 공간이며 작업이 성공하면 연결 수명 동안 로컬 소켓과 연결됩니다. 특정 향후 작업에 대한 응답으로 정보가 이 작업 공간의 프로그래머에게 반환될 수 있습니다.

- 이 작업에는 다음 완료 코드가 가능합니다.

- 0, 작업이 성공했으며 연결이 설정되었습니다.

- 4, 지정된 완료 코드 변수가 이미 소켓에 할당되어 있습니다. 작전은 억제됐다

- 8, 지정된 로컬 소켓이 닫힌 상태가 아닙니다. 작전은 억제됐다

- 12, 지정된 외부 사이트에 대한 모든 통신 경로가 사용 중입니다. 작전은 억제됐다

- 16, 다른 연결을 지원하기에는 로컬 리소스가 부족합니다. 작전은 억제됐다

- 20, 연결 시도가 외부 프로세스에 의해 거부되었습니다.

- 24, 지정된 로컬 소켓이 UCSB에 로컬이 아닙니다. 작전은 억제됐다

- 28, 지정된 외국 사이트가 유효하지 않습니다. 작전은 억제됐다

- 32, 지정된 작업공간과 관련하여 주소 지정 또는 보호 예외가 발생했습니다. 작전은 억제됐다

36, 해외 사이트의 하드웨어 중 하나는

- 작동 불능이거나 외국 현장의 NCP 상대가 존재하지 않거나 실패했습니다.

- 40, 로컬 및 외부 소켓은 모두 송신 소켓이거나 수신 소켓입니다. 작전은 억제됐다

- 44, 운영자 명령에 의해 모든 네트워크 작업이 종료되었습니다. 소켓이 닫힐 것이다

- 60, NCP 제어 전송 오류가 발생했습니다. 작전은 억제됐다

- 252, 지정된 시간 제한이 초과되었습니다. 작업이 시작되었지만 완료되지 않았습니다.

```text
       (B) LISTEN
```

이 작업은 다음 사항에 대한 알림을 요청합니다.

- 지정된 로컬 소켓을 향한 연결 시도입니다. 서브프로그램은 그러한 호출이 수신될 때까지 기다립니다. 이때 호출 프로세스의 소켓 식별자가 호출 프로그램에 반환됩니다. 이 동작은 지정된 로컬 소켓이 닫힌 상태일 때만 유효하다.

- 호출 순서는 다음과 같습니다.

```text
                 CALL OPEN (cmpcd, time, lclsck, ws)
```

어디

- 'cmpcd'는 로컬 소켓과 연결될 완료 코드 변수입니다.

- '시간'은 서브프로그램이 작업 완료를 기다리는 시간입니다.

- 'lclsck'는 로컬 소켓의 소켓 식별자입니다.

'ws'는 작업 공간입니다.

- 성공하면 호출 소켓의 소켓 식별자가 포함되며 연결 수명 동안 로컬 소켓과 연결됩니다. 'ws'는 소켓 식별자와 동일한 속성을 갖습니다.

- 이 작업에는 다음 완료 코드가 가능합니다.

- 0, 작업이 성공했으며 전화가 수신되었습니다.

- 4, 지정된 완료 코드 변수가 이미 소켓에 할당되어 있습니다. 작전은 억제됐다

- 8, 지정된 로컬 소켓이 닫힌 상태가 아닙니다. 작전은 억제됐다

- 12, 다른 연결을 지원하기에는 로컬 리소스가 부족합니다. 작전은 억제됐다

- 16, 지정된 로컬 소켓이 UCSB에 로컬이 아닙니다. 작전은 억제됐다

- 20, 지정된 작업공간과 관련하여 주소 지정 또는 보호 예외가 발생했습니다. 작전은 억제됐다

- 44, 운영자 명령에 의해 모든 네트워크 작업이 종료되었습니다. 소켓이 닫힐 것이다

- 252, 지정된 시간 제한이 초과되었습니다. 작업이 시작되었지만 완료되지 않았습니다.

```text
       (C) ACCEPT

           This operation accepts connection with the foreign socket
           whose call caused successful completion of a previous LISTEN
           operation by the specified local socket.  After completion of
           this operation, data may be transferred to or from the local
           socket, depending on its gender.  This operation is valid
```

- 로컬 소켓을 참조하는 마지막 작업이 LISTEN 작업인 경우에만 해당됩니다. 서브프로그램은 작업이 완료될 때까지 기다립니다.

- 호출 순서는 다음과 같습니다.

```text
                 CALL OPEN (cmpcd, time)
```

어디

- 'cmpcd'는 이전 LISTEN 작업에 의해 로컬 소켓과 연결된 완료 코드 변수입니다.

- '시간'은 서브프로그램이 작업 완료를 기다리는 시간입니다.

- 이 작업에는 다음 완료 코드가 가능합니다.

- 0, 작업이 성공했으며 연결이 설정되었습니다.

- 4, 지정된 로컬 소켓이 닫힌 상태입니다. 9 NCP가 외부 프로세스로부터 중단 알림을 받았을 수 있습니다. 작전은 억제됐다

- 8, 지정된 로컬 소켓을 지정하는 이전 작업은 LISTEN이 아닙니다. 작전은 억제됐다

- 12, 지정된 외부 사이트에 대한 모든 통신 경로가 사용 중입니다. 소켓이 닫힌 상태로 반환되었습니다.

- 252, 지정된 시간 제한이 초과되었습니다. 작업이 시작되었지만 완료되지 않았습니다.

```text
   (2) CLOSE
```

- 이 작업은 지정된 로컬 소켓을 닫힌 상태로 되돌려 달라는 요청입니다. 이 소켓과 관련된 마지막 작업이 LISTEN인 경우 이 작업은 외부 프로세스의 연결 시도를 거부합니다. 마지막 작업이 CONNECT인 경우 시도가 중단됩니다. 연결이 설정되면 로컬 소켓에서 전송 중인 모든 데이터는 로컬 소켓이 닫히기 전에 수신되거나 플러시될 외부 소켓에 도달할 수 있습니다. 서브프로그램은 소켓이 닫힌 상태로 돌아갈 때까지 기다립니다.

- 호출 순서는 다음과 같습니다.

```text
             CALL CLOSE (cmpcd, time)
```

어디

- 'cmpcd'는 로컬 소켓과 연관된 완료 코드 변수입니다.

- '시간'은 서브프로그램이 작업 완료를 기다리는 시간입니다.

- 이 작업에는 다음 완료 코드가 가능합니다.

- 0, 작업이 성공했으며 소켓이 닫힌 상태로 반환되었습니다.

- 8, 지정된 완료 코드 변수가 현재 소켓에 할당되어 있지 않습니다. 작전은 억제됐다

- 12, 지정된 로컬 소켓이 닫히는 중입니다. 작업이 억제되었지만 로컬 소켓은 닫힙니다.

36, 해외 사이트의 하드웨어 중 하나는

- 작동 불능, 또는 해외 사이트에 있는 NCP의 상대편이 존재하지 않거나 실패했습니다.

- 44, 운영자 명령에 의해 모든 네트워크 작업이 종료되었습니다. 소켓이 닫힐 것이다

- 60, NCP 제어 전송 오류가 발생했습니다. 작업이 중단되었습니다

- 64, 전송 오류가 발생했습니다. 작업이 중단되었지만 소켓은 닫힙니다.

- 252, 지정된 시간 제한이 초과되었습니다. 작업이 시작되었지만 완료되지 않았습니다.

```text
   3) SEND
```

- 이 프로그램은 데이터가 외부 소켓으로 전송되도록 합니다. 서브프로그램은 데이터가 외부 소켓에 의해 수신될 때까지 또는 NCP에 의해 로컬로 대기열에 들어갈 때까지 기다립니다.

- 호출 순서는 다음과 같습니다.

```text
             CALL WRITE (cmpcd, bfr, len, time [,offset])
```

어디

- 'cmpcd'는 로컬 소켓과 연관된 완료 코드 변수입니다.

- 'bfr'은 전송할 데이터이며 모든 유형, 길이가 될 수 있습니다.

- 'len'은 전송할 데이터 비트 수입니다. 'len'이 양수가 아니면 아무 작업도 수행되지 않습니다. 'len'은 INTEGER\*4 유형입니다.

- '시간'은 서브프로그램이 작업 완료를 기다리는 시간입니다.

- 'offset'은 데이터 전송이 시작되는 'bfr'의 첫 번째 비트로부터의 비트 오프셋으로 INTEGER\*4 유형이다. 지정하지 않으면 'offset'의 기본값은 0입니다.

- 이 작업에는 다음 완료 코드가 가능합니다.

- 0, 작업이 성공했으며 데이터가 전송되었습니다.

- 4, 지정된 로컬 소켓은 송신 소켓이 아닙니다. 작전은 억제됐다

- 8, 지정된 완료 코드 변수가 소켓에 할당되지 않았습니다. 작전은 억제됐다

- 12, 이전 전송 작업이 진행 중입니다. 작전은 억제됐다

- 16, 연결이 완전히 열려 있지 않습니다. 작전은 억제됐다

- 20, 외부 소켓이 전송 작업이 완료되기 전에 연결을 종료했습니다. 모든 데이터가 전송되지는 않았습니다.

36, 해외 사이트의 하드웨어 중 하나는

- 작동 불능, 또는 해외 사이트에 있는 NCP의 상대편이 존재하지 않거나 실패했습니다.

- 44, 운영자 명령에 의해 모든 네트워크 작업이 종료되었습니다. 소켓이 닫힐 것이다

- 52, 외부 소켓에서 하나 이상의 인터럽트가 수신되었습니다. 작전은 억제됐다

- 56, 데이터 버퍼와 관련하여 주소 지정 예외가 발생했습니다. 작전은 억제됐다

- 60, NCP 제어 전송 오류가 발생했습니다. 작업이 중단되었으며 소켓이 닫힙니다.

- 64, 전송 오류가 발생했습니다. 작업이 중단되었으며 소켓이 닫힙니다.

- 252, 지정된 시간 제한이 초과되었습니다. 작업이 시작되었지만 완료되지 않았습니다.

```text
   4) RECEIVE
```

- 이 작업을 수행하면 외부 소켓에서 데이터가 수신됩니다. 서브프로그램은 데이터 수신이 완료될 때까지 기다립니다.

- 호출 순서는 다음과 같습니다.

```text
             CALL READ (cmpcd, bfr, len, time [,offset])
```

어디

- 'cmpcd'는 로컬 소켓과 연관된 완료 코드 변수입니다.

- 'bfr'은 데이터가 배치될 변수이며 모든 유형, 길이가 될 수 있습니다.

- 'len'은 수신할 데이터의 비트 수입니다. 'len'이 양수가 아니면 아무 작업도 수행되지 않습니다. 'len'은 INTEGER\*4 유형입니다.

- '시간'은 서브프로그램이 작업 완료를 기다리는 시간입니다.

- 'offset'은 데이터의 첫 번째 비트가 배치될 'bfr'의 첫 번째 비트로부터의 비트 오프셋이며 INTEGER\*4 유형입니다. 지정하지 않으면 '오프셋'의 기본값은 0입니다.

- 이 작업에는 다음 완료 코드가 가능합니다.

- 0, 작업이 성공했으며 데이터가 수신되었습니다.

- 4, 지정된 로컬 소켓이 수신 소켓이 아닙니다. 작전은 억제됐다

- 8, 지정된 완료 코드 변수가 소켓에 할당되지 않았습니다. 작전은 억제됐다

- 12, 이전 수신 작업이 진행 중입니다. 작전은 억제됐다

- 16, 연결이 완전히 열려 있지 않습니다. 작전은 억제됐다

- 20, 외부 소켓이 수신 작업이 완료되기 전에 연결을 종료했습니다. 데이터는 예측할 수 없다

- 24, 데이터 버퍼와 관련하여 주소 지정 또는 보호 예외가 발생했습니다. 작전은 억제됐다

36, 해외 사이트의 하드웨어 중 하나는

- 작동 불능, 또는 해외 사이트에 있는 NCP의 상대편이 존재하지 않거나 실패했습니다.

- 44, 운영자 명령에 의해 모든 네트워크 운영이 종료되었습니다. 소켓이 닫힐 것이다

- 52, 외부 소켓에서 하나 이상의 인터럽트가 수신되었습니다. 작전은 억제됐다

- 60, NCP 제어 전송 오류가 발생했습니다. 작업이 억제되고 소켓이 닫힙니다.

- 252, 지정된 시간 제한이 초과되었습니다. 작업이 시작되었지만 완료되지 않았습니다.

```text
   5) CHECK
```

- 이 작업을 수행하면 지정된 로컬 소켓의 상태가 반환됩니다. 이 작업은 항상 성공하고 소켓은 소켓 번호로 식별되므로 이 작업과 관련된 완료 코드 변수가 없습니다. 이 작업은 언제든지 유효하며 항상 즉시 완료됩니다.

- 호출 순서는 다음과 같습니다.

```text
          CALL CHECK (lclsck, stat, menu, fgnsck, deficit)
```

어디

- 'lclsck'는 로컬 소켓의 소켓 식별자입니다.

'stat'는 상태에 대한 코드이며 유형입니다.

- 정수\*4.

- 'mnem'은 상태에 대한 니모닉이며 8바이트보다 크거나 같은 길이의 모든 유형이 될 수 있습니다.

- 'fgnsck'는 외부 소켓의 소켓 식별자이거나 0입니다.

- 'deficit'은 비트 단위의 전송/수신 부족분 또는 0이며 INTEGER\*4 유형입니다.

- 'lclsck'는 프로그래머가 정의해야 하는 유일한 인수입니다. 나머지는 서브프로그램에서 출력됩니다.

```text
   'STAT'    'MNEM'         MEANING
   ------    ------         ---------
     0        OPEN         A connection is fully established. No
                           SEND/RECEIVE operation is in progress.
                          'fgnsck' is the socket identifier of the
                           connected socket.  'deficit' is the number of
                           bites queued locally at the socket by the NCP
                           and available to satisfy a future RECEIVE
                           operation, or awaiting output ads the results
                           of a previous SEND operation.
```

1 LISTEN A LISTEN이 발행되었습니다.

2 CONNECT CONNECT가 발행되었습니다. 'fgnsck'는 외부 소켓의 소켓 식별자입니다.

3 DECISION A LISTEN이 완료되었습니다. 'fgnsck'는 호출 소켓의 소켓 식별자입니다.

4 CALL\(S\) 로컬 소켓에 대해 하나 이상의 호출이 수신되었습니다. LISTEN 또는 CONNECT가 실행되지 않았습니다.

5 I/O 연결이 완전히 설정되었습니다. ㅏ

- SEND/RECEIVE 작업이 진행 중입니다. 'fgnsck'는 연결된 소켓의 소켓 식별자입니다. '적자'는 아직 전송되거나 수신되지 않은 비트 수입니다.

6 CLOSED 소켓이 닫힌 상태입니다.

```text
     7      <--DRAIN       The foreign socket is attempting to close the
                           connection.  The NCP has data yet to be ready
                           by the local socket.  'fgnsck' is the socket
                           identifier of the connected socket.
                          'deficit' is the number of bits yet to be
                           received.
```

8 DRAINED 외부 소켓이 연결을 닫으려고 시도하고 있습니다. NCP는 현재 전송 중인 데이터의 해외 사이트에 도착을 기다리고 있습니다. 'fgnsck'는 연결된 소켓의 소켓 식별자입니다.

9 CLOSING 로컬 소켓이 CLOSE를 발행했습니다. NCP가 로컬 소켓을 닫힌 상태로 되돌리는 중입니다. 'fgnsck'는 연결된 소켓의 소켓 식별자입니다.

```text
    10       DRAIN-->      The local socket has issued a CLOSE.  The NCP
                           is completing the last SEND operation before
                           returning the local socket to the closed
                           state.  'fgnsck' is the socket identifier
                           of the connected socket. 'deficit' is the
                           number of bits the NCP has yet to transmit.

   (6) IDENTIFY
```

이 작업은 로컬 소켓을 식별하는 데 사용됩니다.

- 완성 코드 변수. 작업은 언제든지 유효하며 항상 즉시 완료됩니다. 항상 성공하기 때문에 작업에 대한 완료 코드가 없으며, 완료 코드 변수의 내용도 변경되지 않습니다.

- 호출 순서는 다음과 같습니다.

```text
             CALL ID (cmpcd, lclsck)
```

어디

- 'cmpcd'는 로컬 소켓과 연관된 완료 코드 변수입니다.

- 완료 코드 변수가 소켓과 연관되어 있으면 'lclsck'는 로컬 소켓의 소켓 식별자로 설정되고, 그렇지 않으면 0으로 설정됩니다.

```text
   (7) SIGNAL
```

- 이 작업은 외부 프로세스에 신호를 전달하는 데 사용됩니다. 신호의 중요성은 전적으로 사용자에 따라 다릅니다. 그 결과 다음에 외부 소켓이 RECEIVE 또는 SEND 작업을 시작하려고 시도할 때 작업이 억제되고 신호가 수신되었음을 나타내는 완료 코드가 제공됩니다. 서브프로그램은 신호가 외부 NCP로 전송될 때까지 기다립니다. 이 작업은 소켓이 완전히 열린 경우에만 유효합니다.

- 호출 순서는 다음과 같습니다.

```text
             CALL SIGNAL (cmpcd, time)
```

어디

- 'cmpcd'는 로컬 소켓과 연관된 완료 코드 변수입니다.

- '시간'은 서브프로그램이 작업 완료를 기다리는 시간입니다.

- 이 작업에는 다음 완료 코드가 가능합니다.

- 0, 작업이 성공했으며 신호가 전송되었습니다.

- 4, 지정된 완료 코드 변수가 소켓에 할당되지 않았습니다. 작전은 억제됐다

- 8, 연결이 완전히 열려 있지 않습니다. 작전은 억제됐다

- 특정 네트워크 하위 프로그램은 온라인 시스템 네트워크 운영자와 함께 사용하도록 고안되었지만 이에 국한되지는 않습니다. 다음은 이러한 연산자에 대한 일반적인 설명입니다.

- 온라인 시스템 네트워크 운영자와 관련된 모든 네트워크 운영에는 전송 및 수신되는 데이터 형식과 관련된 특정 규칙이 있습니다. 데이터는 작업 코드, 길이, 텍스트의 세 가지 필드로 구성된 '메시지'로 순서대로 그룹화됩니다. op 코드는 길이가 1바이트이며 텍스트 필드가 해석되는 방식을 나타내는 코드입니다. 길이 필드는 2바이트 길이이며 실제 데이터가 포함된 텍스트 필드의 길이를 비트 단위로 제공합니다. \(op 코드와 길이 필드를 함께 헤더라고 합니다.\)

- 현재 다음과 같은 op 코드가 정의되어 있습니다:

```text
       Op Code   Meaning

         0       This op code is a NOP. No text field exists, and the
                 contents of the length field are unpredictable. (This
                 op code is used mainly as a delimiter.)
```

1 텍스트 필드에는 EBCDIC 문자가 포함되어 있습니다.

- 바이트당 문자. 온라인 시스템 운영자는 텍스트 필드가 수신되자마자 해당 문자를 표시할 문자로 간주합니다.

- 2 텍스트에는 키당 1바이트의 키푸시 코드가 포함되어 있습니다. 온라인 운영자는 텍스트 필드가 수신되자마자 키를 실행할 의도로 간주합니다.

- 3 온라인 운영자가 해당 수신 작업에 대한 모든 데이터가 수신될 때까지 키 실행이 지연된다는 점을 제외하고 op 코드 2와 동일합니다.

- 온라인 시스템 운영자가 보내거나 받는 데이터의 표준 형식은 메시지 문자열이며 마지막 메시지는 트레일러라고 하는 NOP op 코드가 있는 헤더로 표시됩니다. 이러한 규칙은 기본 상황입니다. 그 중 어떤 것도 적절한 프로그래밍으로 무시될 수 있습니다.

- 다음은 온라인 시스템 운영자를 위한 하위 프로그램에 대한 설명입니다.

\(8\) 온라인 콘솔에 쓰기

- 이 서브프로그램은 EBCDIC 코드로 표시되는 문자로 간주되는 데이터가 지정된 로컬 소켓에서 전송되도록 합니다. 문자는 표준 메시지로 전송되며 앞에 헤더가 오고 선택적으로 뒤에 트레일러가 옵니다. 서브프로그램은 데이터가 외부 소켓에 의해 수신되거나 NCP에 의해 로컬로 대기열에 들어갈 때까지 기다립니다. 이 작업은 로컬 소켓이 송신 소켓이고 완전히 열려 있는 경우에만 유효합니다.

- 호출 순서는 다음과 같습니다.

```text
             CALL WTOLC (cmpcd, bfr, len, level, across, down, time)
```

어디

- 'cmpcd'는 로컬 소켓과 연관된 완료 코드 변수입니다.

- 'bfr'은 전송할 문자열이며 모든 유형, 길이가 될 수 있습니다.

- 절대값 'len'은 전송할 문자 수입니다. 'len'이 양수이거나 0이면 데이터의 끝이 트레일러로 표시됩니다. 'len'이 음수이면 예고편이 전송되지 않습니다. 'len'은 INTEGER\*4 유형입니다.

- '레벨'은 타이핑 모드를 나타냅니다. 'level'의 절대값은 0이 아닌 경우 입력할 시프트 레벨이며 9보다 작거나 같아야 합니다. 9개 이상이면 1명이 소송을 당합니다. 'level'이 양수이면 'across'와 'down'은 현재 입력 위치를 기준으로 합니다. 'level'이 음수이면 입력이 시작되기 전에 캐리지가 왼쪽 상단에 위치하므로 'across' 및 'down' 절대 좌표가 됩니다. 'level'이 0인 경우 묶음은 대소문자 1개이며 캐리지 리턴이 'across' 및 'sown'에 대한 위치 앞에 옵니다. 표시할 문자가 대소문자 1개 문자인 경우 전송된 헤더에는 문자를 수신하자마자 표시할 문자를 나타내는 op 코드가 있습니다. 그렇지 않으면 op 코드는 버튼이 수신되는 즉시 실행될 것임을 나타냅니다. 'level'은 INTEGER\*4 유형입니다.

'across'는 이동할 공간의 수입니다.

- 입력을 시작하기 전에 디스플레이 튜브를 수평으로 가로지릅니다. 'across'는 양수, 음수 또는 0 등 모든 값을 가질 수 있으며 유형은 INTEGER\*4입니다.

- '시간'은 서브프로그램이 작업 완료를 기다리는 시간입니다.

- 이 작업의 완료 코드는 SEND와 동일합니다.

\(9\) 온라인 콘솔에서 읽기

이 서브프로그램은 문자로 간주되는 데이터를 수신합니다.

- 하나 이상의 표준 메시지에 있는 외부 소켓의 EBCDIC 코드로 표시됩니다. 서브프로그램은 선택적으로 트레일러가 뒤따르는 데이터가 로컬 소켓에 의해 수신될 때까지 기다립니다. 이 작업은 로컬 소켓이 수신 소켓이고 완전히 열려 있는 경우에만 유효합니다.

- 호출 순서는 다음과 같습니다.

```text
             CALL RFOLC (cmpcd, bfr, len, time)
```

어디

- 'cmpcd'는 로컬 소켓과 연관된 완료 코드 변수입니다.

- 'bfr'은 데이터가 배치될 변수이며 모든 유형, 길이가 될 수 있습니다.

- 'len'은 절대값으로 'bfr'에 배치될 최대 문자 수입니다. 수신된 헤드의 길이 필드의 총 데이터가 'len'보다 많은 경우 초과 데이터가 수신되지만 'brf'에 배치되지 않으며 프로그램에서 액세스할 수 없습니다. 'len'이 양수이거나 0이면 트레일러가 나타날 때까지 데이터가 수신됩니다. 'len'이 음수이면 예고편을 제외한 단일 메시지가 수신됩니다. 'len'은 INTEGER\*4 유형입니다.

- '시간'은 서브프로그램이 작업 완료를 기다리는 시간입니다.

- 이 작업의 완료 코드는 RECEIVE의 완료 코드와 동일합니다.

\(10\) 회신과 함께 온라인 콘솔에 쓰기

- 이 서브프로그램은 '온라인 콘솔에 쓰기'와 '온라인 콘솔에서 읽기' 기능을 결합합니다. 서브 프로그램은 먼저 지정된 송신 소켓에서 외부 소켓으로 데이터 문자열을 보내고, 외부 소켓이 해당 데이터를 수신할 때까지\(또는 NCP에 의해 로컬로 대기열에 추가될 때까지\) 기다린 다음 지정된 수신 소켓을 향한 응답을 기다립니다. 소켓의 성별이 정확하고 둘 다 완전히 열린 경우에만 작업이 유효합니다.

- 호출 순서는 다음과 같습니다.

```text
             CALL WTOLCR (cmpcd, bfr, len, level, across, down, time,
             cmpcd2, bfr2, len2)
```

어디

- 'cmpcd'는 로컬 송신 소켓과 연관된 완료 코드 변수입니다.

```text
                'bfr' is as in 'WRITE TO ONLINE CONSOLE'.

                'len' is as in 'WRITE TO ONLINE CONSOLE'.

                'level' is an in 'WRITE TO ONLINE CONSOLE'.

                'across' as in 'WRITE TO ONLINE CONSOLE'.

                'down' is as in 'WRITE TO ONLINE CONSOLE'.
```

- '시간'은 서브프로그램이 개별적으로 데이터 전송 및 수신이 완료될 때까지 기다리는 시간입니다.

- 'cmpcd2'는 로컬 수신 소켓과 연관된 완료 코드 변수입니다.

```text
                'brf2' is as 'bfr' in 'READ FROM ONLINE CONSOLE'.

                'len2' is as 'len' in 'READ FROM ONLINE CONSOLE'.
```

- 송신 소켓의 완료 코드는 SEND 작업의 완료 코드와 동일하고, 수신 소켓의 완료 코드는 RECEIVE 작업의 완료 코드와 동일합니다.

```text
   (11) ERASE
```

- 이 서브프로그램은 온라인 시스템 명령에 구성된 데이터가 지정된 로컬 소켓에서 전송될 디스플레이 튜브를 지우도록 합니다. 데이터는 수신 시 표시될 문자를 나타내는 op 코드와 선택적으로 예고편을 포함하여 단일 표준 메시지로 전송됩니다. 서브프로그램은 데이터가 외부 소켓에 의해 수신되거나 NCP에 의해 로컬로 대기열에 들어갈 때까지 기다립니다. 이 작업은 로컬 소켓이 송신 소켓이고 완전히 열려 있는 경우에만 유효합니다.

- 호출 순서는 다음과 같습니다.

```text
             CALL ERASE ('cmpcd', 'delay1', 'delay2', 'time')
```

어디

- 'cmpcd'는 로컬 소켓과 연관된 완료 코드 변수입니다.

- 'delay1'\(절대값\)은 삭제를 전송하기 전에 서브프로그램이 \(WAIT 상태에서\) 일시 중지되는 시간\(10분의 1초\)입니다. 'delay1'이 양수이거나 0이면 삭제 후 예고편이 전송됩니다. 음수인 경우 예고편이 전송되지 않습니다. 'delay1'은 INTEGER\*4 유형입니다.

- 'delay2'는 서브프로그램이 삭제를 전송한 후 호출 프로그램에 제어권을 반환하기 전에 일시 중지되는 시간\(10분의 1초\)이며 유형은 INTEGER\*4입니다.

- '시간'은 서브프로그램이 작업 완료를 기다리는 시간입니다.

- 이 작업의 완료 코드는 SEND와 동일합니다.