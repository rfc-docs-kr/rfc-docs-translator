

```text
Network Working Group                                       J. Rosenberg
Request for Comments: 2871                                   dynamicsoft
Category: Informational                                   H. Schulzrinne
                                                     Columbia University
                                                               June 2000
```

- IP를 통한 전화 통신 라우팅을 위한 프레임워크

---
# **Status of this Memo**

이 메모는 인터넷 커뮤니티에 대한 정보를 제공합니다. 어떤 종류의 인터넷 표준도 지정하지 않습니다. 이 메모의 배포는 무제한입니다.

---
# **Copyright Notice**

저작권\(C\)인터넷학회\(2000\). 판권 소유.

---
# **Abstract**

이 문서는 공급자 간 IP 전화 통신 게이트웨이 라우팅 테이블의 검색 및 교환을 지원하는 TRIP\(Telephony Routing over IP\)의 프레임워크 역할을 합니다. 이 문서는 전화 통신 라우팅 교환 문제를 정의하고 프로토콜의 필요성을 동기를 부여합니다. TRIP의 아키텍처 프레임워크를 제시하고, 용어를 정의하고, 다양한 프로토콜 요소와 해당 기능을 지정하고, 프로토콜에서 제공하는 서비스를 개요하고, 프로토콜이 인터넷 전화 통신의 더 넓은 맥락에 어떻게 적용되는지 논의합니다.

---
# **Table of Contents**

```text
   1      Introduction ........................................    2
   2      Terminology .........................................    2
   3      Motivation and Problem Definition ...................    4
   4      Related Problems ....................................    6
   5      Relationship with BGP ...............................    7
   6      Example Applications of TRIP ........................    8
   6.1    Clearinghouses ......................................    8
   6.2    Confederations ......................................    9
   6.3    Gateway Wholesalers .................................    9
   7      Architecture ........................................   11
   8      Elements ............................................   12
   8.1    IT Administrative Domain ............................   12
   8.2    Gateway .............................................   13
   8.3    End Users ...........................................   14
   8.4    Location Server .....................................   14
   9      Element Interactions ................................   16
   9.1    Gateways and Location Servers .......................   16
   9.2    Location Server to Location Server ..................   16
   9.2.1  Nature of Exchanged Information .....................   17
   9.2.2  Quality of Service ..................................   18
   9.2.3  Cost Information ....................................   19
   10     The Front End .......................................   19
   10.1   Front End Customers .................................   19
   10.2   Front End Protocols .................................   20
   11     Number Translations .................................   21
   12     Security Considerations .............................   22
   13     Acknowledgments .....................................   23
   14     Bibliography ........................................   23
   15     Authors' Addresses ..................................   24
   16     Full Copyright Statement ............................   25
```

---
# **1 Introduction**

이 문서는 공급자 간 IP 전화 통신 게이트웨이 라우팅 테이블의 검색 및 교환을 지원하는 TRIP\(Telephony Routing over IP\)의 프레임워크 역할을 합니다. 이 문서는 전화 통신 라우팅 교환 문제를 정의하고 프로토콜의 필요성을 동기를 부여합니다. TRIP의 아키텍처 프레임워크를 제시하고, 용어를 정의하고, 다양한 프로토콜 요소와 해당 기능을 지정하고, 프로토콜에서 제공하는 서비스를 개요하고, 프로토콜이 인터넷 전화 통신의 더 넓은 맥락에 어떻게 적용되는지 논의합니다.

---
# **2 Terminology**

우리는 다음 용어를 정의합니다. 게이트웨이 위치의 맥락 밖에서 이러한 용어에 대한 다른 정의가 있다는 점에 유의하십시오. 우리의 정의는 일반적인 것은 아니지만 여기에서 구체적인 의미를 참조하세요.

게이트웨이: 일종의 회선 교환 네트워크 연결 및 IP 연결을 갖춘 장치로, IP 전화 통신 신호 프로토콜을 시작 및 종료할 수 있고 전화 네트워크 신호 프로토콜을 시작 및 종료할 수 있습니다.

최종 사용자: 최종 사용자는 일반적으로\(반드시 그런 것은 아님\) 인간이며 통화의 최종 개시자 또는 수신자입니다.

```text
     Calling Device: The calling device is a physical entity which has
        IP connectivity. It is under the direction of an end user who
        wishes to place a call. The end user may or may not be directly
        controlling the calling device. If the calling device is a PC,
```

- 최종 사용자가 직접 제어하고 있습니다. 그러나 호출 장치가 전화 게이트웨이인 경우 최종 사용자는 전화를 통해 해당 장치에 액세스할 수 있습니다.

게이트키퍼: \[1\]에 정의된 H.323 게이트키퍼 요소입니다.

SIP 서버: \[2\]에 정의된 세션 시작 프로토콜 프록시 또는 리디렉션 서버입니다.

통화 에이전트: \[3\]에 정의된 MGCP 통화 에이전트입니다.

GSTN: 전세계 회선 교환 네트워크인 글로벌 교환 전화 네트워크\(Global Switched Telephone Network\).

시그널링 서버: 시그널링 서버는 H.323 또는 SIP와 같은 일부 IP 전화 통신 시그널링 프로토콜에 대한 시그널링 메시지를 수신하고 보낼 수 있는 엔터티입니다. 일반적으로 신호 서버는 게이트키퍼, SIP 서버 또는 통화 에이전트입니다.

위치 서버\(LS\): GSTN을 향한 통화를 종료하는 데 사용할 수 있는 게이트웨이에 대한 지식을 가지고 있는 IP 연결을 갖춘 논리적 개체입니다. LS는 IP를 통한 텔레포니 라우팅에 참여하는 주요 엔터티입니다. LS는 일반적으로 전화 네트워크에 대한 통화를 완료하기 위한 최종 사용자의 연락 지점입니다. LS는 게이트웨이 정보를 다른 LS에 전파하는 일도 담당할 수 있습니다. LS는 H.323 게이트키퍼 또는 SIP 서버와 공동 상주할 수 있지만 필수는 아닙니다.

ITAD\(인터넷 전화 관리 도메인\): 단일 관리 기관의 제어를 받는 리소스 집합\(게이트웨이 및 위치 서버\)입니다. 최종 사용자는 ITAD의 고객입니다.

공급자: ITAD의 관리자입니다.

위치 서버 정책: 위치 서버가 TRIP을 통해 보내고 받는 정보를 처리하는 방법을 지정하는 규칙 집합입니다. 여기에는 정보 집계, 전파, 생성 및 수락에 대한 규칙이 포함됩니다.

최종 사용자 정책: GSTN에 대한 통화를 라우팅하는 방법에 대한 최종 사용자의 기본 설정입니다.

피어: 두 LS는 게이트웨이 정보가 교환되는 지속적인 연관이 있는 경우 피어입니다.

내부 피어: 동일한 ITAD 내에 상주하는 피어입니다.

외부 피어: 서로 다른 ITAD 내에 상주하는 피어입니다.

발신 위치 서버: 먼저 위치 서버

- ITAD의 게이트웨이에 대한 경로를 생성합니다.

TRIB\(Telephony Routing Information Base\): LS가 TRIP 참여의 결과로 구축하는 게이트웨이 데이터베이스입니다.

---
# **3 Motivation and Problem Definition**

IP 텔레포니 게이트웨이의 수와 사용량이 증가함에 따라 운영 관리가 점점 더 복잡해질 것입니다. 어려운 작업 중 하나는 게이트웨이 선택, 경로 선택, 게이트웨이 검색 및 게이트웨이 라우팅이라고도 알려진 게이트웨이 위치 작업입니다. 이 문제는 IP 네트워크의 호출 장치\(예: 전화 통신 게이트웨이 또는 IP 전화 통신 소프트웨어가 있는 PC\)가 회선 교환 전화 네트워크의 터미널을 나타내는 전화 번호로 통화를 완료해야 할 때 발생합니다. 의도된 통화 대상은 회선 교환 네트워크에 있고 발신자는 IP 호스트에서 통화를 시작하므로 전화 통신 게이트웨이를 사용해야 합니다. 게이트웨이는 IP 네트워크에서 사용되는 프로토콜과 회선 교환 네트워크에서 사용되는 프로토콜 간을 변환하는 미디어 및 신호 변환 지점 역할을 합니다.

게이트웨이는 본질적으로 애플리케이션 계층 신호 프로토콜의 중계 지점입니다. IP 네트워크의 발신 장치에서 회선 교환 네트워크의 수신자에게 통화를 완료할 수 있는 게이트웨이가 많이 있을 수 있습니다. 그러한 게이트웨이를 선택하는 것은 간단한 과정이 아닙니다. 다음과 같은 문제 때문에 복잡합니다.

후보 게이트웨이 수: IP로 예상됩니다.

- 전화통신이 널리 보급되면 인터넷을 GSTN에 연결하는 전화통신 게이트웨이의 수가 많아질 것입니다. GSTN에 연결된다는 것은 게이트웨이가 이 네트워크에서 도달할 수 있는 거의 10억 개의 터미널에 연결된다는 것을 의미합니다. 이는 이론적으로 모든 게이트웨이가 GSTN의 모든 터미널에 대한 통화를 완료할 수 있음을 의미합니다. 따라서 통화를 완료하기 위한 후보 게이트웨이의 수는 매우 클 수 있습니다.

```text
     Business Relationships: In reality, the owner of a gateway is
        unlikely to make the gateway available to any user who wishes to
        connect to it. The gateway provides a useful service, and incurs
        cost when completing calls towards the circuit switched network.
        As a result, providers of gateways will, in many cases, wish to
```

- 이러한 게이트웨이 사용에 대한 요금이 부과됩니다. 이는 어떤 방식으로든 게이트웨이 공급자와 관계를 맺은 사용자에게만 게이트웨이 사용을 제한할 수 있습니다.

공급자 정책: 게이트웨이 서비스를 이용하려는 최종 사용자는 게이트웨이 공급자에게 직접 보상을 제공하지 않을 가능성이 높습니다. 최종 사용자는 게이트웨이 제공자에 대한 중개자 역할을 하는 IP 전화 통신 서비스 제공자와 관계를 가질 수 있습니다. IP 전화통신 서비스 제공업체도 자체 게이트웨이를 보유할 수 있습니다. 이 경우, IP 텔레포니 서비스 제공자는 고객이 다른 제공자의 다양한 게이트웨이를 사용하는 것에 관한 정책을 가질 수 있습니다. 이러한 정책은 선택 과정에 반영되어야 합니다.

최종 사용자 정책: 경우에 따라 최종 사용자에게 게이트웨이 선택과 관련된 특정 요구 사항이 있을 수 있습니다. 최종 사용자는 특정 기능이 필요하거나 특정 공급자를 선호할 수 있습니다. 이러한 사항도 고려해야 합니다.

용량: 모든 게이트웨이가 동일하게 생성되지는 않습니다. 일부는 규모가 커서 수백 또는 수천 건의 동시 통화를 지원할 수 있습니다. 주거용 게이트웨이와 같은 다른 장치는 하나 또는 두 개의 통화만 지원할 수 있습니다. 게이트웨이 선택 프로세스에서는 게이트웨이 용량이 중요한 역할을 할 수 있도록 해야 합니다. 용량에 따라 게이트웨이 전반에 걸쳐 특정 형태의 로드 밸런싱을 지원하는 것이 특히 바람직합니다.

프로토콜 및 기능 호환성: 발신자는 모든 게이트웨이에서 지원되지 않는 특정 신호 또는 미디어 프로토콜을 사용하고 있을 수 있습니다.

이러한 문제를 통해 게이트웨이 선택은 주로 다양한 당사자의 정책과 이들 당사자 간에 설정된 관계에 의해 결정된다는 것이 분명해졌습니다. 따라서 사용자가 전화번호를 조회하는 전역 "게이트웨이 디렉터리"는 있을 수 없습니다. 오히려 게이트웨이 가용성에 대한 정보는 공급자에 의해 교환되어야 하며, 정책에 따라 로컬에서 사용할 수 있게 된 다음 다른 공급자에게 전파되어야 합니다. 이를 통해 각 공급자는 사용 가능한 게이트웨이의 자체 로컬 데이터베이스를 구축할 수 있습니다. 이러한 데이터베이스는 정책에 따라 각 공급자마다 매우 다릅니다.

이를 통해 게이트웨이 라우팅 정보 교환을 위해 관리 도메인 간에 프로토콜이 필요하다는 결론을 내릴 수 있습니다. 이러한 기능을 제공하는 프로토콜은 TRIP\(Telephony Routing over IP\)입니다. TRIP은 다음과 같은 특정 기능 세트를 제공합니다.

```text
      o Establishment and maintenance of peering relationships between
        providers;

      o Exchange and synchronization of telephony gateway routing
        information between providers;

      o Prevention of stable routing loops for IP telephony signaling
        protocols;

      o Propagation of learned gateway routing information to other
        providers in a timely and scalable fashion;
```

- o 전화 게이트웨이 경로를 설명하는 데이터의 구문 및 의미를 정의합니다.

TRIP은 일반적으로 도메인 간 IP 텔레포니 게이트웨이 라우팅 프로토콜로 요약될 수 있습니다.

---
# **4 Related Problems**

높은 수준에서 TRIP이 해결하는 문제는 매핑 문제인 것처럼 보입니다. 즉, 입력 전화번호가 주어지면 몇 가지 기준에 따라 전화 통신 게이트웨이의 주소를 결정합니다. 이러한 이유로 게이트웨이 위치 문제는 종종 "전화번호에서 IP 주소로의 변환 문제"라고 불립니다. 그러나 이는 지나치게 단순화된 것입니다. 적어도 세 가지 별도의 문제가 있으며 모두 "전화번호를 IP 주소로 변환하는 문제"로 분류될 수 있으며 그 중 하나만 TRIP에서 해결됩니다.

- o 회선 교환 네트워크의 단말기에 해당하는 전화 번호가 주어지면 해당 전화 번호로 통화를 완료할 수 있는 게이트웨이의 IP 주소를 결정합니다.

- o 인터넷의 특정 호스트에 해당하는 전화 번호가 주어지면\(이 호스트는 회선 교환 네트워크에서 호출을 용이하게 하기 위해 전화 번호를 가질 수 있음\) 이 호스트의 IP 주소를 결정합니다.

- o 회선 교환 네트워크의 단말 사용자에 해당하는 전화번호가 주어지면, 동일한 사용자가 소유한 IP 단말의 IP 주소를 결정합니다.

이 세 가지 매핑 기능 중 마지막 기능은 PC가 전화 인터페이스 역할을 하는 서비스에 유용합니다. 그러한 서비스 중 하나는 사용자의 전화벨이 울릴 때 PC로 인스턴트 메시지를 전달하는 것입니다. 이 서비스를 제공하기 위해 GSTN의 스위치는 통화를 전화번호로 라우팅합니다. 이 사용자를 위해 PC에 인스턴트 메시지를 보내려고 합니다. 이 스위치는 어떻게든 IP에 액세스할 수 있어야 합니다.

주어진 전화번호를 가진 사용자에 해당하는 PC의 IP 주소를 확인하기 위해 네트워크에 접속합니다. 매핑 기능은 이름이 숫자 문자열로 표시되는 변환 문제를 해결하는 이름입니다. 이러한 변환 기능은 디렉토리 프로토콜에서 가장 잘 지원됩니다. 이 문제는 TRIP으로 해결되지 않습니다.

이러한 매핑 중 두 번째는 기존 전화기에서 IP 터미널로의 통화를 용이하게 하는 데 필요합니다. GSTN 사용자가 IP 네트워크의 단말기를 사용하여 사용자에게 전화를 걸려면 해당 단말기를 식별하는 번호를 눌러야 합니다. 이 숫자는 IP 주소일 수 있습니다. 그러나 IP 주소는 DHCP\[4\] 또는 PPP\[5\]를 사용하는 전화 접속 네트워크 액세스 서버에 의해 요청 시 할당되는 일시적인 경우가 많습니다. 숫자는 숫자 그룹을 문자로 변환하여 얻은 호스트 이름일 수 있습니다. 그러나 이는 번거로운 작업입니다. 대신 IP 전화 단말기에 전화번호를 할당하는 것이 제안되었습니다. GSTN의 발신자는 다른 전화번호와 마찬가지로 이 번호로 전화를 겁니다. 이 번호는 호스트 이름이 이름 역할을 하는 것과 마찬가지로 IP 터미널의 대체 이름 역할을 합니다. 그러면 GSTN의 스위치가 IP 네트워크에 액세스하고 이 번호에서 PC의 IP 주소로의 매핑을 얻어야 합니다. 이전 사례와 마찬가지로 이 문제는 변환 문제를 해결하기 위한 이름이며 디렉토리 프로토콜에 의해 가장 잘 처리됩니다. TRIP에서는 해결되지 않습니다.

그러나 첫 번째 매핑 기능은 기본적으로 경로 변환 문제를 해결하는 것입니다. TRIP이 고려한 문제가 바로 이 문제이다. 섹션 3에서 설명한 대로 이 매핑은 정책 및 공급자 관계와 같은 지역적 요인에 따라 달라집니다. 결과적으로 사용 가능한 게이트웨이의 데이터베이스는 공급자마다 크게 다르며 특정 공급자 간 관계를 통해 구축되어야 합니다. 이러한 이유로 디렉토리 프로토콜은 TRIP에는 적합하지 않지만 다른 프로토콜에는 적합합니다.

---
# **5 Relationship with BGP**

TRIP은 BGP와 같은 도메인 간 IP 라우팅 프로토콜의 가까운 사촌으로 분류될 수 있습니다\[6\]. 그러나 BGP와 TRIP에는 중요한 차이점이 있습니다.

- o TRIP은 BGP가 상주하는 네트워크 계층이 아닌 애플리케이션 계층에서 실행됩니다.

- o TRIP은 많은 중간 네트워크와 IP 서비스 제공업체에 의해 분리될 수 있는 서버 간에 실행됩니다. BGP는 일반적으로 인접한 라우터 사이에서 실행됩니다.

- o TRIP 피어 간에 교환되는 정보는 BGP에서와 마찬가지로 IP 라우터가 아닌 애플리케이션 계층 장치에 대한 경로를 설명합니다.

- o TRIP은 기본 IP 전송 네트워크가 존재한다고 가정합니다. 이는 TRIP 라우팅 정보를 교환하는 서버가 이 정보를 기반으로 라우팅되는 신호 메시지의 전달자 역할을 할 필요가 없음을 의미합니다. 이는 피어가 IP 패킷에 대한 전달 지점 역할\(또는 인접한 전달 홉 이름 지정\) 역할도 해야 하는 BGP에서는 해당되지 않습니다.

- o TRIP의 목적은 모든 ITAD에 걸쳐 글로벌 연결을 설정하는 것이 아닙니다. TRIP 연결의 작은 섬이 많이 있다는 것은 완전히 합리적입니다. 각 섬은 폐쇄된 관리 관계 집합을 나타냅니다. 또한 각 섬은 여전히 ​​전체 GSTN에 대한 완전한 연결을 가질 수 있습니다. 이는 인터넷을 통한 완전한 연결이 목표인 BGP와는 극명한 대조를 이룹니다. BGP 연결 끊김으로 인해 AS 집합이 다른 집합과 격리되면 AS 간에 IP 네트워크 연결이 존재하지 않습니다.

- o 게이트웨이 경로는 IP 경로보다 훨씬 복잡하며\(네트워크 계층이 아닌 애플리케이션에 상주하므로\) 이를 설명하는 매개변수가 더 많습니다.

- o BGP는 IP 이름 공간의 일부를 나타내는 접두사를 교환합니다. TRIP은 GSTN 번호 지정 공간의 일부를 나타내는 전화번호 범위를 교환합니다. 이 두 네임스페이스의 조직과 계층은 서로 다릅니다.

이러한 차이점은 TRIP이 BGP의 많은 개념을 차용했지만 여전히 고유한 특정 기능 세트를 갖춘 다른 프로토콜임을 의미합니다.

---
# **6 Example Applications of TRIP**

TRIP은 공급자 간에 IP 전화 통신 경로를 교환하기 위한 범용 도구입니다. TRIP은 어떤 방식으로든 해당 제공자 간의 관계의 구조나 성격을 지시하지 않습니다. 결과적으로 TRIP은 IP 텔레포니에 대한 여러 가지 일반적인 사례에 대한 응용 프로그램을 보유하고 있습니다.

---
## **6.1 Clearinghouses**

정보센터는 정보센터 회원이라고 불리는 여러 다른 제공업체 간의 교환 지점 역할을 하는 제공업체입니다. 각 회원은 정보센터에 서명합니다. 계약의 일부로 회원은 정보센터의 다른 회원이 자신의 게이트웨이를 사용할 수 있도록 합니다. 그 대가로 회원들은

청산소의 다른 구성원이 소유한 게이트웨이에 대한 액세스. 한 구성원에 속한 게이트웨이가 전화를 걸면 정보 센터는 어떤 구성원이 통화를 종료할지 결정하는 데 중요한 역할을 합니다.

TRIP은 회원과 정보센터 간의 경로를 교환하기 위한 도구로 여기에서 적용될 수 있습니다. 이는 그림 1에 나와 있습니다.

M1부터 M6까지 6개의 회원사가 있습니다. 각각은 TRIP을 사용하여 정보 센터 공급자와 게이트웨이 경로를 보내고 받습니다.

---
## **6.2 Confederations**

우리는 중앙 정보센터를 사용하지 않고 전체 메시에서 서로 게이트웨이를 공유하는 데 모두 동의한 제공자 그룹을 연합이라고 부릅니다. 이러한 구성은 그림 2에 나와 있습니다. TRIP은 각 공급자 쌍 사이에서 실행됩니다.

---
## **6.3 Gateway Wholesalers**

```text
          ------                                  ------
         |      |                                |      |
         | M1   |    TRIP                 TRIP   |  M2  |
         |      |\    |                    |    /|      |
          ------  \   |                    |   /  ------
                   \ \ /   -------------- \ / /
          ------    \----|              |----/    ------
         |      |        |              |        |      |
         | M3   |--------| Clearinghouse|--------|  M4  |
         |      |        |              |        |      |
          ------    /----|              |----\    ------
                   /      --------------      \
          ------  /                            \  ------
         |      |/                              \|      |
         | M5   |                                |  M6  |
         |      |                                |      |
          ------                                  ------

          Figure 1: TRIP in the Clearinghouse Application

                       ------        ------
                      |      |------|      |
                      | M1   |      |  M2  |
                      |      |\    /|      |
                       ------  \  /  ------
                         |      \/     |
                         |      /\     |<-----TRIP
                       ------  /  \  ------
                      |      |/    \|      |
                      | M3   |      |  M4  |
                      |      |------|      |
                       ------        ------

                 Figure 2: TRIP for Confederations
```

이 애플리케이션에는 전화 통신 게이트웨이를 제공하는 대규모 공급자가 많이 있습니다. 이들 각각은 게이트웨이 서비스를 중간 규모 공급자에게 재판매합니다. 이는 다시 소비자에게 직접 판매하는 현지 공급업체에 재판매됩니다. 이는 그림 3과 같이 사실상 피라미드 관계입니다.

```text
                             ------
                            |      |
                            |  M1  |
                            |      |
                             ------
                           /       \ <------- TRIP
                      ------        ------
                     |      |      |      |
                     |  M2  |      |  M3  |
                     |      |      |      |
                      ------        ------
                     /      \      /      \
               ------        ------        ------
              |      |      |      |      |      |
              | M4   |      | M5   |      | M6   |
              |      |      |      |      |      |
               ------        ------        ------

                Figure 3: TRIP for Wholesalers
```

이 예에서 공급자 M5는 M2와 M3 모두의 게이트웨이를 재판매합니다.

---
# **7 Architecture**

그림 4는 TRIP의 전체 아키텍처를 보여줍니다.

```text
           ITAD1                                ITAD2
      -----------------                ------------------
     |                  |             |                  |
     |  ----            |             |           ----   |
     | | GW |           |             |          | EU |  |
     |  ----  \  ----   |             |  ----  /  ----   |
     |          | LS | ---------------- | LS |           |
     |  ----     ----   |             /  ----  \  ----   |
     | | GW | /         |            /|          | EU |  |
     |  ----            |           / |           ----   |
     |                  |          /  |                  |
      ------------------          /    ------------------
                                 /
                                /
                     --------- /----------
                    |         |           |
                    |        ----         |
                    |       | LS |        |
                    |     /  ---- \       |
                    |  ----   ||   ----   |
                    | | GW |  ||  | EU |  |
                    |  ----   ||   ----   |
                    |  ----   ||   ----   |
                    | | GW | /  \ | EU |  |
                    |  ----        ----   |
                    |                     |
                     ---------------------
                              ITAD3

                  Figure 4: TRIP Architecture
```

ITAD\(인터넷 전화 관리 도메인\)에는 여러 가지가 있으며 각 도메인에는 LS\(위치 서버\)가 하나 이상 있습니다. LS는 도메인 내 프로토콜이라고 하는 대역 외 수단을 통해 해당 도메인의 게이트웨이에 대해 알아냅니다. 도메인 내 프로토콜은 그림에서 ITAD1의 GW와 LS 요소 사이의 선으로 표시됩니다. LS는 다른 LS와 연관되어 있으며 이를 통해 게이트웨이 정보를 교환합니다. 이러한 연관은 관리적으로 설정되며, IT 관리 도메인이 게이트웨이 정보 교환과 관련하여 일종의 계약을 체결할 때 설정됩니다. 그림에서 ITAD1의 LS는 ITAD2의 LS에 연결되고, ITAD2의 LS는 다시 ITAD3의 LS에 연결됩니다. TRIP\(Telephony Routing over IP\)를 통해 ITAD2의 LS는 ITAD1의 두 게이트웨이에 대해 학습합니다. 이 정보는 최종 사용자가 액세스합니다.

\(EU\) ITAD2에서 프런트엔드를 통해. 프런트엔드는 LS 데이터베이스에 액세스하는 비TRIP 프로토콜 또는 메커니즘입니다. ITAD3에는 EU와 게이트웨이가 모두 있습니다. ITAD3의 LS는 ITAD2의 LS에서 잠재적으로 집계된 광고를 통해 ITAD1의 게이트웨이에 대해 학습합니다.

---
# **8 Elements**

그림 4의 아키텍처는 여러 요소로 구성됩니다. 여기에는 IT 관리 도메인, 최종 사용자, 게이트웨이 및 위치 서버가 포함됩니다.

---
## **8.1 IT Administrative Domain**

IT 관리 도메인은 0개 이상의 게이트웨이, 하나 이상의 위치 서버 및 0개 이상의 최종 사용자로 구성됩니다. 게이트웨이와 LS는 단일 기관의 관리 통제하에 있는 것입니다. 이는 게이트웨이와 LS의 정책과 구성을 지시하는 책임을 맡은 하나의 기관이 있음을 의미합니다.

IT 관리 도메인은 자율 시스템과 동일할 필요는 없습니다. AS는 물리적으로 연결된 네트워크 집합을 나타내는 반면, IT 관리 도메인은 서로 다른 네트워크의 요소로 구성될 수 있으며 심지어 서로 다른 자율 시스템 내에서도 구성될 수 있습니다.

IT 관리 도메인 내의 최종 사용자는 사실상 해당 IT 관리 도메인의 고객입니다. 이들은 전화 네트워크에 대한 통화를 완료하는 데 관심이 있으므로 게이트웨이에 대한 액세스가 필요합니다. 최종 사용자는 한 번의 통화에서는 한 IT 관리 도메인의 고객이 될 수 있고 다음 통화에서는 다른 IT 관리 도메인의 고객이 될 수 있습니다.

IT 관리 도메인에는 게이트웨이가 필요하지 않습니다. 이 경우 해당 LS는 다른 도메인의 게이트웨이에 대해 학습하고 해당 도메인 내의 최종 사용자가 이를 사용할 수 있도록 합니다. 이 경우 IT 관리 도메인은 사실상 가상 IP 전화 통신 게이트웨이 공급자입니다. 이는 게이트웨이 서비스를 제공하지만 실제로 게이트웨이를 소유하거나 관리하지 않을 수 있기 때문입니다.

IT 관리 도메인에는 최종 사용자가 필요하지 않습니다. 이 경우 "도매" 게이트웨이 서비스를 제공하여 다른 IT 관리 도메인의 고객이 게이트웨이를 사용할 수 있도록 합니다.

IT 관리 도메인에는 게이트웨이나 최종 사용자가 필요하지 않습니다. 이 경우 ITAD에는 LS만 있습니다. ITAD는 리셀러 역할을 하며 다른 게이트웨이에 대해 학습한 다음 이 정보를 집계하여 고객이 있는 다른 ITAD에 전파합니다.

---
## **8.2 Gateway**

게이트웨이는 IP 연결과 다른 네트워크\(일반적으로 공용 또는 개인 전화 네트워크\)에 대한 연결을 모두 갖춘 논리적 장치입니다. 게이트웨이의 기능은 미디어 및 신호 프로토콜을 한 네트워크 기술에서 다른 네트워크 기술로 변환하여 시스템 사용자에게 투명한 연결을 제공하는 것입니다.

게이트웨이에는 제공하는 서비스를 특징짓는 여러 가지 속성이 있습니다. 그 중 가장 기본적인 것은 서비스를 제공할 전화번호의 범위입니다. 이 범위는 하위 범위로 구분될 수 있으며 각각의 일부 비용 지표 또는 비용 토큰과 연관될 수 있습니다. 이 토큰은 전화번호 범위의 이 부분에 대한 통화를 완료하기 위한 비용 또는 선호도에 대한 일부 개념을 나타냅니다.

게이트웨이에는 제공할 수 있는 서비스의 양을 특징짓는 속성이 있습니다. 여기에는 포트 수\(즉, 지원할 수 있는 동시 전화 통화 수\) 및 액세스 링크 속도가 포함됩니다. 이 두 가지는 함께 게이트웨이 용량의 일부 개념을 나타냅니다. 메트릭은 위치 서버가 메트릭 값에 비례하여 호출을 게이트웨이로 라우팅하도록 결정하여 간단한 형태의 로드 밸런싱을 달성하는 데 유용합니다.

게이트웨이에는 제공하는 서비스 유형을 특징짓는 속성도 있습니다. 여기에는 지원되는 신호 프로토콜, 제공되는 전화 통신 기능, 이해되는 음성 코덱 및 구현되는 암호화 알고리즘이 포함되지만 이에 국한되지는 않습니다. 이러한 속성은 게이트웨이를 선택할 때 중요할 수 있습니다. 모든 게이트웨이에 걸쳐 기본 필수 기능이 없는 경우\(훌륭하지만 어려운 목표\) 통신을 설정할 수 있는 게이트웨이를 선택하려면 이러한 속성 세트가 필요합니다. 통화에 대한 특정 요구 사항이 있는 최종 사용자\(예: 특정 통화 기능을 지원해야 하는 비즈니스 클래스 통화를 요청하는 사용자\)도 이러한 정보를 활용하기를 원할 수 있습니다.

이러한 속성 중 일부는 게이트웨이를 설명하기 위해 TRIP으로 전송되지만 다른 속성은 그렇지 않습니다. 이는 메트릭을 합리적으로 집계할 수 있는지 여부와 통화가 설정되기 전에 TRIP에서 전달되어야 하는 항목인지 여부\(신호 프로토콜 자체에 의해 협상되거나 교환되는 것과 반대\)에 따라 달라집니다. TRIP의 철학은 단순함을 유지하고 풍부한 정보보다 확장성을 선호하는 것입니다. TRIP의 속성 세트는 쉽게 확장 가능합니다. 플래그는 알 수 없는 속성이 LS에 의해 합리적으로 처리될 수 있도록 하는 정보를 제공합니다.

---
## **8.3 End Users**

최종 사용자는 게이트웨이를 통해 IP 네트워크에서 전화 네트워크의 단말기로 통화를 완료하려는 개체\(일반적으로 인간\)입니다. 최종 사용자는 일부 인터넷 전화 소프트웨어를 사용하여 PC에 로그온한 사용자일 수 있습니다. 최종 사용자는 전화 핸드셋에서 액세스한 수신 전화 게이트웨이를 통해 IP 네트워크에 연결할 수도 있습니다. 이는 상호 교환 전송에 사용되는 IP 네트워크를 사용한 "전화 대 전화" 서비스의 경우입니다.

최종 사용자는 전화 네트워크에 대한 통화를 완료할 때 전화 라우팅 서비스가 실행 중이라는 사실을 알 수도 있고 모를 수도 있습니다. 알고 있는 경우 최종 사용자는 통화 완료 방법에 대한 기본 설정을 가질 수 있습니다. 이러한 기본 설정에는 지원되어야 하는 통화 기능, 품질 지표, 소유자 또는 관리자, 비용 기본 설정이 포함될 수 있습니다.

TRIP은 최종 게이트웨이 선택을 생성하기 위해 이러한 기본 설정을 공급자의 기본 설정과 결합하는 방법을 지시하지 않습니다. TRIP은 이러한 기본 설정을 LS로 전송하는 것을 지원하지 않습니다. 이 전송은 프런트 엔드를 사용하거나 일부 비프로토콜 수단을 통해 수행될 수 있습니다.

---
## **8.4 Location Server**

위치 서버\(LS\)는 TRIP의 주요 기능 엔터티입니다. 이는 TRIB\(Telephony Routing Information Base\)라고 하는 게이트웨이 데이터베이스에 액세스할 수 있는 논리적 장치입니다. 이 게이트웨이 데이터베이스는 로컬에서 사용 가능한 게이트웨이 세트와 정책을 기반으로 TRIP을 통해 학습된 원격 게이트웨이 세트를 결합하여 구성됩니다. LS는 또한 게이트웨이 세트를 다른 ITAD의 피어 LS로 내보냅니다. 내보낸 게이트웨이 세트는 정책을 기반으로 하는 로컬 게이트웨이 세트와 원격 게이트웨이 세트\(TRIP을 통해 학습됨\)로 구성됩니다. 이처럼 정책은 LS 운영에 있어서 핵심적인 역할을 합니다. 이러한 정보 흐름은 그림 5에 나와 있습니다.

```text
                          |
                          |Intra-domain protocol
                         \ /
                        Local
                       Gateways

   TRIP-->  Gateways    POLICY     Gateways -->TRIP
                IN                     Out
                             |
                            \ /
                      Telephony Routing
                      Information Base
```

- 그림 5: TRIP의 정보 흐름

LS에 구축된 TRIB를 통해 IP 텔레포니 통화 라우팅에 대한 결정을 내릴 수 있습니다. 신호 메시지가 전화 네트워크 주소로 향하는 신호 서버에 도착하면 LS의 데이터베이스는 신호 메시지를 전달할 게이트웨이나 추가 신호 서버를 결정하는 데 유용한 정보를 제공할 수 있습니다. 이러한 이유로 LS는 시그널링 서버와 공존할 수 있습니다. 공동 상주하지 않는 경우 LS와 신호 서버 간의 일부 통신 수단이 필요합니다. TRIP이 해당 프로토콜의 요구 사항을 충족할 수도 있지만 이 통신은 TRIP에서 특별히 처리되지 않습니다.

TRIP에 참여하려면 ITAD에 최소한 하나의 LS가 있어야 합니다. ITAD에는 로드 밸런싱, 관리 용이성 또는 기타 이유로 두 개 이상의 LS가 있을 수 있습니다. 이 경우 데이터베이스를 동기화하고 외부 피어로부터 학습된 정보를 공유하기 위해 이러한 LS 간의 통신이 이루어져야 할 수도 있습니다. 이는 종종 도메인 간 프로토콜의 내부 구성 요소라고도 합니다. TRIP에는 이러한 기능이 포함되어 있습니다.

그림 5는 도메인 내 프로토콜을 통해 ITAD 내의 게이트웨이에 대해 학습하는 LS를 보여줍니다. 도메인 내 프로토콜이 있을 필요는 없습니다. LS는 로컬로 실행되는 게이트웨이에 대한 지식 없이도 작동할 수 있습니다. 또는 로컬로 실행되는 게이트웨이를 알 수도 있지만 정적 구성을 통해서입니다. LS는 게이트웨이와 공동 상주할 수도 있으며, 이 경우 공동 상주하는 게이트웨이에 대해 알 수 있습니다.

---
# **9 Element Interactions**
---
## **9.1 Gateways and Location Servers**

게이트웨이는 어떻게든 해당 특성에 대한 정보를 동일한 ITAD 내의 LS에 전파해야 합니다. 그러면 이 LS는 TRIP을 통해 이 정보를 ITAD 외부로 추가로 전파할 수 있습니다. 이 LS를 해당 게이트웨이에 대한 발신 LS라고 합니다. LS nis가 게이트웨이와 공동 상주하지 않는 경우 정보가 전파되는 수단은 TRIP 범위 내에 있지 않습니다. 이를 수행하는 데 사용되는 프로토콜을 일반적으로 도메인 내 프로토콜이라고 합니다.

정보가 전파될 수 있는 한 가지 방법은 서비스 위치 프로토콜\(SLP\)\[7\]을 사용하는 것입니다. 게이트웨이에는 SA\(서비스 에이전트\)가 포함될 수 있으며 LS는 DA\(디렉토리 에이전트\) 역할을 할 수 있습니다. SLP는 서비스 정보가 SA에서 DA로 자동 전파되는 절차를 정의합니다. 이러한 방식으로 LS는 ITAD의 게이트웨이에 대해 배울 수 있습니다.

도메인 내 프로토콜의 대체 메커니즘은 SIP 또는 H.323의 등록 절차를 이용하는 것입니다. 등록 절차는 사용자가 게이트키퍼나 SIP 서버에 자신의 주소를 알리는 수단을 제공합니다. 이러한 등록 절차는 게이트웨이도 효과적으로 등록할 수 있도록 확장될 수 있습니다.

LDAP \[8\]은 도메인 내 프로토콜에도 사용될 수 있습니다. 게이트웨이는 LDAP를 사용하여 데이터베이스에 자체 항목을 추가할 수 있습니다. LS가 LDAP 서버 역할도 수행하는 경우 ITAD의 모든 게이트웨이에 대해 학습할 수 있습니다.

사용되는 도메인 내 프로토콜은 IT 관리 도메인마다 다를 수 있으며 로컬 구성의 문제입니다. 특정 ITAD에는 두 개 이상의 도메인 내 프로토콜이 있을 수도 있습니다. LS는 도메인 내 프로토콜 없이도 작동할 수 있습니다. 정적 구성을 통해 게이트웨이에 대해 학습할 수도 있고 로컬 게이트웨이에 대해 알지 못할 수도 있습니다.

---
## **9.2 Location Server to Location Server**

LS 간의 상호 작용은 TRIP에 의해 정의됩니다. 동일한 ITAD 내의 LS는 TRIP을 사용하여 서로 정보를 동기화합니다. 서로 다른 ITAD 내의 LS는 TRIP을 사용하여 정책에 따라 게이트웨이 정보를 교환합니다. 전자의 경우 LS를 내부 피어라고 하고 후자의 경우 외부 피어라고 합니다.

LS는 지속적인 연관을 통해 서로 소통합니다. LS는 하나 이상의 다른 LS에 연결될 수 있습니다. LS는 물리적으로 인접하거나 동일한 자율 시스템의 일부일 필요는 없습니다. 한 쌍의 LS 간의 연관은 일반적으로 관리적으로 설정됩니다. 두 개의 LS는 관리자가 게이트웨이 정보를 교환하기로 합의한 경우 서로 통신하도록 구성됩니다. TRIP은 피어 LS가 서로를 검색할 수 있는 자동 검색 절차를 제공하지 않지만 이를 사용할 수도 있습니다. 이러한 절차는 충돌이 발생할 때 백업 피어 LS를 찾는 데 유용할 수 있습니다. 또는 피어 간의 비즈니스 관계가 더욱 표준화되는 환경에서는 피어가 SLP\(Service Location Protocol\) \[9\]와 같은 프로토콜을 통해 서로를 검색하도록 허용될 수 있습니다. 자동 검색을 사용해야 하는지 여부는 관리자의 재량에 따라 결정됩니다.

LS 간의 연관을 통해 교환되는 메시지의 구문과 의미는 TRIP에 의해 결정됩니다. 프로토콜은 체결되어야 하는 계약의 성격을 지시하지 않습니다. TRIP은 단지 시스템 관리자가 적절하다고 간주하는 게이트웨이 라우팅 정보를 교환하는 전송 수단을 제공할 뿐입니다. 자세한 내용은 TRIP 프로토콜 사양 자체에 제공됩니다.

게이트웨이에서 생성, 전파 및 승인되는 게이트웨이 정보를 제어하는 ​​규칙을 위치 서버 정책이라고 합니다. TRIP은 특정 정책을 지시하거나 의무화하지 않습니다.

---
### **9.2.1 Nature of Exchanged Information**

LS가 교환하는 정보는 라우팅 개체 집합입니다. 각 라우팅 개체는 최소한 연결할 수 있는 전화 번호 범위와 해당 범위에 도달할 수 있는 게이트웨이를 향한 애플리케이션 계층 "다음 홉"인 IP 주소 또는 호스트 이름으로 구성됩니다. 라우팅 개체는 도메인 내 프로토콜, 정적 구성 또는 원격 ITAD의 LS에서 학습됩니다. LS는 이러한 라우팅 개체를 함께 집계한 다음\(전화 번호 범위를 병합하고 IP 주소를 자체 IP 주소 또는 LS가 통신하는 신호 서버의 IP 주소로 대체\) 다른 LS에 전파할 수 있습니다. 집계하고 전파할 객체에 대한 결정을 경로 선택 작업이라고 합니다. 관리자는 올바른 프로토콜 작동 범위 내에 있는 한\(즉, 루프가 형성되지 않는 한\) 집계하고 전파할 개체를 선택하는 데 큰 재량권을 갖습니다. TRIP을 통해 또는 대역 외 수단을 통해 학습된 정보를 기반으로 선택이 이루어질 수 있습니다.

라우팅 개체에는 게이트웨이의 서비스를 특징짓는 추가 정보가 있을 수 있습니다. 이러한 속성에는 프로토콜, 지원되는 기능, 용량 등이 포함됩니다. 더 많은 수의 속성이 유용한 정보를 제공할 수 있지만 비용이 발생합니다. 정보가 점점 더 많아지면 집계가 어려워져 프로토콜의 확장성에 영향을 미칩니다.

집계는 TRIP에서 핵심적인 역할을 합니다. 확장성을 용이하게 하기 위해 라우팅 개체는 전파되기 전에 더 큰 집합체로 결합될 수 있습니다. 이를 수행하는 메커니즘은 TRIP에 지정되어 있습니다. 게이트웨이에 대한 애플리케이션 계층 경로의 집계는 사소한 문제가 아닙니다. 집계성과 장황함 사이에는 근본적인 균형이 있습니다. TRIP 라우팅 개체에 존재하는 정보가 많을수록 집계하기가 더 어려워집니다.

각각 전화번호 X와 Y에 도달할 수 있는 두 게이트웨이 A와 B의 간단한 예를 생각해 보세요. C는 A와 B가 상주하는 ITAD의 LS입니다. C는 다른 수단을 통해 A와 B에 대해 알게 됩니다. X와 Y는 단일 주소 범위인 Z로 결합될 수 있습니다. C에는 여러 가지 옵션이 있습니다. A에 대한 광고만 전파하거나 B에 대한 광고만 전파하거나, 둘 다 전파하거나, 결합하여 집계된 광고를 전파할 수 있습니다. 이 경우 C는 후자의 접근 방식을 선택하고 주소 범위 Z와 자체 주소를 포함하는 피어 중 하나인 D에 단일 라우팅 개체를 보냅니다. 이는 신호 서버이기도 하기 때문입니다. D는 신호 서버이기도 합니다.

일부 호출 장치 E는 주소 범위 X에 있는 전화번호 T에 전화를 걸기를 원합니다. E는 D를 기본 H.323 게이트키퍼로 사용하도록 구성됩니다. 따라서 E는 대상 주소 T를 포함하는 통화 설정 메시지를 D로 보냅니다. D는 주소 T가 범위 Z 내에 있다고 판단합니다. D는 주소 범위 Z를 포함하는 C로부터 라우팅 개체를 수신했기 때문에 통화 설정 메시지를 C로 전달합니다. C는 T가 범위 X 내에 있음을 확인하고 통화 설정을 A로 전달하고 A는 통화 신호를 종료하고 전화 네트워크를 향한 통화를 시작합니다.

---
### **9.2.2 Quality of Service**

게이트웨이를 선택할 때 고려해야 할 유용한 요소 중 하나는 "QoS"입니다. 이 게이트웨이를 통한 통화는 충분히 낮은 손실, 지연 및 지터를 겪게 됩니까? 통화 품질은 두 가지 구성 요소, 즉 발신자와 게이트웨이 사이의 경로에 있는 QoS와 게이트웨이 자체의 용량\(사용 가능한 회선 수, 링크 용량, DSP 리소스 등으로 측정됨\)에 따라 달라집니다. 후자를 결정하려면 다음에 대한 복잡한 지식이 필요합니다.

기본 네트워크 토폴로지 및 호출자의 위치. 이는 QoS 라우팅 프로토콜에 의해 처리되는 것이며 TRIP 범위를 벗어납니다.

그러나 게이트웨이 용량은 발신자 위치나 경로 특성에 따라 달라지지 않습니다. 이러한 이유로 TRIP은 어떤 형태의 용량 지표를 지원합니다. 이 지표는 게이트웨이 작업 중에 지속적으로 변하는 동적 사용 가능 용량이 아닌 게이트웨이의 정적 용량을 나타냅니다. LS는 이 측정항목을 게이트웨이 간 통화 부하 분산 수단으로 사용할 수 있습니다. 이는 또한 다른 정책 결정에 대한 입력 자료로도 사용될 수 있습니다.

---
### **9.2.3 Cost Information**

전파할 수 있는 또 다른 유용한 속성은 가격 책정 지표입니다. 이는 특정 게이트웨이가 통화에 대해 청구할 수 있는 금액을 나타낼 수 있습니다. 메트릭은 기존 비즈니스 계약에 따라 가격 책정 구조를 정의하는 테이블에 대한 인덱스일 수도 있고 가격 자체에 대한 표현을 포함할 수도 있습니다. TRIP 자체는 가격 책정 지표를 정의하지 않지만 확장으로 정의할 수 있고 정의해야 합니다. 가격 책정에 확장을 사용한다는 것은 해당 측정항목을 두 개 이상 정의할 수 있음을 의미합니다.

---
# **10 The Front End**

TRIP의 결과로 LS는 게이트웨이 경로의 데이터베이스\(TRIB\)를 구축합니다. 이 정보는 ITAD 내의 다양한 기관에 제공됩니다. 이 정보를 사용할 수 있게 만드는 방식을 프런트엔드라고 합니다. 이는 TRIP 서비스가 프로토콜 외부에 노출되는 가시적인 수단입니다.

---
## **10.1 Front End Customers**

TRIB에 액세스하기 위해 프런트 엔드를 사용할 수 있는 여러 엔터티가 있습니다. 여기에는 다음이 포함되지만 이에 국한되지는 않습니다.

시그널링 서버: 시그널링 서버는 IP 전화 통화를 시작하는 것이 목적인 시그널링 메시지\(H.323 또는 SIP 메시지 등\)를 수신합니다. 이러한 통화의 대상 주소는 GSTN의 단말기에 해당하는 전화번호일 수 있습니다. 이러한 통화를 적절한 게이트웨이로 라우팅하려면 신호 서버가 LS에 구축된 데이터베이스에 액세스해야 합니다.

최종 사용자: 최종 사용자는 LS에 직접 쿼리하여 라우팅 정보를 얻을 수 있습니다. 이를 통해 요구 사항에 대한 자세한 정보를 제공할 수 있습니다. 그런 다음 해당 전화번호를 향한 다음 홉 신호 서버 또는 게이트웨이에 접속할 수 있습니다.

관리자: 관리자는 유지 관리 기능을 위해 TRIB에 액세스해야 할 수도 있습니다.

신호 서버가 LS에 접속하여 전화번호를 라우팅하는 경우 일반적으로 최종 사용자를 대신하는 호출 장치가 통화 설정을 시도했기 때문에 그렇게 됩니다. 결과적으로 신호 서버는 LS 데이터베이스에 액세스할 때 최종 사용자를 위한 프록시 역할을 효과적으로 수행합니다. 호출 장치와 해당 프록시\(신호 서버\) 간의 통신은 신호 프로토콜을 통해 이루어집니다.

이 프록시 접근 방식의 장점은 실제 LS 상호 작용이 호출 장치로부터 숨겨진다는 것입니다. 따라서 통화가 전화번호인지 IP 주소인지는 중요하지 않습니다. 전화번호의 경우 라우팅은 투명하게 이루어집니다. 프록시 모드는 LS의 직접 쿼리를 위한 인터페이스나 처리 능력이 없는 씬 클라이언트\(예: 독립형 IP 전화기\)에도 유리합니다.

프록시 접근 방식의 단점은 장점과 동일합니다. 즉, LS 상호 작용이 호출 장치\(및 최종 사용자\)로부터 숨겨집니다. 어떤 경우에는 최종 사용자에게 통화 라우팅 방법에 대한 요구 사항이 있을 수 있습니다. 여기에는 비용, 품질, 관리자, 통화 서비스 및 프로토콜에 대한 기본 설정이 포함됩니다. 이러한 요구 사항을 최종 사용자 정책이라고 합니다. 프록시 접근 방식에서는 사용자가 신호 프로토콜을 통해 서비스에 효과적으로 액세스합니다. 신호 프로토콜은 최종 사용자의 복잡한 통화 라우팅 기본 설정 표현을 지원하지 못할 가능성이 높습니다\(그러나 SIP는 통화 라우팅에 대한 일부 형태의 발신자 기본 설정을 지원합니다\[10\]\). 따라서 최종 사용자가 LS에 직접 접속하면 더욱 풍부한 호 라우팅 서비스를 제공할 수 있습니다.

최종 사용자 정책이 LS에 제공될 때\(직접 또는 신호 프로토콜을 통해\) 이를 활용하는 방법은 LS의 재량에 달려 있습니다. 위치 서버에는 최종 사용자 기본 설정 처리 방법에 관한 자체 정책이 있을 수 있습니다.

---
## **10.2 Front End Protocols**

LS 데이터베이스에 액세스하기 위해 프런트 엔드에서 사용할 수 있는 프로토콜은 다양합니다. TRIP은 프런트 엔드에 대한 가능성을 지정하거나 제한하지 않습니다. 프런트 엔드에 대한 단일 표준이 존재하는 것이 필요하거나 바람직하다는 것은 확실하지 않습니다. 다양한 프로토콜에는 장점과 단점이 있습니다. 어떤 경우에는 하나가 올바른 솔루션일 수도 있고 경우에 따라 다른 솔루션이 될 수도 있습니다.

프런트 엔드에 가능한 프로토콜 중 일부는 다음과 같습니다.

SLP\(서비스 위치 프로토콜\): SLP는 이러한 종류의 기능에 정확히 맞도록 설계되었습니다. SLP는 속성 집합으로 설명되는 서버를 찾는 데 이상적입니다. 이 경우 서버는 게이트웨이\(또는 게이트웨이를 향한 다음 홉\)이고 속성은 최종 사용자 정책입니다. 최종 사용자는 SLP UA이고 LS는 SLP DA입니다. 서비스 쿼리는 특정 속성 집합을 가진 게이트웨이를 요청하는 데 사용됩니다.

OSP\(Open Settlements Protocol\): OSP\[11\]는 클라이언트 서버 프로토콜입니다. 이를 통해 클라이언트는 전화번호로 서버에 쿼리하고 통화에 사용할 인증 토큰과 함께 다음 홉의 주소를 얻을 수 있습니다. 이 경우 서버는 LS일 수 있습니다. OSP 쿼리에 응답하는 데 사용하는 라우팅 테이블은 TRIP을 사용하여 구축된 테이블입니다.

LDAP\(Lightweight Directory Access Protocol\): LDAP는 분산 데이터베이스에 액세스하는 데 사용됩니다. LS 서버에는 데이터베이스가 포함되어 있으므로 LDAP를 사용하여 이를 쿼리할 수 있습니다.

웹 페이지: LS에는 웹 프런트 엔드가 있을 수 있습니다. 사용자는 양식에 쿼리를 입력할 수 있으며 일치하는 게이트웨이가 응답으로 반환됩니다. 그러나 이 액세스 메커니즘은 인간 액세스에 더 적합합니다. 신호 서버는 웹 페이지를 통해 프런트 엔드에 액세스할 가능성이 없습니다.

TRIP: 위에서 설명한 프로토콜은 모두 쿼리-응답 유형입니다. LS 액세스가 이 형식이어야 할 이유는 없습니다. 완전한 데이터베이스 동기화를 통해 액세스하는 것은 완벽하게 허용되므로 LS 데이터베이스에 액세스하는 엔터티는 효과적으로 전체 복사본을 갖게 됩니다. 이 접근 방식을 원했다면 TRIP 자체가 적절한 메커니즘입니다. 이 접근 방식에는 명백한 단점이 있지만 이를 수행하는 데 방해가 되는 것은 없습니다.

---
# **11 Number Translations**

TRIP의 모델은 많은 게이트웨이의 모델이며, 각 게이트웨이는 일부 전화번호 집합에 대한 통화를 기꺼이 종료합니다. 종종 이 세트는 게이트웨이와 지리적으로 가까운 곳에 있는 전화번호 세트를 기반으로 합니다. 예를 들어, 뉴욕의 게이트웨이는 212 및 718 지역 번호에 대한 통화를 기꺼이 종료할 수 있습니다. 물론 게이트웨이가 어떤 전화번호로 전화를 걸 것인지 결정하는 것은 관리자의 몫입니다.

그러나 특정 전화번호는 GSTN 단말기를 전혀 나타내지 않으며 오히려 서비스나 가상 주소를 나타냅니다. 이러한 번호의 예로는 무료 전화번호와 LNP 번호가 있습니다. 전화 네트워크에서 이는 실제로 복잡한 공식을 기반으로 라우팅 가능한 전화번호에 매핑됩니다. 전형적인 예는 시간 기반 번역입니다.

게이트웨이가 이러한 종류의 번호에 대한 연결 가능성을 광고하는 것을 막을 수는 없지만 이러한 사용은 권장되지 않습니다. TRIP은 라우팅 프로토콜이므로 전파되는 경로는 결국 라우팅 가능한 번호로 변환되는 이름이 아니라 라우팅 가능한 번호로 전달되어야 합니다. TRIP을 사용하여 다음 번호에 경로를 전파할 때 수많은 문제가 발생합니다.

- o 이러한 숫자는 지역적인 의미만 갖는 경우가 많습니다. 뉴욕에서 거는 무료 전화번호로 거는 전화는 회사의 뉴욕 사무실에서 종료될 수 있지만, 캘리포니아에서 거는 전화는 캘리포니아 지점에서 종료됩니다. 이 무료 전화번호가 뉴욕의 게이트웨이를 통해 TRIP에 삽입되면 캘리포니아에 있는 최종 사용자가 있는 다른 LS에 전파될 수 있습니다. 이 경로를 사용하면 통화가 의도한 대로 라우팅되지 않을 수 있습니다.

- o 통화 신호 경로가 매우 차선책일 수 있습니다. 캘리포니아에 있는 전화에 매핑되는 이동된 번호를 광고하는 뉴욕의 게이트웨이를 생각해 보세요. 이 숫자는 TRIP에 의해 전파되며 결국 캘리포니아에 있는 최종 사용자와 함께 LS에 의해 학습됩니다. 그들 중 한 명이 이 번호로 전화를 걸면 통화는 IP 네트워크를 통해 뉴욕으로 라우팅되어 게이트웨이에 도달한 다음 GSTN을 통해 다시 캘리포니아로 라우팅됩니다. 이는 자원 낭비입니다. 게이트웨이 라우팅 기능이 호출되기 전에 이동된 번호가 변환되었더라면 캘리포니아 게이트웨이에 직접 접속할 수 있었을 것입니다.

결과적으로 LS 라우팅 데이터베이스에 액세스하기 전에 이러한 특수 번호의 변환을 수행하는 것이 더 효율적입니다. 이 번역이 수행되는 방식은 TRIP의 범위를 벗어납니다. 이는 호출하기 전에 호출 장치에 의해 수행되거나 LS 데이터베이스에 액세스하기 전에 신호 서버에 의해 수행될 수 있습니다.

---
# **12 Security Considerations**

보안은 TRIP의 중요한 요소입니다. TRIP 모델은 정보를 교환하는 피어 LS 간의 신뢰 수준을 가정합니다. 이 정보는 통화가 라우팅될 위치를 결정하는 정보를 전파하는 데 사용됩니다. 이 정보가 정확하지 않으면 통화가 완전히 잘못 라우팅될 수 있습니다. 이는 심각한 서비스 거부 공격을 가능하게 합니다. 해당 정보는 다른 사람에게도 전파될 수 있습니다.

ITAD로 인해 문제가 잠재적으로 확산될 수 있습니다. 결과적으로 피어 LS의 상호 인증이 중요합니다. 또한 메시지 무결성이 필요합니다.

TRIP 메시지에는 잠재적으로 민감한 정보가 포함될 수 있습니다. 이는 ITAD의 라우팅 기능을 나타냅니다. 이러한 정보는 기업 경쟁업체에서 ITAD의 네트워크 토폴로지와 용량을 결정하는 데 사용될 수 있습니다. 결과적으로 TRIP에서는 메시지 암호화도 지원됩니다.

라우팅 개체가 하나의 LS를 통해 다른 LS로 전달될 수 있으므로 일종의 종단 간 인증도 필요합니다. 그러나 집계로 인해 라우팅 개체가 수정되므로 마지막 집계 지점부터 수신 LS까지만 인증이 발생할 수 있습니다.

---
# **13 Acknowledgments**

저자는 이 문서에 유용한 의견을 주신 Randy Bush, Mark Foster, Dave Oran, Hussein Salama 및 Matt Squire에게 감사의 말씀을 전하고 싶습니다.

---
# **14 Bibliography**

\[1\] 국제전기통신연합\(International Telecommunication Union\), "보장되지 않은 서비스 품질을 제공하는 근거리 통신망용 영상 전화 시스템 및 장비", 권고안 H.323, ITU 통신 표준화 부문, 스위스 제네바, 1996년 5월.

\[2\] Handley, M., Schulzrinne, H., Schooler, E. 및 J. Rosenberg, "SIP: 세션 시작 프로토콜", RFC 2543, 1999년 3월.

\[3\] Arango, M., Dugan, A., Elliott, I., Huitema, C. 및 S. Pickett, "MGCP\(미디어 게이트웨이 제어 프로토콜\) 버전 1.0", RFC 2705, 1999년 10월.

```text
   [4]  Droms, R., "Dynamic Host Configuration Protocol", RFC 2131,
        March 1997.

   [5]  Simpson, W., "The Point-to-Point Protocol (PPP)," STD 51, RFC
        1661, July 1994.
```

\[6\] Rekhter Y. 및 T. Li, "BGP-4\(Border Gateway Protocol 4\)", RFC 1771, 1995년 3월.

\[7\] Veizades, J., Guttman, E., Perkins, C. 및 S. Kaplan, "서비스 위치 프로토콜", RFC 2165, 1997년 6월.

\[8\] Young, W., Howes, T. 및 S. Kille, "경량 디렉터리 액세스 프로토콜", RFC 1777, 1995년 3월.

\[9\] Guttman, E., Perkins, C., Veizades, J. 및 M. Day, "서비스 위치 프로토콜, 버전 2", RFC 2608, 1999년 6월.

\[10\] Schulzrinne H. 및 J. Rosenberg, "SIP 발신자 기본 설정 및 수신자 기능", 작업 진행 중.

\[11\] 유럽전기통신표준협회\(ETSI\),

- TIPHON\(Telecommunications and Internet Protocol Harmonization Over Networks\), "도메인 간 가격 책정, 승인 및 사용 교환", 기술 사양 101 321 버전 1.4.2, ETSI, 1998.

---
# **15 Authors' Addresses**

```text
   Jonathan Rosenberg
   dynamicsoft
   72 Eagle Rock Avenue
   First Floor
   East Hanover, NJ 07936

   Email: jdrosen@dynamicsoft.com

   Henning Schulzrinne
   Columbia University
   M/S 0401
   1214 Amsterdam Ave.
   New York, NY 10027-7003

   Email: schulzrinne@cs.columbia.edu
```

---
## **16.  Full Copyright Statement**

저작권\(C\)인터넷학회\(2000\). 판권 소유.

이 문서와 그 번역본은 복사되어 타인에게 제공될 수 있으며, 이에 대해 설명하거나 설명하거나 구현을 지원하는 파생물은 어떤 종류의 제한 없이 전체적으로 또는 부분적으로 준비, 복사, 출판 및 배포될 수 있습니다. , 단, 위의 저작권 표시와 이 단락은 그러한 모든 사본 및 파생물에 포함됩니다. 그러나 이 문서 자체는 인터넷 표준 개발 목적으로 필요한 경우를 제외하고는 저작권 표시를 제거하거나 Internet Society 또는 기타 인터넷 조직에 대한 참조를 제거하는 등 어떤 식으로든 수정할 수 없습니다. 인터넷 표준 프로세스를 따르거나 영어 이외의 언어로 번역하는 데 필요한 대로 따라야 합니다.

위에서 부여된 제한된 권한은 영구적이며 Internet Society 또는 그 승계자 또는 양수인에 의해 취소되지 않습니다.

이 문서와 여기에 포함된 정보는 "있는 그대로" 제공되며 인터넷 사회 및 인터넷 공학 태스크포스는 여기에 포함된 정보의 사용이 상품성 또는 특정 목적에의 적합성에 대한 권리 또는 묵시적 보증을 침해하는 행위.

---
# **Acknowledgement**

RFC 편집기 기능에 대한 자금은 현재 Internet Society에서 제공하고 있습니다.