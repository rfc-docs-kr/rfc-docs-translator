

```text
Network Working Group                                         S. Bradner
Request for Comments: 2544                            Harvard University
Obsoletes: 1944                                               J. McQuaid
Category: Informational                                 NetScout Systems
                                                              March 1999

       Benchmarking Methodology for Network Interconnect Devices
```

---
# **Status of this Memo**

이 메모는 인터넷 커뮤니티에 대한 정보를 제공합니다. 어떤 종류의 인터넷 표준도 지정하지 않습니다. 이 메모의 배포는 무제한입니다.

---
# **Copyright Notice**

Copyright \(C\) The Internet Society \(1999\). 판권 소유.

---
# **IESG Note**

이 문서는 네트워킹 테스트 장비의 기본 주소로 사용되도록 할당된 IP 주소 값을 수정하는 RFC 1944의 재발행본입니다. \(섹션 C.2.2 참조\) 이 RFC는 RFC 1944를 대체하고 더 이상 사용되지 않습니다.

---
# **Abstract**

이 문서에서는 네트워크 상호 연결 장치의 성능 특성을 설명하는 데 사용할 수 있는 다양한 테스트를 논의하고 정의합니다. 테스트를 정의하는 것 외에도 이 문서에서는 테스트 결과를 보고하기 위한 특정 형식도 설명합니다. 부록 A에는 특정 사례에 포함되어야 한다고 생각되는 테스트 및 조건이 나열되어 있으며 테스트 관행에 대한 추가 정보를 제공합니다. 부록 B는 다양한 미디어의 특정 프레임 크기와 함께 사용되는 최대 프레임 속도의 참조 목록이며, 부록 C는 테스트에 사용할 프레임 형식의 몇 가지 예를 제공합니다.

---
## **1. Introduction**

공급업체는 자사 제품이 시장에서 더 나은 위치를 차지할 수 있도록 하기 위해 종종 "사양 기술"에 참여합니다. 여기에는 종종 제품의 잠재적 사용자를 혼란스럽게 하는 "연기 및 거울"이 포함됩니다.

이 문서에서는 공급업체가 네트워크 장치의 성능 특성을 측정하고 보고하는 데 사용할 수 있는 특정 테스트 세트를 정의합니다. 이러한 테스트 결과는 이러한 장치를 평가하는 데 사용할 수 있는 다양한 공급업체의 비교 가능한 데이터를 사용자에게 제공합니다.

이전 문서인 "네트워크 상호 연결 장치에 대한 벤치마킹 용어"\(RFC 1242\)에서는 이 문서에 사용되는 많은 용어를 정의했습니다. 이 문서를 사용하기 전에 용어 문서를 참고해야 합니다.

---
## **2. Real world**

이 문서를 작성할 때 저자는 설명된 테스트를 수행하는 장치가 실제로 구축되어야 한다는 요구 사항을 염두에 두려고 했습니다. 우리는 모든 테스트를 구현하는 데 사용할 수 있는 "기성" 장비에 대해 알지 못하지만 그러한 장비를 구성할 수 있다고 생각합니다.

---
## **3. Tests to be run**

이 문서에는 여러 가지 테스트가 설명되어 있습니다. 모든 테스트가 모든 유형의 테스트 대상 장치\(DUT\)에 적용되는 것은 아닙니다. 공급업체는 특정 유형의 제품에서 지원할 수 있는 모든 테스트를 수행해야 합니다. 저자는 모든 권장 조건에서 권장 테스트를 모두 수행하는 데 상당한 시간이 걸릴 것임을 이해합니다. 우리는 결과가 노력할만한 가치가 있다고 믿습니다. 부록 A에는 특정 사례에 포함되어야 한다고 생각되는 일부 테스트 및 조건이 나열되어 있습니다.

---
## **4. Evaluating the results**

권장되는 테스트를 모두 수행하면 많은 양의 데이터가 생성됩니다. 이 데이터의 대부분은 각 상황에서 장치 평가에 적용되지 않습니다. 예를 들어, 라우터가 IPX 프레임을 전달하는 속도는 해당 프로토콜을 지원하지 않는\(그리고 지원하지 않을\) 환경에 대한 라우터를 선택할 때 거의 사용되지 않습니다. 특정 네트워크 설치와 관련된 데이터를 평가하려면 쉽게 사용할 수 없는 경험이 필요합니다. 또한 실행할 테스트 선택 및 테스트 데이터 평가는 소수의 시도에 대한 반복성, 분산 및 통계적 중요성과 관련하여 일반적으로 허용되는 테스트 관행을 이해하여 수행되어야 합니다.

---
## **5. Requirements**

이 문서에서 각 특정 요구 사항의 중요성을 정의하는 데 사용되는 단어는 대문자로 표시됩니다. 이 단어들은 다음과 같습니다:

- \* "MUST" 이 단어 또는 "REQUIRED" 및 "SHALL"이라는 단어는 항목이 사양의 절대 요구 사항임을 의미합니다.\(MUST\)

- \* "SHOULD" 이 단어 또는 형용사 "권장"은 특정 상황에서 이 항목을 무시할 타당한 이유가 있을 수 있지만 전체 의미를 이해하고 다른 과정을 선택하기 전에 사례를 신중하게 고려해야 함을 의미합니다.\(SHOULD\)

- \* "MAY" 이 단어 또는 형용사 "OPTIONAL"은 이 항목이 실제로 선택 사항임을 의미합니다. 한 공급업체는 특정 시장에서 요구하거나 제품을 향상시키기 때문에 해당 항목을 포함하도록 선택할 수 있습니다. 다른 판매자가 동일한 항목을 생략할 수 있습니다.\(MAY\)

구현하는 프로토콜에 대한 MUST 요구 사항 중 하나 이상을 충족하지 못하는 경우 구현은 규격을 준수하지 않는 것입니다. 해당 프로토콜에 대한 모든 MUST 및 모든 SHOULD 요구 사항을 충족하는 구현을 "무조건 준수"라고 합니다. 모든 MUST 요구 사항을 충족하지만 해당 프로토콜에 대한 모든 SHOULD 요구 사항을 충족하지 않는 프로토콜을 "조건부 준수"라고 합니다.\(MUST, MUST\)

---
## **6. Test set up**

이 일련의 테스트를 구현하는 이상적인 방법은 전송 및 수신 포트가 모두 있는 테스터를 사용하는 것입니다. 테스터의 송신 포트에서 DUT의 수신 포트로, 그리고 DUT의 송신 포트에서 테스터로 다시 연결됩니다. \(그림 1 참조\) 테스터는 테스트 트래픽을 보내고 다시 받기 때문에 트래픽이 DUT를 통해 전달된 후에 테스터는 전송된 모든 패킷이 수신되었는지 쉽게 확인하고 올바른 패킷이 수신되었는지 확인할 수 있습니다. 별도의 송신 및 수신 장치를 사용하여 동일한 기능을 얻을 수 있지만\(그림 2 참조\) 단일 테스터를 시뮬레이션하는 방식으로 일부 컴퓨터에 의해 원격으로 제어되지 않는 한, 일부 테스트\(특히 처리량 테스트\)를 정확하게 수행하는 데 필요한 노동력 \) 금지될 수 있습니다.

```text
                            +------------+
                            |            |
               +------------|  tester    |<-------------+
               |            |            |              |
               |            +------------+              |
               |                                        |
               |            +------------+              |
               |            |            |              |
               +----------->|    DUT     |--------------+
                            |            |
                            +------------+
                              Figure 1

         +--------+         +------------+          +----------+
         |        |         |            |          |          |
         | sender |-------->|    DUT     |--------->| receiver |
         |        |         |            |          |          |
         +--------+         +------------+          +----------+
                              Figure 2
```

---
## **6.1 Test set up for multiple media types**

실제 네트워크에서 서로 다른 미디어 유형\(예: 로컬 이더넷\)의 네트워크를 백본 FDDI 링에 연결하는 데 사용되는 DUT를 테스트하는 데 두 가지 다른 설정을 사용할 수 있습니다. 테스터는 그림 1에 표시된 설정이 사용되는 경우 두 가지 미디어 유형을 모두 지원할 수 있습니다.

두 개의 동일한 DUT가 다른 테스트 설정에 사용됩니다. \(그림 3 참조\) 많은 경우에 이 설정은 실제 세계를 더 정확하게 시뮬레이션할 수 있습니다. 예를 들어 WAN 링크 또는 고속 백본을 사용하여 두 개의 LAN을 함께 연결합니다. 이 설정은 이더넷 LAN의 클라이언트가 FDDI 백본의 서버와 상호 작용하는 시스템을 시뮬레이션하는 데 적합하지 않습니다.

```text
                               +-----------+
                               |           |
         +---------------------|  tester   |<---------------------+
         |                     |           |                      |
         |                     +-----------+                      |
         |                                                        |
         |        +----------+               +----------+         |
         |        |          |               |          |         |
         +------->|  DUT 1   |-------------->|   DUT 2  |---------+
                  |          |               |          |
                  +----------+               +----------+

                                  Figure 3
```

---
## **7. DUT set up**

테스트 수행을 시작하기 전에 테스트할 DUT는 사용자에게 제공된 지침에 따라 구성되어야 합니다. 특히 이 설정 중에 지원되는 모든 프로토콜이 구성되고 활성화될 것으로 예상됩니다\(부록 A 참조\). 모든 테스트는 특정 테스트를 수행하는 데 필요한 것 이외의 방식으로 DUT의 구성이나 설정을 변경하지 않고 실행될 것으로 예상됩니다. 예를 들어, 프레임 처리 속도 테스트 간에 프레임 처리 버퍼의 크기를 변경하거나 해당 프로토콜의 처리량을 테스트할 때 하나의 전송 프로토콜을 제외한 모든 프로토콜을 비활성화하는 것은 허용되지 않습니다. 필터가 처리량에 미치는 영향을 확인하기 위해 테스트를 시작할 때 구성을 수정해야 하지만 유일한 변경은 특정 필터를 활성화하는 것이어야 합니다. DUT 설정에는 일반적으로 권장되는 라우팅 업데이트 간격과 활성 유지 빈도가 포함되어야 합니다. 테스트 중에 사용된 소프트웨어의 특정 버전과 비활성화된 기능을 포함한 정확한 DUT 구성이 결과 보고서의 일부로 포함되어야 합니다.\(MUST, MUST, SHOULD, MUST\)

---
## **8. Frame formats**

이더넷을 통한 TCP/IP에 사용할 테스트 프레임 형식은 부록 C: 테스트 프레임 형식에 나와 있습니다. 이러한 정확한 프레임 형식은 이 프로토콜/미디어 조합에 대해 이 문서에 설명된 테스트에서 사용해야 하며 이러한 프레임은 다른 프로토콜/미디어 조합을 테스트하기 위한 템플릿으로 사용됩니다. 특정 테스트 시리즈에 대한 테스트 프레임을 정의하는 데 사용되는 특정 형식은 결과 보고서에 포함되어야 합니다.\(SHOULD, MUST\)

---
## **9. Frame sizes**

설명된 모든 테스트는 다양한 프레임 크기에서 수행되어야 합니다. 특히, 크기에는 테스트 중인 미디어에서 테스트 중인 프로토콜에 대한 최대 및 최소 합법적 크기와 DUT 성능의 전체 특성을 얻을 수 있는 충분한 크기가 포함되어야 합니다. 명시된 경우를 제외하고 각 테스트 조건에 대해 최소 5가지 프레임 크기를 테스트해야 합니다.\(SHOULD, SHOULD, SHOULD\)

이론적으로 최소 크기 UDP 에코 요청 프레임은 IP 헤더\(최소 길이 20옥텟\), UDP 헤더\(8옥텟\) 및 사용 중인 미디어에 필요한 모든 MAC 수준 헤더로 구성됩니다. 이론적 최대 프레임 크기는 IP 헤더의 길이 필드 크기에 따라 결정됩니다. 거의 모든 경우 실제 최대 및 최소 크기는 미디어의 제한 사항에 따라 결정됩니다.

이론적으로는 이론적 프레임 속도를 균등하게 분배하는 방식으로 프레임 크기를 분배하는 것이 이상적입니다. 이러한 권장 사항은 이 이론을 통합하지만 이해하고 기억하기 쉬운 프레임 크기를 지정합니다. 또한 쉽게 성능을 비교할 수 있도록 각 미디어 유형에 동일한 프레임 크기가 많이 지정되어 있습니다.

참고: 일부 미디어 유형\(즉, 데이터를 위한 공간이 거의 또는 전혀 없음\)에 비현실적으로 작은 프레임 크기를 포함하는 것은 DUT의 프레임당 처리 오버헤드를 특성화하는 데 도움이 됩니다.

---
## **9.1 Frame sizes to be used on Ethernet**

```text
       64, 128, 256, 512, 1024, 1280, 1518
```

이러한 크기에는 이더넷 표준에서 허용하는 최대 및 최소 프레임 크기와 더 작은 프레임 크기 및 더 높은 프레임 속도에 대해 더 세밀하게 세분화된 이러한 극단 사이의 크기 선택이 포함됩니다.

---
## **9.2 Frame sizes to be used on 4Mb and 16Mb token ring**

```text
       54, 64, 128, 256, 1024, 1518, 2048, 4472
```

토큰 링에 대한 프레임 크기 권장 사항에서는 라우팅된 프로토콜의 프레임에 RIF 필드가 없다고 가정합니다. RIF 필드는 모든 직접 소스 경로 브리지 성능 테스트에 존재합니다. 토큰 링에서 UDP의 최소 크기 프레임은 54옥텟입니다. 많은 토큰 링 인터페이스에 의해 부과되는 크기 제한으로 인해 이론적 크기인 17.9Kb 대신 16Mb 토큰 링에는 최대 크기 4472옥텟이 권장됩니다. 다른 유형의 미디어와 직접 비교할 수 있도록 크기 알림을 선택했습니다. 더 높은 데이터 속도가 필요한 경우 IP\(즉, UDP가 아님\) 프레임을 추가로 사용할 수 있습니다. 이 경우 최소 프레임 크기는 46옥텟입니다.

---
## **9.3 Frame sizes to be used on FDDI**

```text
       54, 64, 128, 256, 1024, 1518, 2048, 4472
```

FDDI에서 UDP의 최소 크기 프레임은 53옥텟이며, 토큰 링 성능과 직접 비교할 수 있도록 최소 크기 54가 권장됩니다. 동일한 유형의 비교를 허용하려면 이론적 최대 크기인 4500옥텟 대신 최대 크기인 4472가 권장됩니다. 더 높은 데이터 속도가 필요한 경우 IP\(즉, UDP가 아님\) 프레임을 추가로 사용할 수 있습니다. 이 경우 최소 프레임 크기는 45옥텟입니다.

---
## **9.4 Frame sizes in the presence of disparate MTUs**

상호 연결 DUT가 서로 다른 MTU가 있는 링크 연결을 지원하는 경우 테스트 중인 프로토콜의 한계까지 \*더 큰\* MTU가 있는 링크의 프레임 크기를 사용해야 합니다. 상호 연결 DUT가 MTU 불일치가 있는 경우 프레임 조각화를 지원하지 않는 경우 해당 프레임 크기에 대한 전달 속도는 0으로 보고됩니다.\(SHOULD\)

예를 들어, FDDI와 이더넷을 연결하는 브리지나 라우터를 사용한 IP 전달 테스트에서는 FDDI에서 이더넷 링크로 이동할 때 FDDI의 프레임 크기를 사용해야 합니다. 브리지가 IP 조각화를 지원하지 않는 경우 이더넷에 비해 너무 큰 프레임의 전달 속도는 0으로 보고되어야 합니다.

---
## **10. Verifying received frames**

테스트 장비는 실제 전달된 테스트 프레임이 아닌 테스트 실행 중에 수신된 모든 프레임을 폐기해야 합니다\(SHOULD\). 예를 들어, 연결 유지 및 라우팅 업데이트 프레임은 수신된 프레임 수에 포함되어서는 안 됩니다. 어떤 경우에도 테스트 장비는 수신된 프레임의 길이를 확인하고 예상 길이와 일치하는지 확인해야 합니다.\(SHOULD, SHOULD NOT, SHOULD\)

바람직하게는 테스트 장비는 전송된 프레임에 시퀀스 번호를 포함하고 수신된 프레임에서 이러한 번호를 확인해야 합니다. 이 작업이 수행되면 보고된 결과에는 삭제된 프레임 수, 순서 없이 수신된 프레임 수, 수신된 중복 프레임 수 및 수신된 프레임 번호 지정 순서의 간격 수가 포함되어야 합니다. 이 기능은 설명된 일부 테스트에 필요합니다.\(SHOULD, SHOULD\)

---
## **11. Modifiers**

다양한 조건에서 DUT 성능을 아는 것이 유용할 수 있습니다. 이러한 조건 중 일부는 아래에 설명되어 있습니다. 보고된 결과에는 테스트 장비가 생성할 수 있는 만큼의 이러한 조건이 포함되어야 합니다. 일련의 테스트는 조건을 수정하지 않고 먼저 실행한 다음 각 조건에서 별도로 반복해야 합니다. 이러한 테스트 결과를 비교하는 기능을 유지하기 위해 수정 조건\(예: 관리 쿼리\)을 생성하는 데 필요한 모든 프레임은 테스트 프레임 중 하나 대신 일반 테스트 프레임과 동일한 데이터 스트림에 포함됩니다. 별도의 네트워크 포트를 통해 DUT에 공급됩니다.\(SHOULD, SHOULD\)

---
## **11.1 Broadcast frames**

대부분의 라우터 설계에서는 하드웨어 브로드캐스트 주소로 주소가 지정된 프레임이 수신될 때 특별한 처리가 필요합니다. 브리지\(또는 라우터의 브리지 모드\)에서 이러한 브로드캐스트 프레임은 여러 포트로 플러딩되어야 합니다. 테스트 프레임의 스트림은 하드웨어 브로드캐스트 주소로 주소가 지정된 1% 프레임으로 확장되어야 합니다. 브로드캐스트 주소로 전송된 프레임은 라우터가 처리할 필요가 없는 유형이어야 합니다. 이 테스트의 목적은 스트림에 있는 다른 데이터의 전달 속도에 영향이 있는지 확인하는 것입니다. 사용해야 하는 특정 프레임은 테스트 프레임 형식 문서에 포함되어 있습니다. 방송 프레임은 데이터 스트림 전체에 균등하게 분산되어야 합니다\(예: 100번째 프레임마다\).\(SHOULD, SHOULD\)

동일한 테스트를 브리지형 DUT에서 수행해야 하지만 이 경우 브로드캐스트 패킷이 처리되어 모든 출력으로 플러딩됩니다.\(SHOULD\)

1%의 방송 프레임 수준은 많은 네트워크에서 경험하는 것보다 훨씬 높은 것으로 이해되지만, 약물 독성 평가에서와 같이 일반적으로 프레임의 일반적인 가변성 내에 속하는 효과를 측정할 수 있으려면 더 높은 수준이 필요합니다. 시스템 성능. 설계 요인으로 인해 일부 테스트 장비는 이렇게 낮은 수준의 대체 프레임을 생성할 수 없습니다. 이러한 경우 백분율은 장비가 제공할 수 있는 만큼 작아야 하며 실제 수준은 테스트 결과 보고서에 설명되어야 합니다.\(SHOULD\)

---
## **11.2 Management frames**

이제 대부분의 데이터 네트워크는 SNMP와 같은 관리 프로토콜을 사용합니다. 많은 환경에는 동시에 동일한 DUT에 쿼리를 보내는 여러 관리 스테이션이 있을 수 있습니다.

시험 기간 동안 매초마다 첫 번째 프레임이 전송되므로 테스트 프레임 스트림은 하나의 관리 쿼리로 보강되어야 합니다. 쿼리 결과는 하나의 응답 프레임에 맞아야 합니다. 응답 프레임은 테스트 장비로 검증되어야 합니다. 사용해야 하는 특정 쿼리 프레임의 한 예가 부록 C에 나와 있습니다.\(SHOULD, SHOULD\)

---
## **11.3 Routing update frames**

동적 라우팅 프로토콜 업데이트 처리는 라우터가 데이터 프레임을 전달하는 기능에 상당한 영향을 미칠 수 있습니다. 테스트 프레임의 스트림은 시험 중에 전송된 첫 번째 프레임으로 전송된 하나의 라우팅 업데이트 프레임으로 보강되어야 합니다.\(SHOULD\)

라우팅 업데이트 프레임은 테스트에 사용되는 특정 라우팅 프로토콜에 대해 부록 C에 지정된 속도로 전송되어야 합니다. 이더넷을 통한 TCP/IP 예제에 대해 두 개의 라우팅 업데이트 프레임이 부록 C에 정의되어 있습니다. 라우팅 프레임은 테스트 데이터 전달에 관여하지 않는 여러 네트워크로의 라우팅을 변경하도록 설계되었습니다. 첫 번째 프레임은 라우팅 테이블 상태를 "A"로 설정하고, 두 번째 프레임은 상태를 "B"로 변경합니다. 시험 중에는 프레임을 교체해야 합니다.\(SHOULD, MUST\)

테스트는 라우팅 업데이트가 DUT에 의해 처리되었는지 확인해야 합니다.\(SHOULD\)

---
## **11.4 Filters**

일반적으로 전달되는 프레임의 전달을 선택적으로 금지하기 위해 라우터와 브리지에 필터가 추가됩니다. 이는 일반적으로 한 영역과 다른 영역 간에 허용되는 데이터에 대한 보안 제어를 구현하기 위해 수행됩니다. 제품마다 필터를 구현하는 기능이 다릅니다.

DUT는 먼저 하나의 필터 조건을 추가하고 테스트를 수행하도록 구성되어야 합니다. 이 필터는 테스트 데이터 스트림의 전달을 허용해야 합니다\(SHOULD\). 라우터에서 이 필터는 다음 형식이어야 합니다.\(SHOULD, SHOULD, SHOULD\)

- input\_protocol\_address를 output\_protocol\_address로 전달합니다.

브리지에서 필터는 다음 형식이어야 합니다.\(SHOULD\)

```text
      forward destination_hardware_address
```

그런 다음 DUT를 재구성하여 총 25개의 필터를 구현해야 합니다. 이러한 필터 중 처음 24개는 다음 형식이어야 합니다.\(SHOULD, SHOULD\)

- input\_protocol\_address를 output\_protocol\_address로 차단합니다.

24개의 입력 및 출력 프로토콜 주소는 테스트 데이터 스트림에 표시되는 주소가 아니어야 합니다. 마지막 필터는 테스트 데이터 스트림의 전달을 허용해야 합니다\(SHOULD\). "첫 번째"와 "마지막"이란 두 번째 경우에 데이터 프레임이 프레임 전달을 허용하는 조건과 일치하기 전에 25가지 조건을 확인해야 함을 의미합니다. 물론, DUT가 필터 순서를 변경하거나 필터 규칙의 선형 스캔을 사용하지 않는 경우 필터가 입력되는 시퀀스의 효과가 적절하게 손실됩니다.\(SHOULD, SHOULD\)

사용된 정확한 필터 구성 명령줄은 결과 보고서에 포함되어야 합니다.\(SHOULD\)

---
### **11.4.1 Filter Addresses**

두 세트의 필터 주소가 필요합니다. 하나는 단일 필터 케이스용이고 다른 하나는 25 필터 케이스용입니다.

단일 필터 사례는 IP 주소 198.18.1.2에서 IP 주소 198.19.65.2로의 트래픽을 허용하고 다른 모든 트래픽을 거부해야 합니다.

25 필터 케이스는 다음 순서를 따라야 합니다.

aa.ba.1.1을 aa.ba.100.1로 거부

- aa.ba.2.2를 aa.ba.101.2로 거부 aa.ba.3.3을 aa.ba.103.3으로 거부 ... aa.ba.12.12를 aa.ba.112.12로 거부 aa.bc.1.2를 aa.bc로 허용 .65.1 aa.ba.13.13을 aa.ba.113.13으로 거부 aa.ba.14.14를 aa.ba.114.14로 거부 ... aa.ba.24.24를 aa.ba.124.24로 거부 그 외 모든 것을 거부

이 시퀀스를 입력하기 전에 이전의 모든 필터 조건을 라우터에서 지워야 합니다. 라우터가 필터 조건을 정렬하는지 또는 입력된 순서대로 수락하는지 확인하기 위해 테스트하기 위해 시퀀스가 ​​선택됩니다. 이 두 절차 모두 일부 형태의 해시 코딩보다 성능에 더 큰 영향을 미칩니다.

---
## **12. Protocol addresses**

하나의 소스 프로토콜 주소와 하나의 대상 프로토콜 주소가 있는 단일 논리 데이터 스트림을 사용하고 위에서 설명한 필터와 같은 일부 조건의 경우 실제 요구 사항을 사용하여 이러한 테스트를 구현하는 것이 더 쉽습니다. 실제 세계의 네트워크는 단일 데이터 스트림으로 제한되지 않습니다. 테스트 스위트는 단일 프로토콜\(또는 브리지 테스트용 하드웨어\) 소스 및 대상 주소 쌍을 사용하여 먼저 실행되어야 합니다. 그런 다음 무작위 대상 주소를 사용하여 테스트를 반복해야 합니다. 라우터를 테스트하는 동안 주소는 256개 네트워크 범위에 무작위로 균일하게 배포되어야 하며 브리지의 전체 MAC 범위에 무작위로 균일하게 배포되어야 합니다. IP에 사용할 특정 주소 범위는 부록 C에 나와 있습니다.\(SHOULD, SHOULD, SHOULD\)

---
## **13. Route Set Up**

특히 다중 주소의 경우 테스트 스트림을 전달하는 데 필요한 모든 라우팅 정보를 수동으로 설정하는 것은 합리적이지 않습니다. 각 시도가 시작될 때 라우팅 업데이트를 DUT로 전송해야 합니다. 이 라우팅 업데이트에는 평가판에 필요한 모든 네트워크 주소가 포함되어야 합니다. 모든 주소는 동일한 "다음 홉"으로 확인되어야 합니다. 일반적으로 이는 테스트 장비의 수신측 주소입니다. 이 라우팅 업데이트는 사용 중인 라우팅 프로토콜에서 요구하는 간격으로 반복되어야 합니다. 업데이트 프레임의 형식과 반복 간격의 예는 부록 C에 나와 있습니다.\(MUST, MUST, SHOULD\)

---
## **14. Bidirectional traffic**

일반적인 네트워크 활동은 모두 한 방향으로 이루어지지 않습니다. DUT의 양방향 성능을 테스트하려면 각 방향에서 제공되는 동일한 데이터 속도로 테스트 시리즈를 실행해야 합니다. 데이터 속도의 합은 미디어의 이론적인 한계를 초과해서는 안 됩니다.\(SHOULD\)

---
## **15. Single stream path**

전체 테스트 모음은 DUT의 단일 입력 및 출력 네트워크 포트를 사용하여 관련된 모든 수정자 조건과 함께 실행되어야 합니다. DUT의 내부 설계에 여러 개의 개별 경로가 있는 경우\(예: 각각 여러 네트워크 포트가 있는 여러 인터페이스 카드\) 가능한 모든 유형의 경로를 별도로 테스트해야 합니다.\(SHOULD, SHOULD\)

---
## **16. Multi-port**

현재 많은 라우터 및 브리지 제품은 동일한 모듈에서 많은 네트워크 포트를 제공합니다. 이러한 테스트를 수행할 때 포트의 전반부는 "입력 포트"로 지정되고 절반은 "출력 포트"로 지정됩니다. 이러한 포트는 DUT 아키텍처 전체에 고르게 분산되어야 합니다. 예를 들어, DUT에 각각 4개의 포트가 있는 2개의 인터페이스 카드가 있는 경우 각 인터페이스 카드의 2개 포트는 입력으로 지정되고 2개는 출력으로 지정됩니다. 지정된 테스트는 각 입력 포트에 제공되는 동일한 데이터 속도를 사용하여 실행됩니다. 입력 데이터 스트림의 주소는 모든 "출력" 포트가 이 입력에서 균일한 패킷 배포를 얻을 수 있도록 프레임이 순서대로 각 출력 포트로 전달되도록 설정되어야 합니다. 양방향 다중 스트림 테스트를 수행하는 데 동일한 구성을 사용할 수 있습니다. 이 경우 모든 포트는 입력 및 출력 포트로 간주되며 각 데이터 스트림은 다른 모든 포트에 주소가 지정된 프레임으로 구성되어야 합니다.\(SHOULD, SHOULD, MAY, MUST\)

다음 6포트 DUT를 고려하십시오.

```text
                              --------------
                     ---------| in A  out X|--------
                     ---------| in B  out Y|--------
                     ---------| in C  out Z|--------
                              --------------
```

각 입력에 대한 데이터 스트림의 주소 지정은 다음과 같아야 합니다.\(SHOULD\)

```text
    stream sent to input A:
      packet to out X, packet to out Y, packet to out Z
    stream sent to input B:
      packet to out X, packet to out Y, packet to out Z
    stream sent to input C
      packet to out X, packet to out Y, packet to out Z
```

이러한 스트림은 각각 동일한 순서를 따르므로 3개의 패킷이 동시에 출력 X에 도착하고, 그 다음에는 Y에 3개의 패킷, 그런 다음 Z에 3개의 패킷이 도착합니다. 이 절차는 실제 세계에서와 마찬가지로 DUT가 동시에 동일한 출력으로 주소 지정된 여러 패킷을 처리합니다.

---
## **17. Multiple protocols**

이 문서에서는 혼합 프로토콜 환경의 효과를 테스트하는 문제를 다루지 않고, 그러한 테스트가 필요한 경우 모든 테스트 프로토콜 간에 프레임을 배포해야 한다고 제안합니다. 분포는 DUT가 사용되는 네트워크의 조건과 유사할 수 있습니다.\(SHOULD, MAY\)

---
## **18. Multiple frame sizes**

이 문서에서는 혼합 프레임 크기 환경의 영향을 테스트하는 문제를 다루지 않으며, 그러한 테스트가 필요한 경우 테스트 중인 프로토콜에 대해 나열된 모든 크기 간에 프레임을 배포해야 한다고 제안합니다. 분포는 DUT가 사용되는 네트워크의 조건과 유사할 수 있습니다. 저자는 매우 특정한 시뮬레이션 네트워크에서 여러 DUT를 직접 비교하는 것 외에 이러한 테스트 결과가 어떻게 해석될지 전혀 모릅니다.\(SHOULD, MAY\)

---
## **19. Testing performance beyond a single DUT.**

단일 DUT의 성능 테스트에서 패러다임은 일부 입력을 DUT에 적용하고 출력을 모니터링하는 것으로 설명할 수 있습니다. 그 결과는 해당 테스트 조건에서 해당 장치의 특성화 기초를 형성하는 데 사용될 수 있습니다.

이 모델은 테스트 입력과 출력이 동일하거나\(예: 64바이트 IP, DUT에 대한 802.3 프레임, 64바이트 IP, 802.3 프레임 출력\) 테스트 방법이 서로 다른 입력/출력을 구별할 수 있는 경우에 유용합니다. \(예: 1518바이트 IP, 802.3 프레임 입력, 576바이트, 조각화된 IP, X.25 프레임 출력.\)

단일 DUT 테스트 모델을 확장함으로써 여러 DUT 또는 이기종 환경에 관한 합리적인 벤치마크를 수집할 수 있습니다. 이 확장에서는 단일 DUT가 상호 연결된 네트워크 DUT 시스템으로 대체됩니다. 이 테스트 방법론은 다양한 장치/미디어/서비스/프로토콜 조합의 벤치마킹을 지원합니다. 예를 들어 LAN-WAN-to-LAN 테스트 구성은 다음과 같습니다.

```text
   (1) 802.3-> DUT 1 -> X.25 @ 64kbps -> DUT 2 -> 802.3
```

또는 혼합 LAN 구성은 다음과 같습니다.

```text
   (2) 802.3 -> DUT 1 -> FDDI -> DUT 2 -> FDDI -> DUT 3 -> 802.3
```

예제 1과 2 모두에서 각 시스템의 엔드투엔드 벤치마크를 경험적으로 확인할 수 있었습니다. 다른 동작은 중간 장치를 사용하여 특성화할 수 있습니다. 예 2에서 구성은 DUT 2에 의해 나타나는 FDDI 기능에 대한 FDDI의 표시를 제공하는 데 사용될 수 있습니다.

여러 DUT가 단일 시스템으로 처리되기 때문에 이 방법에는 제한이 있습니다. 예를 들어, 이 방법론은 테스트된 시스템에 대한 종합적인 벤치마크를 산출할 수 있습니다. 그러나 해당 벤치마크만으로는 DUT 간 동작의 비대칭성, 다른 장치\(예: CSU/DSU, 스위치\)에 의해 발생하는 지연 시간 등을 반드시 반영할 수는 없습니다.

또한, 테스트된 시스템의 DUT 기능/구성이 비교를 허용하는 적절한 공통 분모를 가지고 있는지 확인하여 다양한 시스템의 벤치마크를 비교할 때 주의를 기울여야 합니다.

---
## **20. Maximum frame rate**

LAN 연결을 테스트할 때 사용해야 하는 최대 프레임 속도는 미디어의 프레임 크기에 대해 나열된 이론적 최대 속도여야 합니다.\(SHOULD\)

WAN 연결을 테스트할 때 사용해야 하는 최대 프레임 속도는 해당 속도 연결의 프레임 크기에 대해 나열된 이론적 최대 속도보다 커야 합니다. WAN 테스트의 더 높은 속도는 일부 공급업체가 다양한 형태의 헤더 압축을 사용한다는 사실을 보완하기 위한 것입니다.\(SHOULD\)

LAN 연결의 최대 프레임 속도 목록은 부록 B에 포함되어 있습니다.

---
## **21. Bursty traffic**

안정된 상태의 로드 하에서 DUT 성능을 측정하는 것은 편리하지만 실제 네트워크 트래픽은 일반적으로 프레임 버스트로 구성되므로 이는 DUT의 기능을 측정하는 비현실적인 방법입니다. 아래에 설명된 테스트 중 일부는 안정적인 상태 트래픽과 반복적인 프레임 버스트로 구성된 트래픽 모두에서 수행되어야 합니다. 버스트 내의 프레임은 최소한의 합법적인 프레임 간 간격으로 전송됩니다.\(SHOULD\)

테스트의 목적은 DUT가 프레임 손실 없이 처리할 수 있는 버스트 간의 최소 간격을 결정하는 것입니다. 각 테스트 동안 각 버스트의 프레임 수는 일정하게 유지되고 버스트 간 간격은 다양합니다. 테스트는 16, 64, 256 및 1024 프레임의 버스트 크기로 실행되어야 합니다.\(SHOULD\)

---
## **22. Frames per token**

토큰이 수신될 때마다 두 개 이상의 프레임을 전송하도록 일부 토큰 링 및 FDDI 인터페이스를 구성할 수 있지만 현재 사용 가능한 대부분의 네트워크 장치는 토큰당 하나의 프레임만 전송합니다. 이러한 테스트는 토큰당 하나의 프레임만 전송하는 동안 먼저 수행되어야 합니다.\(SHOULD\)

현재 일부 고성능 워크스테이션 서버는 처리량을 최대화하기 위해 FDDI에서 토큰당 두 개 이상의 프레임을 전송합니다. 이는 향후 워크스테이션 및 서버의 공통 기능이 될 수 있으므로 FDDI 인터페이스가 있는 상호 연결 장치는 토큰당 1, 4, 8 및 16프레임으로 테스트되어야 합니다. 보고된 프레임 속도는 전체 시험 기간 동안의 평균 프레임 전송 속도여야 합니다.\(SHOULD, SHOULD\)

---
## **23. Trial description**

특정 테스트는 여러 번의 시도로 구성됩니다. 각 시도는 특정 입력 프레임 속도에서의 손실률과 같은 하나의 정보를 반환합니다. 각 시험은 다음과 같은 여러 단계로 구성됩니다.

a\) DUT가 라우터인 경우 라우팅 업데이트를 "입력" 포트로 보내고 라우팅이 확정되었는지 확인하기 위해 2초간 일시 중지합니다.

b\) "학습 프레임"을 "출력" 포트로 보내고 학습이 완료되었는지 확인하기 위해 2초 동안 기다립니다. 브리지 학습 프레임은 테스트 프레임에서 사용되는 대상 주소와 동일한 소스 주소를 가진 프레임입니다. 다른 프로토콜에 대한 학습 프레임은 DUT의 주소 확인 테이블을 준비하는 데 사용됩니다. 사용해야 하는 학습 프레임의 형식은 테스트 프레임 형식 문서에 나와 있습니다.

c\) 테스트 시험을 실행합니다.

d\) 잔여 프레임이 수신될 때까지 2초 동안 기다립니다.

e\) DUT가 다시 안정화될 때까지 최소 5초 동안 기다립니다.

---
## **24. Trial duration**

이 테스트의 목적은 DUT가 지속적으로 지원할 수 있는 속도를 결정하는 것입니다. 테스트 시도의 실제 기간은 이 목표와 벤치마킹 테스트 기간 사이의 절충안이어야 합니다. 각 시도의 테스트 부분 지속 시간은 최소 60초 이상이어야 합니다. 정확한 결과를 결정하기 위해 처리량 테스트와 같은 일부 형태의 "이진 검색"을 포함하는 테스트는 검색 절차의 길이를 최소화하기 위해 더 짧은 시험 기간을 사용할 수 있지만 최종 결정은 전체 길이 시험을 통해 이루어져야 합니다.\(SHOULD, SHOULD\)

---
## **25. Address resolution**

DUT는 프로토콜이 그러한 프로세스를 요구할 때마다 DUT가 보낸 주소 확인 요청에 응답할 수 있어야 합니다.\(SHOULD\)

---
## **26. Benchmarking tests:**

참고: "데이터 스트림 유형"이라는 표기는 일정한 프레임 간 간격이 있는 프레임 스트림에 대한 위의 수정을 의미합니다\(예: DUT 구성에 트래픽 필터 추가\).

---
## **26.1 Throughput**

목표: RFC 1242에 정의된 대로 DUT 처리량을 결정합니다.

절차: DUT를 통해 특정 속도로 특정 수의 프레임을 보낸 다음 DUT에서 전송되는 프레임 수를 계산합니다. 제공된 프레임 수가 수신된 프레임 수와 같은 경우 전송된 것보다 더 적은 수의 프레임이 수신되고 제공된 스트림의 속도가 줄어들고 테스트가 다시 실행됩니다.

처리량은 DUT에서 전송된 테스트 프레임 수가 테스트 장비에서 전송된 테스트 프레임 수와 동일할 때의 가장 빠른 속도입니다.

보고 형식: 처리량 테스트 결과는 그래프 형식으로 보고되어야 합니다. 그렇다면 x 좌표는 프레임 크기여야 하고, y 좌표는 프레임 속도여야 합니다. 그래프에는 최소한 두 개의 선이 있어야 합니다. 다양한 프레임 크기에서 미디어의 이론적인 프레임 속도를 보여주는 한 줄이 있어야 합니다. 두 번째 줄은 테스트 결과의 플롯이어야 합니다. 테스트된 각 데이터 스트림 유형에 대한 결과를 보고하기 위해 그래프에 추가 선을 사용할 수 있습니다. 그래프와 함께 제공되는 텍스트는 테스트에 사용된 프로토콜, 데이터 스트림 형식 및 미디어 유형을 나타내야 합니다\(SHOULD\).\(SHOULD, SHOULD, SHOULD, SHOULD, SHOULD, MAY, SHOULD\)

광고 목적으로 단일 값이 필요한 경우 공급업체가 미디어의 최소 프레임 크기에 대한 속도를 선택할 것이라고 가정합니다. 이것이 완료되면 수치는 초당 프레임 수로 표현되어야 합니다. 공급업체가 원하는 경우 속도는 초당 비트\(또는 바이트\)로 표시될 수도 있습니다. 성능 설명에는 a/ 측정된 최대 프레임 속도, b/ 사용된 프레임 크기, c/ 해당 프레임 크기에 대한 미디어의 이론적 한계, d/ 테스트에 사용된 프로토콜 유형이 포함되어야 합니다. 단일 값이 광고 문구의 일부로 사용되더라도 전체 결과 표가 제품 데이터 시트에 포함되어야 합니다.\(MUST, MAY, MUST, SHOULD\)

---
## **26.2 Latency**

목표: RFC 1242에 정의된 대로 대기 시간을 확인합니다.

절차: 먼저 나열된 각 프레임 크기에서 DUT의 처리량을 결정합니다. 결정된 처리 속도로 DUT를 통해 특정 프레임 크기의 프레임 스트림을 특정 대상으로 보냅니다. 스트림의 지속 시간은 120초 이상이어야 합니다. 식별 태그는 구현에 따라 달라지는 태그 유형으로 60초 후에 하나의 프레임에 포함되어야 합니다. 이 프레임이 완전히 전송되는 시간이 기록됩니다\(타임스탬프 A\). 테스트 장비의 수신기 로직은 프레임 스트림의 태그 정보를 인식하고 태그된 프레임이 수신된 시간\(타임스탬프 B\)을 기록해야 합니다.\(SHOULD, SHOULD, MUST\)

대기 시간은 RFC 1242 관련 정의에 따라 타임스탬프 B에서 타임스탬프 A를 뺀 값입니다. 즉, 저장 및 전달 장치에 대해 정의된 대기 시간 또는 비트 전달 장치에 대해 정의된 대기 시간입니다.

테스트는 기록된 값의 평균인 보고된 값으로 최소 20회 반복되어야 합니다.\(MUST\)

이 테스트는 나머지 데이터 스트림과 동일한 대상으로 주소가 지정된 테스트 프레임과 새로운 대상 네트워크로 주소가 지정된 각 테스트 프레임을 사용하여 수행되어야 합니다.\(SHOULD\)

보고 형식: 보고서에는 이 테스트에 사용된 대기 시간 정의\(RFC 1242\)가 무엇인지 명시해야 합니다. 지연 시간 결과는 테스트된 각 프레임 크기에 대한 행이 있는 테이블 형식으로 보고되어야 합니다\(SHOULD\). 프레임 크기, 해당 프레임 크기에 대해 대기 시간 테스트가 실행된 속도, 테스트된 미디어 유형 및 테스트된 각 데이터 스트림 유형에 대한 결과 대기 시간 값에 대한 열이 있어야 합니다.\(MUST, SHOULD, SHOULD\)

---
## **26.3 Frame loss rate**

목표: RFC 1242에 정의된 대로 전체 입력 데이터 속도 및 프레임 크기 범위에 걸쳐 DUT의 프레임 손실률을 결정합니다.

절차: 테스트할 DUT를 통해 특정 속도로 특정 수의 프레임을 전송하고 DUT에서 전송되는 프레임 수를 계산합니다. 각 지점의 프레임 손실률은 다음 방정식을 사용하여 계산됩니다.

```text
          ( ( input_count - output_count ) * 100 ) / input_count
```

첫 번째 시도는 입력 미디어의 프레임 크기에 대한 최대 속도의 100%에 해당하는 프레임 속도에 대해 실행되어야 합니다. 사용된 최대 속도의 90%에 해당하는 속도에 대해 절차를 반복한 다음 이 속도의 80%에 대해 절차를 반복합니다. 이 시퀀스는 프레임이 손실되지 않는 두 번의 연속 시도가 있을 때까지 계속\(10% 간격으로\) 계속되어야 합니다. 시도의 최대 세분성은 최대 비율의 10%여야 하며 더 미세한 세분성이 권장됩니다.\(SHOULD, SHOULD, MUST\)

보고 형식: 프레임 손실률 테스트 결과는 그래프로 표시되어야 합니다. 이 작업이 완료되면 X축은 특정 프레임 크기에서 미디어에 대한 이론적인 속도의 백분율로 표시되는 입력 프레임 속도여야 합니다. Y축은 특정 입력 속도에서의 손실률이어야 합니다. X축의 왼쪽 끝과 Y축의 아래쪽은 0%여야 합니다. X축의 오른쪽 끝과 Y축의 상단은 100%여야 합니다. 그래프의 여러 줄은 다양한 프레임 크기, 프로토콜 및 데이터 스트림 유형에 대한 프레임 손실률을 보고하는 데 사용될 수 있습니다.\(SHOULD, MUST, MUST, MUST, MAY\)

참고: 사용해야 하는 최대 프레임 속도는 섹션 18을 참조하세요.\(SHOULD\)

---
## **26.4 Back-to-back frames**

목표: RFC 1242에 정의된 대로 연속 프레임을 처리하는 DUT의 기능을 특성화합니다.

절차: 프레임 간 간격이 최소인 프레임 버스트를 DUT로 보내고 DUT에서 전달한 프레임 수를 계산합니다. 전송된 프레임 수가 전달된 프레임 수와 같으면 버스트 길이가 늘어나고 테스트가 다시 실행됩니다. 전달된 프레임 수가 전송된 수보다 적으면 버스트 길이가 줄어들고 테스트가 다시 실행됩니다.

연속 값은 DUT가 프레임 손실 없이 처리할 수 있는 가장 긴 버스트의 프레임 수입니다. 시험 길이는 최소 2초여야 하며 보고되는 기록된 값의 평균과 함께 최소 50회 반복되어야 합니다.\(MUST\)

보고 형식: 연속 결과는 테스트된 각 프레임 크기에 대한 행이 있는 테이블 형식으로 보고되어야 합니다. 프레임 크기와 테스트된 각 유형의 데이터 스트림에 대한 결과 평균 프레임 수에 대한 열이 있어야 합니다. 각 측정에 대한 표준 편차도 보고될 수 있습니다.\(SHOULD, SHOULD, MAY\)

---
## **26.5 System recovery**

목표: DUT가 과부하 상태에서 복구되는 속도를 특성화합니다.

절차: 먼저 나열된 각 프레임 크기에서 DUT의 처리량을 결정합니다.

기록된 처리량 속도의 110% 또는 미디어의 최대 속도 중 더 낮은 속도로 최소 60초 동안 프레임 스트림을 보냅니다. 타임스탬프 A에서 프레임 속도를 위 속도의 50%로 줄이고 마지막 프레임 손실 시간\(타임스탬프 B\)을 기록합니다. 시스템 복구 시간은 타임스탬프 A에서 타임스탬프 B를 빼서 결정됩니다. 테스트는 여러 번 반복되어야 하며 기록된 값의 평균이 보고되어야 합니다.\(SHOULD\)

보고 형식: 시스템 복구 결과는 테스트된 각 프레임 크기에 대한 행이 있는 테이블 형식으로 보고되어야 합니다. 프레임 크기, 테스트된 각 데이터 스트림 유형에 대한 처리 속도로 사용되는 프레임 속도, 테스트된 각 데이터 스트림 유형에 대해 측정된 복구 시간에 대한 열이 있어야 합니다.\(SHOULD, SHOULD\)

---
## **26.6 Reset**

목표: DUT가 장치 또는 소프트웨어 재설정에서 복구되는 속도를 특성화합니다.

절차: 먼저 테스트에 사용된 미디어의 최소 프레임 크기에 대한 DUT의 처리량을 결정합니다.

최소 크기 프레임에 대해 결정된 처리 속도로 연속 프레임 스트림을 보냅니다. DUT를 재설정합니다. 프레임이 전달되기 시작할 때까지 출력을 모니터링하고 초기 스트림의 마지막 프레임\(타임스탬프 A\)과 새 스트림의 첫 번째 프레임\(타임스탬프 B\)이 수신되는 시간을 기록합니다. 전원 중단 재설정 테스트는 재설정을 유발하는 대신 DUT에 대한 전원이 10초 동안 중단되어야 한다는 점을 제외하고 위와 같이 수행됩니다.

이 테스트는 라우팅 업데이트가 수신될 때까지 지연할 필요가 없도록 DUT에 직접 연결된 네트워크에 주소가 지정된 프레임을 사용하여 실행해야 합니다.\(SHOULD\)

재설정 값은 타임스탬프 B에서 타임스탬프 A를 빼서 얻습니다.

하드웨어 및 소프트웨어 재설정은 물론 전원 중단도 테스트해야 합니다.\(SHOULD\)

보고 형식: 재설정 값은 각 재설정 유형마다 하나씩 간단한 명령문 세트로 보고되어야 합니다.\(SHOULD\)

---
## **27. Security Considerations**

이 문서에서는 보안 문제를 다루지 않습니다.

---
## **28. Editors' Addresses**

```text
   Scott Bradner
   Harvard University
   1350 Mass. Ave, room 813
   Cambridge, MA 02138

   Phone: +1 617 495-3864
   Fax:   +1 617 496-8500
   EMail: sob@harvard.edu

   Jim McQuaid
   NetScout Systems
   4 Westford Tech Park Drive
   Westford, MA 01886

   Phone: +1 978 614-4116
   Fax:   +1 978 614-4004
   EMail: mcquaidj@netscout.com
```

---
# **Appendix A: Testing Considerations**
---
## **A.1 Scope Of This Appendix**

이 부록에서는 실행하도록 선택한 테스트 또는 특정 DUT를 사용하여 테스트를 구성하는 접근 방식에서 경험이나 판단이 역할을 할 수 있는 벤치마킹 방법론의 특정 문제에 대해 논의합니다. 따라서 이 부록은 이 문서 본문에 설명된 방법론에 대한 수정안이 아니라 테스트 실행에 대한 지침으로 읽어야 합니다.\(MUST\)

1. 일반적인 테스트 관행은 주어진 시험 세트가 한 번에 하나의 프로토콜만 실행할 수 있더라도 모든 프로토콜을 테스트하고 프로토콜을 추가로 구성하지 않고도 모든 테스트를 수행하는 것이었습니다. 이는 단일 프로토콜에 대해 DUT를 "조정"할 기회를 최소화합니다.

2. 사용 가능한 필터 기능의 최소 공통 분모를 사용하여 공급업체 간의 비교 기반이 있는지 확인해야 합니다. 제품 차이로 인해 테스트를 수행하고 평가하는 사람이 이 문제에 대해 판단을 내려야 합니다.

3. 구조적 고려 사항을 고려해야 할 수도 있습니다. 예를 들어, 먼저 동일한 인터페이스 카드의 포트 사이를 이동하는 스트림으로 테스트를 수행하고 스트림이 한 인터페이스 카드의 포트로 들어가고 두 번째 인터페이스 카드의 포트에서 나가는 테스트를 반복하십시오. 특정 DUT 아키텍처에는 거의 항상 최상의 경우와 최악의 경우 구성이 있습니다.

4. 혼합 프로토콜로 구성된 트래픽 스트림을 사용하여 테스트한 결과 개별 프로토콜을 사용한 테스트와 큰 차이가 나타나지 않았습니다. 즉, 프로토콜 A 테스트와 프로토콜 B 테스트가 서로 다른 두 가지 성능 결과를 제공하는 경우 혼합 프로토콜 테스트는 둘의 평균인 결과를 제공하는 것으로 보입니다.

5. WAN\(Wide Area Network\) 성능은 적절한 단거리 버전의 WAN 모뎀으로 연결된 두 개의 동일한 장치를 설정하여 테스트할 수 있습니다. 그런 다음 한 DUT의 LAN 인터페이스와 다른 DUT의 LAN 인터페이스 간 성능을 측정합니다.

LAN-WAN-LAN 구성에 사용되는 최대 프레임 속도는 압축 효과, 조각화, 전체 링크 속도 등 전체 시스템의 알려진 특성을 기반으로 판단할 수 있습니다. 실습에 따르면 속도는 가장 느린 링크 속도의 110% 이상이어야 합니다. 압축 자체 테스트와 관련된 실질적인 문제는 이 문서의 범위를 벗어납니다.

---
# **Appendix B: Maximum frame rates reference**

```text
      (Provided by Roger Beeman, Cisco Systems)

        Size       Ethernet    16Mb Token Ring      FDDI
       (bytes)       (pps)           (pps)         (pps)

       64            14880           24691         152439
       128            8445           13793          85616
       256            4528            7326          45620
       512            2349            3780          23585
       768            1586            2547          15903
       1024           1197            1921          11996
       1280            961            1542           9630
       1518            812            1302           8138

      Ethernet size
       Preamble 64 bits
       Frame 8 x N bits
       Gap  96 bits

      16Mb Token Ring size
         SD               8 bits
         AC               8 bits
         FC               8 bits
         DA              48 bits
         SA              48 bits
         RI              48 bits ( 06 30 00 12 00 30 )
         SNAP
           DSAP           8 bits
           SSAP           8 bits
           Control        8 bits
           Vendor        24 bits
           Type          16 bits
         Data 8 x ( N - 18) bits
         FCS             32 bits
         ED               8 bits
         FS               8 bits
```

- 패킷 간 토큰이나 유휴 시간은 포함되지 않습니다.

```text
      FDDI size
         Preamble        64 bits
         SD               8 bits
         FC               8 bits
         DA              48 bits
         SA              48 bits
         SNAP

           DSAP           8 bits
           SSAP           8 bits
           Control        8 bits
           Vendor        24 bits
           Type          16 bits
         Data 8 x ( N - 18) bits
         FCS             32 bits
         ED               4 bits
         FS              12 bits
```

---
# **Appendix C: Test Frame Formats**

이 부록에서는 이러한 테스트에 사용할 수 있는 프레임 형식을 정의합니다. 또한 테스트에 예시로 사용할 이더넷을 통한 TCP/IP용 프로토콜별 매개변수도 포함되어 있습니다.

---
### **C.1. Introduction**

매개변수 선택 및 프레임 형식 설계에 사용되는 일반 논리는 TCP/IP 섹션 내에서 각 경우에 대해 설명됩니다. 다른 섹션에서도 동일한 논리가 사용되었습니다. 설명할 프로토콜별 기능이 있는 경우에만 이 섹션에서 설명이 사용됩니다. 추가 프로토콜에 대한 매개변수 및 프레임 형식은 리더에서 동일한 논리를 사용하여 정의할 수 있습니다.

---
### **C.2. TCP/IP Information**

다음 섹션에서는 TCP/IP 프로토콜 제품군을 다룹니다.

---
### **C.2.1 Frame Type.**

이러한 기능을 지원하는 프로토콜의 테스트 데이터 프레임에는 애플리케이션 수준 데이터그램 에코 요청이 사용됩니다. 데이터그램 프로토콜은 신뢰할 수 있는 스트림 프로토콜의 경우처럼 라우터가 특정 세션 초기화 시퀀스를 기대할 수 있는 가능성을 최소화하는 데 사용됩니다. 일부 라우터는 프로토콜 필드를 확인하고 알 수 없는 프로토콜 전달을 거부하기 때문에 특정 정의된 프로토콜이 사용됩니다.

TCP/IP의 경우 UDP 에코 요청이 사용됩니다.

---
### **C.2.2 Protocol Addresses**

두 가지 주소 집합을 정의해야 합니다. 첫 번째는 라우터 포트에 할당된 주소이고 두 번째는 프레임 자체와 라우팅 업데이트에 사용할 주소입니다.

이 목적을 위해 IANA는 네트워크 주소 192.18.0.0부터 198.19.255.255까지 BMWG에 할당했습니다. 이 할당은 테스트 장치가 실수로 인터넷의 일부에 연결될 경우 충돌 가능성을 최소화하기 위해 수행되었습니다. 주소의 구체적인 용도는 아래에 자세히 설명되어 있습니다.

---
#### **C.2.2.1 Router port protocol addresses**

일부 테스트에서는 모든 포트를 입력 및 출력 모두로 사용하지만 다중 포트 라우터의 포트 중 절반은 "입력" 포트라고 하고 나머지 절반은 "출력" 포트라고 합니다. 198.18.1.0부터 198.18.64.0까지 연속된 일련의 IP 클래스 C 네트워크 주소가 "입력" 포트에 사용되도록 할당되었습니다. 198.19.1.0부터 198.19.64.0까지의 두 번째 시리즈가 "출력" 포트에 사용되도록 할당되었습니다. 모든 경우에 라우터 포트는 해당 네트워크의 노드 1입니다. 예를 들어, 2포트 DUT의 IP 주소는 한 포트에서는 198.18.1.1이고 다른 포트에서는 198.19.1.1입니다.

방법론 메모에 설명된 일부 테스트에서는 DUT에 대한 SNMP 관리 연결을 사용합니다. DUT의 관리 액세스 주소는 "입력" 포트 중 첫 번째 포트\(198.18.1.1\)로 가정됩니다.

---
#### **C.2.2.2 Frame addresses**

```text
   Some of the described tests assume adjacent network routing (the
   reboot time test for example).  The IP address used in the test frame
   is that of node 2 on the appropriate Class C network. (198.19.1.2 for
   example)
```

테스트에 인접하지 않은 네트워크 라우팅이 포함된 경우 가상 라우터는 해당 클래스 C 네트워크 각각의 노드 10에 위치합니다. 198.18.65.0부터 198.18.254.0까지의 일련의 클래스 C 네트워크 주소는 DUT의 "입력" 측에서 팬텀 라우터를 통해 액세스할 수 있는 네트워크로 사용하기 위해 할당되었습니다. 198.19.65.0부터 198.19.254.0까지의 일련의 클래스 C 네트워크는 DUT의 "출력" 측에 있는 팬텀 라우터를 통해 볼 수 있는 네트워크로 사용되도록 할당되었습니다.

---
### **C.2.3 Routing Update Frequency**

각 라우팅 프로토콜의 업데이트 간격은 개별 프로토콜의 사양에 따라 결정되어야 할 수 있습니다. IP RIP, Cisco IGRP 및 OSPF의 경우 라우팅 업데이트 프레임은 테스트 프레임의 각 스트림보다 5초 앞서야 합니다. 이 빈도는 최대 60초의 시험 기간에 충분합니다. 더 긴 시험 기간을 선택한 경우 라우팅 업데이트를 테스트 프레임 스트림과 혼합해야 합니다. 업데이트 빈도는 다음 표에서 가져와야 합니다.

```text
          IP-RIP  30 sec
          IGRP  90 sec
          OSPF  90 sec
```

---
### **C.2.4 Frame Formats - detailed discussion**
---
#### **C.2.4.1 Learning Frame**

대부분의 프로토콜에서는 프로토콜 노드 주소와 MAC 주소 간의 매핑을 결정하는 절차가 사용됩니다. TCP/IP에서 이 기능을 수행하려면 ARP\(주소 확인 프로토콜\)가 사용됩니다. XNS나 IPX에서는 MAC 주소가 프로토콜 노드 주소로 사용되므로 이러한 절차가 필요하지 않습니다.

이상적인 경우 테스터는 DUT의 ARP 요청에 응답할 수 있습니다. 이것이 가능하지 않은 경우에는 ARP 요청을 라우터의 "출력" 포트로 보내야 합니다. 이 요청은 테스트 프레임 스트림의 즉각적인 대상에서 오는 것으로 표시되어야 합니다. \(즉, 가상 라우터\(그림 2\) 또는 인접 네트워크 라우팅이 사용되는 경우 끝 노드\) 라우터가 요청 장치의 MAC 주소를 캐시한다고 가정합니다. ARP 요청은 각 시도에서 테스트 프레임 스트림이 시작되기 5초 전에 전송되어야 합니다. 50초보다 긴 시험 기간을 사용하려면 확장된 ARP 시간 초과에 대해 라우터를 구성해야 할 수도 있습니다.

```text
                      +--------+            +------------+
                      |        |            |  phantom   |------ P LAN
         A
            IN A------|   DUT  |------------|            |------ P LAN
         B
                      |        |   OUT A    |  router    |------ P LAN
         C
                      +--------+            +------------+

                                 Figure 2

           In the case where full routing is being used
```

---
#### **C.2.4.2 Routing Update Frame**

테스트에 인접 네트 라우팅이 포함되지 않은 경우 테스터는 라우팅 업데이트를 사용하여 적절한 라우팅 정보를 제공해야 합니다. 각 "대상" 포트에서 각 시도 전에 단일 라우팅 업데이트가 사용됩니다\(섹션 C.24 참조\). 이 업데이트에는 포트에 연결된 네트워크의 가상 라우터를 통해 연결할 수 있는 네트워크 주소가 포함되어 있습니다. 전체 메시 테스트의 경우 각 "입력" 포트에 대한 라우팅 업데이트에 하나의 대상 네트워크 주소가 있습니다. 각 "입력" 포트의 테스트 스트림은 각 "출력" 포트에 하나씩 반복되는 프레임 시퀀스로 구성됩니다.

---
#### **C.2.4.3 Management Query Frame**

관리 오버헤드 테스트는 SNMP를 사용하여 SNMP를 지원하는 모든 DUT에 존재해야 하는 변수 세트를 쿼리합니다. 단일 인터페이스에 대한 변수만 NMS에서 적절한 간격으로 읽습니다. 검색할 변수 목록은 다음과 같습니다.

```text
             sysUpTime
             ifInOctets
             ifOutOctets
             ifInUcastPkts
             ifOutUcastPkts
```

---
#### **C.2.4.4 Test Frames**

테스트 프레임은 필요한 프레임 크기를 채우기에 충분한 데이터가 포함된 UDP 에코 요청입니다. 이러한 패턴으로 인해 WAN 링크에서 클럭 동기화를 유지하는 데 사용되는 "비트 스터핑" 프로세스가 발생할 수 있으므로 데이터의 모든 비트가 꺼져 있거나 켜져 있으면 안 됩니다. 이 프로세스를 수행하면 의도한 것보다 프레임이 길어집니다.

---
#### **C.2.4.5 Frame Formats - TCP/IP on Ethernet**

아래의 각 프레임은 첫 번째 DUT 포트 쌍\(예: "입력" 포트 #1 및 "출력" 포트 #1\)에 대해 설명됩니다. 프레임을 다른 포트에 사용하려면 주소를 변경해야 합니다.

---
#### **C.2.6.1 Learning Frame**

```text
          ARP Request on Ethernet

          -- DATAGRAM HEADER
          offset data (hex)            description
          00     FF FF FF FF FF FF     dest MAC address send to
         broadcast address
          06     xx xx xx xx xx xx     set to source MAC address
          12     08 06                 ARP type
          14     00 01                 hardware type Ethernet = 1
          16     08 00                 protocol type IP = 800
          18     06                    hardware address length 48 bits
         on Ethernet
          19     04                    protocol address length 4 octets
         for IP
          20     00 01                 opcode request = 1
          22     xx xx xx xx xx xx     source MAC address
          28     xx xx xx xx           source IP address
          32     FF FF FF FF FF FF     requesting DUT's MAC address
          38     xx xx xx xx           DUT's IP address
```

---
#### **C.2.6.2 Routing Update Frame**

```text
          -- DATAGRAM HEADER
          offset data (hex)            description
          00     FF FF FF FF FF FF     dest MAC address is broadcast
          06     xx xx xx xx xx xx     source hardware address
          12     08 00                 type

          -- IP HEADER
          14     45                    IP version - 4, header length (4
         byte units) - 5
          15     00                    service field
          16     00 EE                 total length
          18     00 00                 ID
          20     40 00                 flags (3 bits) 4 (do not
         fragment),
                                       fragment offset-0
          22     0A                    TTL
          23     11                    protocol - 17 (UDP)
          24     C4 8D                 header checksum
          26     xx xx xx xx           source IP address
          30     xx xx xx              destination IP address
          33     FF                    host part = FF for broadcast

          -- UDP HEADER
          34     02 08                 source port 208 = RIP
          36     02 08                 destination port 208 = RIP
          38     00 DA                 UDP message length
          40     00 00                 UDP checksum

          -- RIP packet
          42     02                  command = response
          43     01                  version = 1
          44     00 00               0

          -- net 1
          46     00 02               family = IP
          48     00 00               0
          50     xx xx xx            net 1 IP address
          53     00                  net not node
          54     00 00 00 00         0
          58     00 00 00 00         0
          62     00 00 00 07         metric 7

          -- net 2
          66     00 02               family = IP
          68     00 00               0
          70     xx xx xx            net 2 IP address

          73     00                  net not node
          74     00 00 00 00         0
          78     00 00 00 00         0
          82     00 00 00 07         metric 7

          -- net 3
          86     00 02               family = IP
          88     00 00               0
          90     xx xx xx            net 3 IP address
          93     00                  net not node
          94     00 00 00 00         0
          98     00 00 00 00         0
          102    00 00 00 07         metric 7

          -- net 4
          106    00 02               family = IP
          108    00 00               0
          110    xx xx xx            net 4 IP address
          113    00                  net not node
          114    00 00 00 00         0
          118    00 00 00 00         0
          122    00 00 00 07         metric 7

          -- net 5
          126    00 02               family = IP
          128    00 00               0
          130    00                  net 5 IP address
          133    00                  net not node
          134    00 00 00 00         0
          138    00 00 00 00         0
          142    00 00 00 07         metric 7

          -- net 6
          146    00 02               family = IP
          148    00 00               0
          150    xx xx xx            net 6 IP address
          153    00                  net not node
          154    00 00 00 00         0
          158    00 00 00 00         0
          162    00 00 00 07         metric 7
```

---
#### **C.2.4.6 Management Query Frame**

정의됩니다.

---
#### **C.2.6.4 Test Frames**

이더넷의 UDP 에코 요청

```text
          -- DATAGRAM HEADER
          offset data (hex)            description
          00     xx xx xx xx xx xx     set to dest MAC address
          06     xx xx xx xx xx xx     set to source MAC address
          12     08 00                 type

          -- IP HEADER
          14     45                    IP version - 4 header length 5 4
         byte units
          15     00                    TOS
          16     00 2E                 total length*
          18     00 00                 ID
          20     00 00                 flags (3 bits) - 0 fragment
         offset-0
          22     0A                    TTL
          23     11                    protocol - 17 (UDP)
          24     C4 8D                 header checksum*
          26     xx xx xx xx           set to source IP address**
          30     xx xx xx xx           set to destination IP address**

          -- UDP HEADER
          34     C0 20                 source port
          36     00 07                 destination port 07 = Echo
          38     00 1A                 UDP message length*
          40     00 00                 UDP checksum

          -- UDP DATA
          42     00 01 02 03 04 05 06 07    some data***
          50     08 09 0A 0B 0C 0D 0E 0F
```

- \* - 다른 길이의 프레임에 대한 변경

- \*\* - 다른 논리적 스트림에 대한 변경

- \*\*\* - 증가하는 옥텟으로 프레임의 나머지 부분을 채우고, 프레임 길이에 따라 필요한 경우 반복됩니다.

총 길이 및 UDP 메시지 길이 필드에 사용되는 값:

```text
          frame size   total length  UDP message length
             64            00 2E          00 1A
             128           00 6E          00 5A
             256           00 EE          00 9A
             512           01 EE          01 9A
             768           02 EE          02 9A
             1024          03 EE          03 9A
             1280          04 EE          04 9A
             1518          05 DC          05 C8
```

---
# **Full Copyright Statement**

Copyright \(C\) The Internet Society \(1999\). 판권 소유.

이 문서와 그 번역본은 복사되어 타인에게 제공될 수 있으며, 이에 대해 설명하거나 설명하거나 구현을 지원하는 파생물은 어떤 종류의 제한 없이 전체적으로 또는 부분적으로 준비, 복사, 출판 및 배포될 수 있습니다. , 단, 위의 저작권 표시와 이 단락은 그러한 모든 사본 및 파생물에 포함됩니다. 그러나 이 문서 자체는 인터넷 표준 개발 목적으로 필요한 경우를 제외하고는 저작권 표시를 제거하거나 Internet Society 또는 기타 인터넷 조직에 대한 참조를 제거하는 등 어떤 식으로든 수정할 수 없습니다. 인터넷 표준 프로세스를 따르거나 영어 이외의 언어로 번역하는 데 필요한 대로 따라야 합니다.

위에서 부여된 제한된 권한은 영구적이며 Internet Society 또는 그 승계자 또는 양수인에 의해 취소되지 않습니다.

이 문서와 여기에 포함된 정보는 "있는 그대로" 제공되며 인터넷 사회 및 인터넷 공학 태스크포스는 여기에 포함된 정보의 사용이 상품성 또는 특정 목적에의 적합성에 대한 권리 또는 묵시적 보증을 침해하는 행위.