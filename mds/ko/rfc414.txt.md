

```text
Network Working Group                                         A. Bhushan
Request for Comments: 414                                        MIT-MAC
Updates: RFC 354, RFC 385                               29 November 1972
NIC: 12406

        FILE TRANSFER PROTOCOL (FTP) STATUS AND FURTHER COMMENTS
```

현재 다수의 HOST에 작동 중인 서버 및 사용자 FTP가 있습니다. 다음은 내가 아는 한 FTP 구현 상태를 반영합니다.

- BBN\(A 및 B\), SRI-ARC, UTAH, CASE, USC-ISI, CCA, MIT-AI MIT- Mathlab, MIT-DMCG, CMU, AMES-67 및 SU-AI에는 서버 및 사용자 FTP가 완벽하게 작동합니다. .

- MIT-Multics에는 사용자 및 서버 FTP가 있지만 서버는 소켓 3에서 수신 대기하지 않습니다\(일반 로그인 및 ftp\_server 명령으로 시작할 수 있음\). UCSB는 곧 사용자 및 서버 FTP를 갖게 될 것입니다.

모든 TENEX 시스템의 서버는 거의 동일합니다\(BBN의 Bob Clements가 개발\). MIT-AI와 MIT-ML의 서버도 동일합니다\(MAC의 Pitts Jarvis 개발\). 현재 FTP에 참여하고 있는 다른 사람들로는 Arvola Chan\(AC@MIT-DMCG\), Ken Pogran\(Multics\), Greg Hicks\(HICKS@UTAH\), Wayne Hathaway\(AMES-67\), Ralph Gorin\(SU-AI\), Rick Werme\(CMU\) 등이 있습니다. \) 및 Ron Stoughton\(UCSB\)이 있습니다.

User-FTP 또는 FTP에 대한 사용자 인터페이스에는 바람직하고 흥미로운 기능을 넣을 수 있습니다. 이러한 기능의 예로는 로컬 사용자가 메시지를 보낼 수 있는 BBN\(및 기타 TENEX\) "SNDMSG USER@HOST" 기능이 있습니다. \(또는 메일\)을 다른 네트워크 사용자에게 보냅니다. 원격 호스트가 작동하지 않는 경우 메시지는 사용자 디렉터리에 "--UNSENT-MAIL-- USERHOST"로 저장되고 백그라운드 작업에서는 정기적으로 해당 파일을 확인하여 메일을 보냅니다. MIT-AI와 MIT-ML에는 파일을 편리하게 전송할 수 있는 "TRANS" 명령이 있습니다. MIT-DMCG에서는 로컬 사용자가 메일을 보내고, 파일을 효율적으로 복사하고, 로컬 사용과 유사한 방식으로 네트워크를 통해 사용자와 디렉터리를 나열할 수 있도록 하는 일반화된 명령인 "CALICO" 하위 시스템을 개발했습니다. 원격 호스트에 연결, 로그인 및 명령 보내기\). 또한 TELNET, FTP 및 RJS 사용자가 자동으로 "로그인"하고 "초기" 파일에서 다른 명령 시퀀스를 수행할 수 있도록 허용합니다.

"Image 36"의 PDP-10 간의 파일 전송은 "ASCII 8"보다 훨씬 빠르고 효율적입니다. 또한 사용자가 FTP 서버에 직접 명령\(즉, 사용자 FTP에서 구현되지 않은 명령\)을 입력할 수 있도록 사용자 FTP에서 "인용" 또는 "대화" 모드를 제공하는 것이 유용하다는 점에 유의하세요. 바람직하다

사용자 및 서버 FTP 기능과 바람직한 사용 모드는 RFC 메커니즘을 통해 문서화되고 보고됩니다.

다음 제안 및 추가 사항은 NWG/RFC 354 및 NWG/RFC 385에 명시된 파일 전송 프로토콜과 관련이 있습니다. 이 RFC에 대한 의견을 받은 후 세 가지 RFC를 단일 문서로 결합하여 ARPANET 공식으로 발행하겠습니다. 파일 전송 프로토콜이 곧 출시됩니다. 그러나 FTP는 실험의 여지가 있는 개방형 프로토콜이라는 점에 유의해야 합니다. 새로운 명령, 응답 코드, 데이터 표현 유형 및 파일 구조는 향후 정의될 수 있습니다. 두 사이트가 동의하면 자체적인 실험적 명령 세트, 데이터 유형, 파일 구조 및/또는 전송 모드를 정의할 수 있습니다. 프로토콜에 대한 이러한 추가 사항은 다른 사이트에서도 이를 사용할 수 있도록 잘 문서화되고 명확하게 지정되어야 합니다.

1\) FTP는 로컬 acho와 한 번에 한 줄씩 상호 작용한다고 가정합니다. 서버는 원격 에코를 제공할 의무가 없으며 TELNET 제어 문자를 무시할 수 있습니다. 그러나 서버는 TELNET 제어 문자를 수신할 때 오류나 잘못된 응답을 제공해서는 안 됩니다.

- 서버에서는 문자 삭제, 문자 줄바꿈 등의 편집 기능을 명시적으로 제공하지 않습니다. 모든 편집은 로컬에서 수행되는 것으로 간주됩니다. TIP 사용자는 라인 모드에서 FTP를 사용하고 <CR\>과 <LF\>를 모두 보내야 합니다\(TIP 명령 @T O L 및 @I L 사용\). 이러한 모드에서 TIP 사용자는 플러시 명령\(@F\)을 사용하여 현재 입력 라인을 플러시할 수 있습니다.

- 서버는 현재 명령줄을 플러시하고 "ABOR" 명령과 같은 사용자 입력을 기다려 TELNET "SYNCH"에 응답해야 합니다. "BYE" 또는 "STAT"와 같은 다른 명령도 허용 가능한 입력이 될 수 있습니다.

2\) TELNET 연결을 통해 한 줄 이상의 출력을 생성하는 "STAT"와 같은 명령에는 상태 정보의 끝을 확실하게 나타내는 방법이 필요합니다. "200 상태 완료" 응답은 상태 정보 종료에 대한 긍정적인 표시를 제공하는 것이 좋습니다. STAT에 대한 응답은 1xx\(x=숫자\)로 시작하는 줄로 시작해야 하며, 다음 줄은 첫 번째 문자로 숫자가 없고 상태는 200 응답으로 끝나야 합니다. \(첫 번째 문자가 숫자가 아니라는 덜 제한적인 요구 사항을 위해 공백 3개에 대한 요구 사항이 삭제되었습니다.\) 이 변경으로 인해 사용자와 서버 FTP 모두에서 작업이 훨씬 쉬워졌습니다.

3\) BYE<CR\><LF\>가 합법적이라는 점을 상기시켜주세요. null 인수가 있는 경우 명령 이름 뒤의 공백은 필요하지 않습니다.

4\) "STAT" 및 "LIST" 명령에 대해 다음 응답이 제안됩니다\(이는 null 인수의 경우 특별히 지정되지 않았습니다\). "STAT" 및 "LIST"에 대한 응답은 항상 각각 TELNET 및 데이터 연결을 통해 이루어져야 합니다. null 인수가 있는 "LIST" 명령은 사용자의 현재 작업 디렉터리 또는 기본 디렉터리에 있는 파일 목록을 생성해야 합니다. null 인수가 있는 "STAT" 명령은 파일 전송 사이에 사용되는 경우\(즉, 전송 없음\) 모든 파일 전송 매개변수\(사용자, 바이트, 크기, 데이터 유형, 전송 모드 및 파일 구조\)의 상태를 생성해야 합니다\(Wayne Hathaway가 제안한 대로\). 진행 중\). 파일 전송 작업\(TELNET 동기화와 함께\) 중에 STAT가 전송되면 서버는 진행 중인 작업 상태로 응답해야 합니다. "LIST" 및 "STAT" 명령의 인수가 경로 이름인 경우 해당 경로 이름과 관련된 목록이 전송되어야 합니다.

5\) 이로써 두 가지 새로운 명령이 제안되었습니다. 첫 번째는 서버 사용 및 구현 상태\(뉴스\)에 대한 유용한 힌트를 사용자에게 보내는 "HELP" 명령입니다. 정보는 유형 100 응답으로 시작하여 유형 200 응답\(완료\)으로 끝나는 TELNET 연결을 통해 전송됩니다. 사용자가 "로그인"\(즉, 유효한 사용자, 비밀번호 및 계정 제공\)하지 않고도 이 명령과 "MAIL" 및 "BYE" 명령을 사용할 수 있도록 허용하는 것이 좋습니다.

- 다른 명령\(Bob Clements가 제안\)은 파일 이름\(CRLF로 구분된 유효한 경로 이름 문자열\)만 전송하고 다른 유용하지만 혼란스러운 정보는 전송하지 않는 "NLST"라는 새로운 디렉토리 목록 명령입니다. 이 명령과 저장 및 검색 명령을 사용하여 전체 디렉토리를 자동으로 복사합니다. 이 명령의 구문과 형식은 "LIST" 명령과 동일합니다\(일부 HOST의 경우 동일한 명령일 수 있음\).

6\) 최소 구현에는 TYPE, BYTE, MODE 및 STRU 명령이 필요하지 않지만 최소 구현을 한 경우에도 이러한 명령을 기본값으로 수락하는 것이 좋습니다. 이렇게 하면 "TYPE A" 및 "STRU F"와 같은 입력에 대한 일부 "추악한" 오류 응답이 서버에서 완벽하게 허용되는 경우를 피할 수 있습니다.

7\) "MLFL" 및 "LIST" 명령을 사용할 때 TYPE이 ASCII\(8비트 바이트\)인지 확인하는 것은 사용자\(또는 사용자-FTP\)의 책임입니다. TYPE이 ASCII가 아닌 경우 서버는 오류 응답을 보내고 명령을 거부할 수 있습니다. 따라서 사용자\(또는 사용자 FTP\)는 "MLFL" 또는 "LIST" 유형 명령을 보내기 전에 유형이 ASCII가 아닌 경우 서버 "TYPE A" 명령을 보내야 합니다.

8\) 유용한 제안은 "MAIL" 및 "MLFL" 명령에 여러 사용자 이름을 허용하는 것입니다. 종종 사용자는 특정 사이트의 여러 사용자에게 동일한 메일을 보내고 싶어합니다. 한 번의 전송과 명령으로 이를 수행할 수 있다면 매우 편리할 것입니다. 서버 사이트에서는 이 옵션을 구현하는 것이 좋습니다.

9\) 또 다른 제안은 FTP에서 경로 이름 구문을 표준화하는 것입니다. TENEX 시스템에 하위 디렉터리가 곧 도입될 것으로 보입니다. 아마도 이는 표준 경로명 구문과 어느 정도 관련이 있을 것입니다. 모든 경로 이름 표준 체계의 요구 사항은 로컬 경로 이름 규칙을 편리하게 사용할 수 있어야 하며 충돌하지 않아야 한다는 것입니다. 합리적인 제안은 "\>"\(Multics에서와 같이\)와 같은 특수 문자로 시작하는 표준 경로 이름을 갖고 이 특수 문자를 사용하여 경로 이름 요소를 구분하는 것입니다. 특수 문자가 경로 이름 요소의 유효한 부분에 발생하는 경우 "'\>"\(특수 문자 앞에 작은따옴표\)라는 리터럴 인용 규칙을 사용합니다.

- 이 규칙에 따른 경로 이름의 예는 다음과 같습니다.

```text
         >udd>CNet>Doe>foo_bar                       (for Multics)
         >DSK>JFD>foo bar                            (for ITS)
         >DOE>foo.bar1    (for TENEX)
```

10\) TENEX의 계정 번호 요구 사항으로 인해 현재 응답 코드 시퀀스 하에서 FTP를 사용하는 자동 장치에 특정 문제가 발생했습니다. 따라서 계정 요구 사항을 처리하기 위해 두 개의 새로운 응답 코드가 정의됩니다. 사용자 "로그인" 시퀀스의 일부로 계정이 필요한 경우 "331 계정 입력" 응답 코드를 사용해야 합니다. 응답 코드는 "433 유효한 계정이 없으면 파일을 저장할 수 없습니다. 계정을 입력하세요." 상점과 같은 특정 작업에만 계정이 필요한 경우에 사용됩니다.

11\) Wayne Hathaway\(RFC\)가 제안한 다음 사항

- 향후\) 합리적으로 보이며 프로토콜에 포함되어야 합니다.

- i\) 다음 레코드 끝 조건은 마지막 레코드에서 명시적이어야 하며 파일 끝에서 암시되어서는 안 됩니다. 이러한 변경으로 인해 서버 구현이 단순화되고 안정성이 향상됩니다\(오류 제어 개선\).

- ii\) 사용자 FTP 구현자는 ASCII 유형 및 스트림 모드\(레코드 끝을 위한 기본 CRLF 규칙\)에서 레코드 구조를 구현하는 것이 쉽지 않다는 점에 유의해야 합니다. 모든 사용자 FTP는 ASCII 유형 및 스트림 모드를 사용하여 레코드 구조 파일의 저장 또는 검색을 허용해야 합니다.

- iii\) 스트림 또는 텍스트 모드에서 레코드 구조화된 "인쇄 파일" 유형\(ASCII 유형에 추가\)을 보낼 수 있습니다. \(RFC 354는 이 문제에 대해 명확하지 않았습니다\).

- iv\) TELNET 동기화 메커니즘은 ABOR 외에도 BYE 및 STAT와 같은 다른 명령으로 확장되어야 합니다.

- v\) NOOP, CLSE 및 SRVR 명령의 적합성에 대한 의견이 요청됩니다. 내 의견으로는 null 인수가 있는 STAT 명령은 NOOP\(서버가 아직 살아 있는지 확인\)의 목적을 제공하고 BYE는 CLSE\(사용자 이름을 변경하려면 USER 명령을 사용해야 함\)의 목적을 제공합니다. SRVR은 유용한 명령입니다.

12\) Bob Clements는 오류 감지 및 제어에 대한 기존 문제를 다시 제기했습니다. 이를 처리하기 위해 블록 모드에서 두 개의 새로운 설명 코드를 정의할 수 있습니다. 하나는 블록 검사의 시작을 알리고 다른 하나는 블록 검사의 끝을 나타냅니다\(블록 검사 바이트를 포함함\). 오류 감지 체계를 구현하지 않으려는 사이트에서는 이러한 코드를 무시할 수 있습니다. 오류 확인 체계와 이를 FTP에 포함하는 것이 바람직한지에 대한 귀하의 의견을 요청합니다.

- \[이 RFC는 입력을 위해 기계 판독 가능한 형식으로 작성되었습니다.\] \[Helene Morin의 온라인 RFC 아카이브, Via Genie, 12/99\]