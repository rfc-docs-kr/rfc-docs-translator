

```text
Network Working Group                                          D. Provan
Request for Comments: 1234                                  Novell, Inc.
                                                               June 1991
```

- IP 네트워크를 통한 IPX 트래픽 터널링

---
# **Status of this Memo**

이 메모는 IPX 트래픽이 IP 인터넷을 통해 이동할 수 있도록 UDP 패킷 내에 IPX 데이터그램을 캡슐화하는 방법을 설명합니다. 이 RFC는 인터넷 커뮤니티를 위한 IAB 표준 추적 프로토콜을 지정하고 개선을 위한 토론 및 제안을 요청합니다. 이 프로토콜의 표준화 상태 및 상태는 "IAB 공식 프로토콜 표준" 최신판을 참조하십시오. 이 메모의 배포는 무제한입니다.

---
# **Introduction**

IPX\(Internet Packet eXchange protocol\)는 Novell의 NetWare 프로토콜 제품군에서 사용하는 인터네트워크 프로토콜입니다. 이 백서의 목적상 IPX는 기능적으로 XNS\(Xerox Network Systems\) 프로토콜 제품군의 IDP\(Internet Datagram Protocol\)와 동일합니다\[1\]. 이 메모는 IPX 트래픽이 IP 인터넷\[3\]을 통해 이동할 수 있도록 UDP 패킷\[2\] 내에서 IPX 데이터그램을 캡슐화하는 방법을 설명합니다.

이 RFC를 사용하면 IPX 구현에서 IP 인터넷을 단일 IPX 네트워크로 볼 수 있습니다. 이 메모의 구현은 하드웨어 구현이 해당 하드웨어의 프레임에 IPX 데이터그램을 캡슐화하는 것과 같은 방식으로 UDP 패킷에 IPX 데이터그램을 캡슐화합니다. 따라서 IPX 네트워크는 IP 트래픽만 전달하는 인터넷을 통해 연결할 수 있습니다.

---
# **Packet Format**

각 IPX 데이터그램은 UDP 패킷의 데이터 부분에서 전달됩니다. 모든 IP 및 UDP 필드는 정상적으로 설정됩니다. UDP 패킷의 소스 및 대상 포트는 모두 이 캡슐화 방법을 구현하기 위해 Internet Assigned Numbers Authority에서 할당한 UDP 포트 값으로 설정되어야 합니다.

모든 UDP 응용 프로그램과 마찬가지로 전송 당사자는 UDP 체크섬을 0으로 설정하여 체크섬 오버헤드를 방지할 수 있습니다. IPX 구현에서는 IPX 체크섬을 사용하여 IPX 패킷이 손상되지 않도록 보호하므로 IPX 캡슐화에는 UDP 체크섬을 적극 권장합니다.

```text
   +---------------------+------------+-------------------------------+
   |                     |            |             |                 |
   |     IP Header       | UDP Header | IPX Header  | IPX packet data |
   | (20 or more octets) | (8 octets) | (30 octets) |                 |
   |                     |            |             |                 |
   +---------------------+------------+-------------------------------+
```

- 그림 1: UDP 패킷에서 데이터로 전달되는 IPX 패킷.

---
# **Reserved Packets**

IPX 헤더의 처음 두 옥텟에는 IPX 체크섬이 포함되어 있습니다. IPX 패킷은 체크섬과 함께 전송되지 않으므로 모든 IPX 헤더는 2옥텟의 FF 16진수로 시작합니다. 이 캡슐화 체계의 구현은 UDP 헤더 바로 다음에 오는 처음 두 옥텟에 다른 값이 있는 패킷을 무시해야 합니다. 다른 값은 이 캡슐화 프로토콜의 향후 개선을 위해 예약되어 있습니다.

---
# **Unicast Address Mappings**

IPX 주소는 4옥텟 네트워크 번호와 6옥텟 호스트 번호로 구성됩니다. IPX는 네트워크 번호를 사용하여 각 패킷을 IPX 인터넷을 통해 대상 네트워크로 라우팅합니다. 패킷이 대상 네트워크에 도착하면 IPX는 6옥텟 호스트 번호를 해당 네트워크의 하드웨어 주소로 사용합니다.

호스트 번호는 IPX RIP\(Routing Information Protocol\) 패킷의 IPX 헤더에서도 교환됩니다. 이는 종단 노드와 라우터 모두에게 목적지 네트워크로 가는 중간 네트워크를 통해 패킷을 전달하는 데 필요한 하드웨어 주소 정보를 제공합니다.

이 메모의 구현을 위해 호스트 번호의 처음 두 옥텟은 항상 0이고 마지막 네 옥텟은 노드의 네 옥텟 IP 주소입니다. 이것은 유니캐스트 전송을 위한 주소 매핑을 간단하게 만듭니다. 호스트 번호의 처음 두 옥텟은 버려지고 일반적인 네 옥텟 IP 주소는 남습니다. 캡슐화 코드는 이 IP 주소를 UDP/IP 터널 패킷의 대상 주소로 사용해야 합니다.

---
# **Broadcasts between Peer Servers**

IPX는 네트워크를 공유하는 NetWare 서버와 IPX 라우터가 서로를 찾을 수 있도록 브로드캐스트 기능이 필요합니다. 인터넷 전체의 IP 브로드캐스트는 적절하지도 사용 가능하지도 않기 때문에 다른 메커니즘이 필요합니다. 이 메모를 위해 각 서버와 라우터는 다른 IPX 서버의 IP 주소 목록을 유지해야 하며

IP 인터넷의 라우터. 이 목록을 "피어 목록", 개별 구성원을 "피어", 로컬 노드를 포함하여 함께 모인 모든 피어를 "피어 그룹"이라고 합니다. IPX가 브로드캐스트를 요청하면 캡슐화 구현은 별도의 유니캐스트 패킷을 피어 목록의 각 피어로 전송하여 브로드캐스트를 시뮬레이트합니다.

각 피어 목록은 수작업으로 구성되기 때문에 여러 피어 그룹이 서로에 대해 알지 못한 채 동일한 IP 인터넷을 공유할 수 있습니다. 이것은 모든 피어가 하드웨어의 브로드캐스트 기능을 사용하여 자동으로 서로를 찾는 일반 IPX 네트워크와 다릅니다.

각 노드의 피어 목록에는 피어 그룹의 다른 모든 피어가 포함되어야 합니다. 대부분의 경우 한 피어의 브로드캐스트가 그룹의 다른 피어에 지속적으로 도달하지 못하면 연결성이 저하됩니다.

피어 목록은 IP 멀티캐스트\[4\]를 사용하여 구현될 수 있지만 현재 멀티캐스트 기능이 널리 사용되지 않기 때문에 잘 알려진 멀티캐스트 주소가 할당되지 않았으며 멀티캐스트를 사용하는 구현이 존재하지 않습니다. IP 멀티캐스트는 IP 구현에 배포되므로 피어 목록에 IPX 서버 및 라우터에 대한 IP 멀티캐스트 주소를 포함하기만 하면 사용할 수 있습니다. IP 멀티캐스트 주소는 이 피어에서 보낸 IP 멀티캐스트 패킷을 수신할 모든 피어의 IP 주소를 대체합니다.

---
# **Broadcasts by Clients**

일반적으로 NetWare 클라이언트 노드는 브로드캐스트를 수신할 필요가 없으므로 일반적으로 IP 인터넷의 NetWare 클라이언트 노드는 서버의 피어 목록에 포함될 필요가 없습니다.

반면에 IPX 네트워크의 클라이언트는 서버를 찾고 경로를 찾기 위해 브로드캐스트를 보내야 합니다. UDP 캡슐화의 클라이언트 구현은 IP 인터네트워크에서 실행되는 피어 그룹의 모든 서버 및 라우터의 구성된 IP 주소 목록을 가짐으로써 이를 처리할 수 있습니다. 서버의 피어 목록과 마찬가지로 클라이언트 구현은 IPX 서버 및 라우터 목록의 각 IP 주소에 패킷 복사본을 전송하여 브로드캐스트를 시뮬레이트합니다. 목록에 있는 IP 주소 중 하나는 브로드캐스트 주소이거나 사용 가능한 경우 멀티캐스트 주소일 수 있습니다. 이를 통해 클라이언트는 특정 IP 주소를 몰라도 피어 그룹의 구성원과 통신할 수 있습니다.

IPX 클라이언트에서 보낸 브로드캐스트 패킷이 서버의 모든 서버와 라우터에 도달할 수 있어야 한다는 점을 인식하는 것이 중요합니다.

피어 그룹. 유니캐스트 리디렉션 메커니즘이 있는 IP와 달리 IPX 종단 시스템은 패킷을 원하는 목적지로 전달할 수 있는 라우터를 요청하는 패킷을 브로드캐스팅하여 라우팅 정보를 검색합니다. 이러한 패킷이 전체 서버 피어 그룹에 도달하지 않는 경향이 있는 경우 IPX 인터넷의 리소스는 종단 시스템에서 볼 수 있지만 아직 도달할 수 없습니다.

---
# **Maximum Transmission Unit**

더 큰 IPX 패킷이 가능하지만 IPX의 표준 최대 전송 단위는 576옥텟입니다. 결과적으로 576 옥텟은 이 캡슐화 기술로 전송되는 IPX 패킷에 대해 권장되는 기본 최대 전송 단위입니다. 8옥텟 UDP 헤더와 20옥텟 IP 헤더를 사용하면 결과 IP 패킷의 길이는 604옥텟이 됩니다. 이것은 576 옥텟 최대 크기보다 크다는 점에 유의하십시오\[3\]. 이 캡슐화 기술을 지원하는 모든 IP 구현은 604 옥텟 IP 패킷을 수신할 수 있어야 합니다.

프로토콜 및 하드웨어의 개선으로 더 크고 단편화되지 않은 IP 전송 장치가 허용됨에 따라 576옥텟 최대 IPX 패킷 크기가 문제가 될 수 있습니다. 이러한 이유로 이 메모의 구현에서 IPX 최대 전송 단위 크기를 구성할 수 있도록 권장합니다.

---
# **Security Issues**

일반적으로 물리적 케이블이 차지하는 위치에서 IP 인터넷과 같은 광역 범용 네트워크를 사용하면 IPX 인터네트워크에서 일반적으로 발생하지 않는 몇 가지 보안 문제가 발생합니다. 일반 미디어는 일반적으로 외부 액세스로부터 물리적으로 보호됩니다. IP 인터넷은 일반적으로 외부 액세스를 초대합니다.

일반적인 효과는 전체 IPX 인터네트워크의 보안이 터널링하는 전체 IP 인터넷의 보안만큼만 좋다는 것입니다. 다음과 같은 광범위한 종류의 공격이 가능합니다.

1\) 권한이 없는 IPX 클라이언트는 암호 크래킹과 같은 일반적인 액세스 제어 공격을 통해 리소스에 액세스할 수 있습니다.

2\) 승인되지 않은 IPX 게이트웨이는 IPX 트래픽을 의도하지 않은 경로로 전환할 수 있습니다.

3\) 승인되지 않은 에이전트는 에이전트의 제어 하에 IP 인터넷에서 사용되는 물리적 매체를 통해 흐르는 IPX 트래픽을 모니터링하고 조작할 수 있습니다.

대체로 이러한 보안 위험은 IP 인터넷을 사용하는 다른 애플리케이션이 직면하는 일반적인 위험입니다. IPX가 일반적으로 미디어를 의심하지 않기 때문에 여기서 언급됩니다. IPX 네트워크 관리자는 이러한 추가 보안 위험을 인식해야 합니다.

---
# **Assigned Numbers**

Internet Assigned Numbers Authority는 잘 알려진 UDP 포트 번호를 할당합니다. 이 메모 \[5\]에 설명된 IPX 캡슐화 기술에 포트 번호 213 십진수를 할당했습니다.

---
# **Acknowledgements**

이 캡슐화 기술은 Schneider & Koch와 Novell이 독립적으로 개발했습니다. Schneider & Koch 구현과의 합의를 확인하기 위해 이 메모를 검토하고 다른 귀중한 제안을 해주신 Schneider & Koch의 Thomas Ruf에게 감사드립니다.

---
# **References**

```text
   [1] Xerox, Corp., "Internet Transport Protocols", XSIS 028112, Xerox
       Corporation, December 1981.

   [2] Postel, J., "User Datagram Protocol", RFC 768, USC/Information
       Sciences Institute, August 1980.

   [3] Postel, J., "Internet Protocol", RFC 791, DARPA, September 1981.
```

\[4\] Deering, S., "IP 멀티캐스팅을 위한 호스트 확장", RFC 1112, Stanford University, 1989년 8월.

\[5\] Reynolds, J. 및 J. Postel, "Assigned Numbers", RFC-1060, USC/Information Sciences Institute, 1990년 3월.

---
# **Security Considerations**

위의 "보안 문제" 섹션을 참조하십시오.

---
# **Author's Address**

```text
   Don Provan
   Novell, Inc.
   2180 Fortune Drive
   San Jose, California, 95131

   Phone: (408)473-8440

   EMail: donp@Novell.Com
```