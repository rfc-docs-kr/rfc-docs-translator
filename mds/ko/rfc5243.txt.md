

```text
Network Working Group                                         R. Ogier
Request for Comments: 5243                           SRI International
Category: Informational                                       May 2008

            OSPF Database Exchange Summary List Optimization
```

---
# **Status of This Memo**

이 메모는 인터넷 커뮤니티에 대한 정보를 제공합니다. 어떤 종류의 인터넷 표준도 지정하지 않습니다. 이 메모의 배포는 무제한입니다.

---
# **Abstract**

이 문서에서는 OSPFv2 및 OSPFv3의 데이터베이스 교환 프로세스에 대한 이전 버전과 호환되는 최적화에 대해 설명합니다. 이 최적화에서는 LSA의 동일하거나 최신 인스턴스가 이웃으로부터 이미 수신된 데이터베이스 설명 패킷에 나열되어 있는 경우 라우터는 이웃으로 전송된 데이터베이스 설명 패킷에 LSA\(링크 상태 광고\)를 나열하지 않습니다. 이 최적화는 대규모 네트워크에서 데이터베이스 설명 오버헤드를 약 50% 줄여줍니다. 이 최적화는 데이터베이스 설명 패킷에서 불필요한 정보만 생략하므로 동기화에 영향을 주지 않습니다.

---
## **1.  Introduction**

OSPFv2 \[RFC2328\] 및 OSPFv3 \[RFC2740\]에서는 두 개의 인접 라우터가 인접해지면 데이터베이스 교환 프로세스를 통해 링크 상태 데이터베이스를 동기화합니다. 각 라우터는 라우터의 링크 상태 데이터베이스를 설명하는 DD\(데이터베이스 설명\) 패킷 세트를 다른 라우터로 보냅니다. 이는 전송된 DD 패킷 중 하나에 각 LSA\(즉, 각 LSA의 헤더 포함\)를 나열하여 수행됩니다. 이 절차를 통해 각 라우터는 다른 라우터에 링크 상태 요청 패킷을 통해 요청해야 하는 최신 LSA 인스턴스가 있는지 여부를 확인할 수 있습니다.

최적화에서는 이웃에 이미 동일하거나 더 최신의 LSA 인스턴스가 있다는 것을 알고 있는 경우 라우터\(마스터 또는 슬레이브\)가 DD 패킷에 LSA를 나열할 필요가 없다는 점만 관찰합니다. LSA\). 이러한 LSA가 DD 패킷에 나열되는 것을 방지하려면 이웃으로부터 수신된 DD 패킷에 LSA가 나열되어 있고 이웃에 대한 데이터베이스 요약 목록에 수신된 LSA와 동일하거나 이전의 LSA 인스턴스가 있는 경우, LSA가 요약 목록에서 제거됩니다.

데이터베이스 교환 요약 목록 최적화라고 하는 최적화는 DD 패킷에서 생략된 LSA가 불필요하므로 동기화에 영향을 주지 않습니다. 최적화는 OSPF와 완전히 역호환됩니다. 최적화는 라우터가 인접해 있을 때 일반적으로 이미 거의 동기화되는 대규모 네트워크에서 데이터베이스 설명 오버헤드를 약 50%까지 줄입니다. 이는 그러한 네트워크에서 교환되는 LSA 헤더의 총 수를 약 절반으로 줄이기 때문입니다. 최적화는 대규모 모바일 Ad Hoc 네트워크와 같이 대역폭이 제한된 대규모 네트워크에서 특히 유용합니다.

---
## **2.  Specification of Optimization**

Database Exchange 요약 목록 최적화는 RFC 2328의 섹션 10.6 "데이터베이스 설명 패킷 수신"을 다음과 같이 수정하여 정의됩니다. 섹션 10.6의 마지막에서 두 번째 단락이 다음과 같은 추가 단락으로 대체됩니다.

라우터가 수신된 Database Description Packet을 다음 순서로 수락하면 패킷 내용은 다음과 같이 처리됩니다. 나열된 각 LSA에 대해 LSA의 LS 유형이 유효한지 확인됩니다. LS 유형이 알려지지 않은 경우\(예: 이 사양에서 정의한 LS 유형 1-5 중 하나가 아닌 경우\) 또는 이것이 AS-external-LSA\(LS 유형 = 5\)이고 이웃이 스텁 영역과 연결된 경우, Neighbor 이벤트 SeqNumberMismatch를 생성하고 패킷 처리를 중지합니다. 그렇지 않으면 라우터는 데이터베이스에서 LSA를 조회하여 LSA 인스턴스도 있는지 확인합니다. 그렇지 않은 경우 또는 데이터베이스 복사본이 최신 버전이 아닌 경우 LSA는 링크 상태 요청 패킷에서 즉시 또는 나중에 요청할 수 있도록 링크 상태 요청 목록에 추가됩니다. 또한 데이터베이스 요약 목록에 나열된 LSA와 동일하거나 이전의 LSA 인스턴스가 포함되어 있으면 해당 LSA가 데이터베이스 요약 목록에서 제거됩니다.

위의 추가 단계\(데이터베이스 요약 목록 업데이트\)는 라우터가 데이터베이스에 나열된 LSA를 조회하고 링크 상태 요청 목록에 LSA를 추가하기 전이나 후에 수행될 수 있습니다. 그러나 최적화를 구현하려면 다음 DD 패킷이 응답으로 전송되기 전에 수신된 DD 패킷에 나열된 각 LSA에 대해 추가 단계를 수행해야 합니다\(데이터베이스 요약 목록을 완전히 업데이트하기 위해\).

최적화에서는 LSA가 특정 순서로 DD 패킷에 나열될 것을 요구하지 않지만 LSA가 모든 라우터에서 동일한 순서로 나열되면 데이터베이스 요약 목록에서 LSA를 더 빠르게 조회할 수 있습니다. 이러한 순서가 사용되는 경우 다양한 구현에서 동일한 순서를 사용하도록 장려하기 위해 이 문서에서는 LSA를 OSPFv2의 경우 \(LS 유형, 링크 상태 ID, 광고 라우터\) 및 \(LS 유형, 광고 라우터\)의 사전순으로 증가하는 순서로 나열할 것을 권장합니다. , 링크 상태 ID\)\(OSPFv3용\).

---
## **3.  Example**

이 섹션에서는 Database Exchange 요약 목록 최적화를 설명하는 예를 설명합니다. 라우터 RT1과 RT2가 Database Exchange를 시작할 때 이미 동일한 데이터베이스를 가지고 있다고 가정합니다. 또한 데이터베이스의 LSA 헤더 목록이 두 개의 DD 패킷에 맞는다고 가정합니다. 그러면 RT1이 Neighbor State를 ExStart로 가장 먼저 변경하는 경우의 표준 Database Exchange는 다음과 같습니다. 각 라우터는 두 개의 전체 DD 패킷을 보냅니다.

```text
      RT1 (slave)                                      RT2 (master)

      ExStart      Empty DD (Seq=x,I,M,Master)
                 ------------------------------>
                   Empty DD (Seq=y,I,M,Master)         ExStart
                 <------------------------------
      Exchange     Full  DD (Seq=y,M,Slave)
                 ------------------------------>
                   Full  DD (Seq=y+1,M,Master)         Exchange
                 <------------------------------
                   Full  DD (Seq=y+1,Slave)
                 ------------------------------>
                   Full  DD (Seq=y+2, Master)
                 <------------------------------
       Full        Empty DD (Seq=y+2, Slave)
                 ------------------------------>
                                                       Full
```

최적화가 사용되는 경우 RT2는 RT1에서 첫 번째 전체 DD 패킷을 수신할 때 DD 패킷에 나열된 모든 LSA를 요약 목록에서 제거합니다. 그런 다음 RT2는 나머지 LSA를 나열하는 DD 패킷을 보냅니다\(모든 LSA 헤더가 두 개의 DD 패킷에 맞기 때문\). RT1이 이 DD 패킷을 수신하면 요약 목록에서 남은 LSA를 제거하고\(비게 됨\) 빈 DD 패킷을 RT2로 보냅니다.

최적화를 통해 각 라우터는 아래와 같이 두 개가 아닌 하나의 전체 DD 패킷만 보냅니다.

```text
      RT1 (slave)                                      RT2 (master)

      ExStart      Empty DD (Seq=x,I,M,Master)
                 ------------------------------>
                   Empty DD (Seq=y,I,M,Master)         ExStart
                 <------------------------------
      Exchange     Full  DD (Seq=y,M,Slave)
                 ------------------------------>
                   Full  DD (Seq=y+1,Master)           Exchange
                 <------------------------------
       Full        Empty DD (Seq=y+1, Slave)
                 ------------------------------>
                                                       Full
```

---
## **4.  Security Considerations**

이 문서는 새로운 보안 문제를 제기하지 않습니다.

---
## **5.  IANA Considerations**

이 문서에서는 새로운 번호 할당이 필요하지 않은 OSPFv2 및 OSPFv3에 대한 간단한 이전 버전과 호환되는 최적화를 지정합니다.

---
## **6.  Normative References**

```text
   [RFC2328] Moy, J., "OSPF Version 2", STD 54, RFC 2328, April 1998.
```

\[RFC2740\] Coltun, R., Ferguson, D. 및 J. Moy, "IPv6용 OSPF", RFC 2740, 1999년 12월.

---
## **7.  Acknowledgments**

LSA를 사전순으로 나열하라는 권장 사항은 Acee Lindem이 제안했습니다.

---
# **Author's Address**

```text
   Richard G. Ogier
   EMail: rich.ogier@earthlink.net
```

---
# **Full Copyright Statement**

저작권 \(C\) IETF 트러스트\(2008\).

이 문서는 BCP 78에 포함된 권리, 라이선스 및 제한 사항의 적용을 받으며 여기에 명시된 경우를 제외하고 작성자는 모든 권리를 보유합니다.

이 문서 및 여기에 포함된 정보는 "있는 그대로" 제공되며 기여자, 기여자가 대표하거나 후원하는 조직\(있는 경우\), 인터넷 협회, IETF 트러스트 및 인터넷 엔지니어링 태스크포스는 모든 내용을 부인합니다. 여기에 포함된 정보의 사용이 특정 목적에 대한 상품성 또는 적합성에 대한 권리 또는 묵시적 보증을 침해하지 않는다는 보증을 포함하되 이에 국한되지 않는 명시적 또는 묵시적 보증.

---
# **Intellectual Property**

IETF는 이 문서에 설명된 기술의 구현 또는 사용과 관련이 있다고 주장할 수 있는 지적 재산권 또는 기타 권리의 유효성 또는 범위 또는 그러한 권리에 따른 라이센스의 범위에 대해 어떠한 입장도 취하지 않습니다. 는 가능하다; 또한 그러한 권리를 식별하기 위해 독립적인 노력을 기울였다는 것을 나타내지 않습니다. RFC 문서의 권리와 관련된 절차에 대한 정보는 BCP 78 및 BCP 79에서 찾을 수 있습니다.

IETF 사무국에 제출된 IPR 공개 사본 및 사용 가능한 라이선스에 대한 보증 또는 이 사양의 구현자 또는 사용자가 이러한 독점권 사용에 대한 일반 라이선스 또는 허가를 얻으려는 시도의 결과를 얻을 수 있습니다. http://www.ietf.org/ipr의 IETF 온라인 IPR 저장소에서.

IETF는 이 표준을 구현하는 데 필요할 수 있는 기술을 포함할 수 있는 저작권, 특허 또는 특허 출원 또는 기타 소유권에 관심을 갖도록 이해 당사자를 초대합니다. 정보를 IETF\(ietf-ipr@ietf.org\)로 보내주십시오.