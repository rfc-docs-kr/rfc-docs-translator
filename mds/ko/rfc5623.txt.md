

```text
Network Working Group                                             E. Oki
Request for Comments: 5623          University of Electro-Communications
Category: Informational                                        T. Takeda
                                                                     NTT
                                                             JL. Le Roux
                                                          France Telecom
                                                               A. Farrel
                                                      Old Dog Consulting
                                                          September 2009

 Framework for PCE-Based Inter-Layer MPLS and GMPLS Traffic Engineering
```

---
# **Abstract**

네트워크는 여러 계층으로 구성될 수 있습니다. 각 계층의 리소스 활용도를 독립적으로 최적화하는 것보다 모든 계층을 고려하여 네트워크 리소스 활용도를 전역적으로 최적화하는 것이 중요합니다. 이를 통해 계층 간 트래픽 엔지니어링이라고 하는 프로세스를 통해 더 나은 네트워크 효율성을 달성할 수 있습니다. PCE\(경로 계산 요소\)는 계층 간 트래픽 엔지니어링을 달성하는 강력한 도구가 될 수 있습니다.

이 문서에서는 레이어 간 MPLS\(Multiprotocol Label Switching\) 및 GMPLS\(Generalized MPLS\) 트래픽 엔지니어링에 PCE 기반 아키텍처를 적용하기 위한 프레임워크를 설명합니다. 다계층 네트워크를 지원하는 PCE 배포에 대한 제안을 제공합니다. 또한 이 문서에서는 PCE가 계층 간 트래픽 엔지니어링을 수행하는 네트워크 모델과 PCE와 VNTM\(가상 네트워크 토폴로지 관리자\)이라는 기능 구성 요소 간의 관계에 대해 설명합니다.

---
# **Status of This Memo**

이 메모는 인터넷 커뮤니티에 대한 정보를 제공합니다. 어떤 종류의 인터넷 표준도 지정하지 않습니다. 이 메모의 배포는 무제한입니다.

---
# **Copyright and License Notice**

Copyright \(c\) 2009 IETF Trust 및 문서 작성자로 확인된 사람. 판권 소유.

이 문서는 이 문서 발행일에 유효한 BCP 78 및 IETF 문서와 관련된 IETF Trust의 법적 조항\(http://trustee.ietf.org/license-info\)의 적용을 받습니다. 이 문서에는 귀하의 권리와 제한 사항이 설명되어 있으므로 주의 깊게 검토하십시오.

이 문서에. 이 문서에서 추출된 코드 구성 요소는 신뢰 법률 조항의 섹션 4.e에 설명된 대로 단순화된 BSD 라이센스 텍스트를 포함해야 하며 BSD 라이센스에 설명된 대로 보증 없이 제공됩니다.

---
# **Table of Contents**

```text
   1. Introduction ....................................................3
      1.1. Terminology ................................................3
   2. Inter-Layer Path Computation ....................................4
   3. Inter-Layer Path Computation Models .............................7
      3.1. Single PCE Inter-Layer Path Computation ....................7
      3.2. Multiple PCE Inter-Layer Path Computation ..................7
      3.3. General Observations ......................................10
   4. Inter-Layer Path Control .......................................10
      4.1. VNT Management ............................................10
      4.2. Inter-Layer Path Control Models ...........................11
           4.2.1. PCE-VNTM Cooperation Model .........................11
           4.2.2. Higher-Layer Signaling Trigger Model ...............13
           4.2.3. NMS-VNTM Cooperation Model .........................16
           4.2.4. Possible Combinations of Inter-Layer Path
                  Computation and Inter-Layer Path Control Models ....21
   5. Choosing between Inter-Layer Path Control Models ...............22
      5.1. VNTM Functions ............................................22
      5.2. Border LSR Functions ......................................23
      5.3. Complete Inter-Layer LSP Setup Time .......................24
      5.4. Network Complexity ........................................24
      5.5. Separation of Layer Management ............................25
   6. Stability Considerations .......................................25
   7. Manageability Considerations ...................................26
      7.1. Control of Function and Policy ............................27
           7.1.1. Control of Inter-Layer Computation Function ........27
           7.1.2. Control of Per-Layer Policy ........................27
           7.1.3. Control of Inter-Layer Policy ......................27
      7.2. Information and Data Models ...............................28
      7.3. Liveness Detection and Monitoring .........................28
      7.4. Verifying Correct Operation ...............................29
      7.5. Requirements on Other Protocols and Functional
           Components ................................................29
      7.6. Impact on Network Operation ...............................30
   8. Security Considerations ........................................30
   9. Acknowledgments ................................................31
   10. References ....................................................32
      10.1. Normative Reference ......................................32
      10.2. Informative Reference ....................................32
```

---
## **1.  Introduction**

네트워크는 여러 계층으로 구성될 수 있습니다. 이러한 계층은 기술 분리\(예: PSC\(패킷 스위치 가능\), TDM\(시분할 다중화\) 또는 LSC\(람다 스위치 가능\)\)\[RFC3945\], 데이터 평면 스위칭 세분성 수준\(예: PSC-1, PSC-2, VC4 또는 VC12\) \[RFC5212\] 또는 클라이언트와 서버 네트워킹 역할 간의 구분입니다. 이 다중 계층 네트워크에서는 하위 계층의 LSP\(Label Switched Path\)가 하위 계층 네트워크를 통해 상위 계층 LSP를 전달하는 데 사용됩니다. 하위 계층 LSP로 구성되고 상위 계층 네트워크에서 트래픽 엔지니어링 링크\(TE 링크\)로 광고되는 네트워크 토폴로지를 VNT\(가상 네트워크 토폴로지\)\[RFC5212\]라고 합니다.

즉, 각 계층에서 독립적으로 리소스 활용도를 최적화하는 것보다 모든 계층을 고려하여 네트워크 리소스 활용도를 전역적으로 최적화하는 것이 효과적일 수 있습니다. 이를 통해 더 나은 네트워크 효율성을 달성할 수 있으며 이를 레이어 간 트래픽 엔지니어링이라고 부릅니다. 계층 간 트래픽 엔지니어링에는 계층 간 종단 간 경로 계산\(계층 간 경로 계산이라고도 함\)을 허용하는 메커니즘과 LSP를 설정 및 해제하여 VNT\(가상 네트워크 토폴로지\)를 제어 및 관리하는 메커니즘을 사용하는 것이 포함됩니다. 하위 레이어 \[RFC5212\].

계층 간 트래픽 엔지니어링은 PCE\(Path Computation Element\) 기반 아키텍처 \[RFC4655\]의 범위에 포함되며, PCE는 계층 간 경로 계산 문제를 해결하는 데 적합한 메커니즘을 제공할 수 있습니다.

계층 간 트래픽 엔지니어링을 위한 PCE 통신 프로토콜 요구 사항은 \[PCC-PCE\]에 설명되어 있습니다.

이 문서에서는 PCE 기반 아키텍처를 계층 간 트래픽 엔지니어링에 적용하기 위한 프레임워크를 설명합니다. 다계층 네트워크를 지원하는 PCE 배포에 대한 제안을 제공합니다. 또한 이 문서에서는 PCE가 계층 간 트래픽 엔지니어링을 수행하는 네트워크 모델을 설명하고 PCE와 VNTM\(Virtual Network Topology Manager\)이라고 하는 VNT 제어 및 관리를 담당하는 기능 구성 요소 간의 관계를 설명합니다.

---
### **1.1.  Terminology**

이 문서에서는 PCE 기반 경로 계산 아키텍처 \[RFC4655\]의 용어와 MPLS\(Multi-Protocol Label Switching\) \[RFC3031\], GMPLS\(Generalized MPLS\) \[RFC3945\] 및 Multi-Layer Networks \[RFC5212\]의 일반적인 용어도 사용합니다.

---
## **2.  Inter-Layer Path Computation**

이 섹션에서는 MPLS 및 GMPLS 네트워크의 계층 간 경로 계산에 대한 주요 주제를 설명합니다.

\[RFC4206\]은 명시적인 경로가 있고 하위 계층의 LSP가 통과하는 홉을 포함하는 상위 계층 LSP에 신호를 보내는 방법을 정의합니다. 레이어 전체에 걸친 엔드투엔드 경로 계산을 레이어 간 경로 계산이라고 합니다.

상위 계층의 LSR\(레이블 스위칭 라우터\)은 특히 오버레이 또는 증강 모델 배포에서 하위 계층의 토폴로지에 대한 정보를 갖고 있지 않을 수 있으므로 계층 전체에서 엔드투엔드 경로를 계산하지 못할 수 있습니다.

PCE 기반 계층 간 경로 계산은 하나 이상의 PCE를 사용하여 계층 전체의 종단 간 경로를 계산하는 것으로 구성됩니다. 이는 단일 PCE 경로 계산을 통해 달성할 수 있습니다. 여기서 PCE는 여러 레이어에 대한 토폴로지 정보를 갖고 모든 레이어의 토폴로지를 고려하여 레이어 전체에 걸쳐 엔드투엔드 경로를 직접 계산할 수 있습니다. 대안으로, 계층 간 경로 계산은 다중 PCE 계산으로 수행될 수 있습니다. 여기서 PCE 집합의 각 구성원은 하나 이상의 계층\(모든 계층은 아님\)의 토폴로지에 대한 정보를 가지며 PCE는 최종 계산을 위해 협력합니다. 끝 경로.

```text
       -----    -----                  -----    -----
      | LSR |--| LSR |................| LSR |--| LSR |
      | H1  |  | H2  |                | H3  |  | H4  |
       -----    -----\                /-----    -----
                      \-----    -----/
                      | LSR |--| LSR |
                      | L1  |  | L2  |
                       -----    -----
```

- 그림 1: 다층 네트워크의 간단한 예

예를 들어 그림 1에 표시된 2계층 네트워크를 생각해 보세요. 여기서 상위 계층 네트워크\(LSR H1, H2, H3 및 H4\)는 패킷 기반 IP/MPLS 또는 GMPLS 네트워크이고 하위 계층 네트워크는 \(LSR, H2, L1, L2 및 H3\)은 GMPLS 광 네트워크입니다. 상위 계층 네트워크\(H1\)의 수신 LSR은 하위 계층 네트워크를 거쳐 상위 계층 네트워크에도 있는 출구 LSR\(H4\)에 대한 LSP 설정을 시도하며 상위 계층 네트워크에서의 경로가 필요합니다. 그러나 상위 계층 네트워크와 하위 계층 네트워크\(H2, H3\)의 경계에 위치한 경계 LSR 사이의 상위 계층 네트워크에는 TE 링크가 없다고 가정하자. 또한 수신 LSR에는 하위 계층에 대한 토폴로지 가시성이 없다고 가정합니다.

상위 계층에 단일 계층 경로 계산을 적용하면 TE 링크 누락으로 인해 경로 계산이 실패합니다. 반면, 계층 간 경로 계산은 상위 계층\(H1-H2-H3-H4\)에 경로를 제공하고 경계 LSR\(H2-L1\) 사이에 하위 계층 LSP가 설정되도록 제안할 수 있습니다. -L2-H3\).

상위 계층 네트워크에 대한 TE 링크로 광고되는 하위 계층 LSP는 상위 계층 LSP를 라우팅하는 데 사용할 수 있는 VNT\(가상 네트워크 토폴로지\)를 형성합니다. 하위 계층 네트워크에 걸쳐 있는 상위 계층 네트워크의 종단 간 LSP에 대한 계층 간 경로 계산은 VNT를 활용할 수 있으며 PCE는 상위 계층 내의 이러한 상위 계층 LSP의 경로를 계산하기 위한 후보입니다. 회로망. 또는 PCE 기반 경로 계산 모델은 다음을 수행할 수 있습니다.

- 둘 이상의 레이어에서 수집된 정보를 사용하여 수신 LSR을 대신하여 단일 계산을 수행합니다. 이 모드는 \[RFC4655\]에서 단일 PCE 계산이라고 합니다.

- 각 레이어를 담당하는 PCE와의 협력을 통해 Ingress LSR을 대신하여 경로를 계산합니다. 이 모드를 \[RFC4655\]에서는 PCE 간 통신을 통한 다중 PCE 계산이라고 합니다.

- TE-LSP 헤드엔드와 새로운 계층의 진입점인 각 통과 경계 LSR을 대신하여 별도의 경로 계산을 수행합니다. 이 모드를 \[RFC4655\]에서는 다중 PCE 계산\(PCE 간 통신 없음\)이라고 합니다. 이 옵션은 연속적인 PCE에 의해 독립적으로 수행되는 레이어별 경로 계산을 활용합니다.

네트워크가 2개 이상의 레이어로 구성되어 있고\(예: MPLS over SONET over Optical Transport Network\(OTN\)\) 2개 이상의 레이어를 통과하는 경로를 계산해야 하는 경우 여러 PCE 기반 경로 계산 모델을 결합할 수 있습니다. . 예를 들어, 단일 PCE 계산 모델은 SONET 계층과 OTN 계층에 걸친 경로를 계산하는 데 사용될 수 있으며, PCE 간 통신 모델을 갖춘 다중 PCE 계산은 MPLS 계층에 걸친 경로 계산에 사용될 수 있습니다\(상위 계층에 의해 계산됨\). -레이어 PCE\) 및 SONET 레이어\(하위 레이어 PCE로 계산\).

헤드엔드 LSR에 의해 호출된 PCE는 경로 정보가 RSVP-TE 신호에 사용하기 위해 ERO\(Explicit Route Object\)로 변환되면 LSR이 MPLS-TE 또는 GMPLS LSP에 신호를 보내는 데 사용할 수 있는 경로를 계산합니다. 두 가지 옵션이 있습니다.

```text
   - Option 1: Mono-Layer Path
```

PCE는 "단일 계층" 경로, 즉 동일한 계층의 TE 링크만 포함하는 경로를 계산합니다. 이 옵션에는 두 가지 경우가 있습니다. 첫 번째 경우, PCE는 이미 설정된 하위 계층 LSP 또는 요청 시 설정될 하위 계층 LSP를 포함하는 경로를 계산합니다. 즉, 결과 ERO에는 상위 계층 네트워크에서 TE 링크로 광고될 때 계층적 LSP의 TE 링크 식별자로 표현되는 하위 계층 계층적 LSP에 해당하는 하위 객체가 포함됩니다. TE 링크는 실제로 구축된 일반 TE 링크일 수도 있고 아직 구축되지 않은 가상 TE 링크일 수도 있다\(\[RFC5212\] 참조\). 가상 TE 링크인 경우 신호가 하위 계층 LSP의 헤드 엔드에 도달할 때 새로운 하위 계층 LSP에 대한 설정 시도가 트리거됩니다. 가상 TE 링크의 경로가 반드시 미리 알려져 있는 것은 아니며 이를 위해서는 추가\(하위 계층\) 경로 계산이 필요할 수 있습니다.

두 번째 경우는 PCE가 하위 계층 네트워크에 걸쳐 있는 느슨한 홉을 포함하는 경로를 계산하는 것입니다. 상위 계층 경로 계산에서는 사용할 하위 계층 네트워크와 해당 하위 계층 네트워크의 진입점 및 종료점을 선택하지만 하위 계층 네트워크를 통과하는 경로는 선택하지 않습니다. 하위 계층 네트워크의 진입점인 전송 LSR은 느슨한 홉\(자체 또는 PCE 서비스에 의존\)을 확장할 것으로 예상됩니다. 경계 LSR의 경로 확장 프로세스는 기존 하위 계층 LSP를 선택하거나 새로운 하위 계층 LSP를 계산하고 설정하는 결과를 가져올 수 있습니다.

PCE가 느슨한 홉이 하위 계층 네트워크를 통해 확장될 것으로 예상하여 느슨한 홉이 있는 경로를 계산하더라도 LSR\(하위 계층 네트워크의 진입점\)은 단순히 느슨한 홉을 확장할 수 있습니다. 같은 층. LSR이 경로를 설정하는 방법에 대한 보다 엄격한 제어가 필요한 경우 경로 키 \[RFC5520\]와 같은 메커니즘을 적용할 수 있습니다.

```text
   - Option 2: Multi-Layer Path
```

PCE는 "다중 계층" 경로, 즉 개별 계층의 TE 링크를 포함하는 경로를 계산합니다\[RFC4206\]. 이러한 경로에는 이미 존재하거나 아직 설정되지 않은 하나 이상의 하위 계층 LSP의 전체 경로가 포함될 수 있습니다. 후자의 경우, 상위 계층 LSP의 시그널링은 하위 계층 LSP의 설정을 촉발할 것입니다.

---
## **3.  Inter-Layer Path Computation Models**

2장에서는 PCE 기반 계층 간 경로 계산을 수행하기 위해 단일 PCE 계산, PCE 간 통신을 사용하는 다중 PCE 계산, PCE 간 통신이 없는 다중 PCE 계산의 세 가지 모델을 정의합니다. 단일 PCE 계산은 아래 섹션 3.1에서 설명하고 다중 PCE 계산\(PCE 간 통신 포함 및 제외\)은 아래 섹션 3.2에서 설명합니다.

---
### **3.1.  Single PCE Inter-Layer Path Computation**

이 모델에서 계층 간 경로 계산은 모든 계층에 대한 토폴로지 가시성을 갖는 단일 PCE에 의해 수행됩니다. 이러한 PCE를 다층 PCE라고 합니다.

그림 2에서 네트워크는 두 개의 레이어로 구성됩니다. LSR H1, H2, H3, H4는 상위 계층에 속하고, LSR H2, H3, L1, L2는 하위 계층에 속한다. PCE는 두 계층 모두에 대한 가시성을 갖는 다중 계층 PCE입니다. 계층 전체에 걸쳐 엔드투엔드 경로 계산을 수행할 수 있습니다\(단일 PCE 경로 계산\). 예를 들어 H1에서 H4까지 상위 계층 LSP에 대한 최적 경로 H1-H2-L1-L2-H3-H4를 계산할 수 있습니다. 이 경로에는 이미 존재하거나 아직 확립되지 않은 H2에서 H3까지의 하위 계층 LSP의 경로가 포함됩니다.

```text
                           -----
                          | PCE |
                           -----
       -----    -----                  -----    -----
      | LSR |--| LSR |................| LSR |--| LSR |
      | H1  |  | H2  |                | H3  |  | H4  |
       -----    -----\                /-----    -----
                      \-----    -----/
                      | LSR |--| LSR |
                      | L1  |  | L2  |
                       -----    -----

            Figure 2: Single PCE Inter-Layer Path Computation
```

---
### **3.2.  Multiple PCE Inter-Layer Path Computation**

이 모델에는 계층당 하나 이상의 PCE가 있으며 각 PCE는 자체 계층으로 제한된 토폴로지 가시성을 갖습니다. 일부 공급자는 조직 및/또는 서비스 관리 문제와 같은 요인으로 인해 레이어 경계를 유지하기를 원할 수 있습니다. 단일 PCE 계산 대신 다중 PCE 계산을 선택하는 것도 가능합니다.

이 모드에서는 PCE가 한 레이어에 대한 토폴로지 정보만 유지하면 되므로 확장성을 고려하여 구동됩니다\(그 결과 TED\(교통 엔지니어링 데이터베이스\)의 크기가 줄어듭니다\).

이러한 PCE를 단층 PCE라고 합니다. 단일 레이어 PCE는 협력하여 레이어 전반에 걸쳐 엔드투엔드 최적 경로를 계산합니다.

그림 3은 PCE 간 통신을 통한 다중 PCE 계층 간 계산을 보여줍니다. 각 계층에는 하나의 PCE가 있습니다. 각 계층의 PCE는 협력하여 계층 전체의 엔드투엔드 경로를 계산합니다. PCE Hi는 상위 계층의 계산을 담당하며 하위 계층의 경로를 계산하기 위해 PCE Lo와 "협의"할 수 있습니다. PCE Lo는 하위 계층의 경로 계산을 담당합니다. PCE 간 협력의 간단한 예는 다음과 같습니다.

- LSR H1은 경로 H1-H4에 대해 PCE Hi에 요청을 보냅니다.

- PCE Hi는 하위 레이어에 대한 진입점으로 H2를 선택하고 종료점으로 H3을 선택합니다.

- PCE Hi는 PCE Lo로부터 H2-H3 경로를 요청합니다.

- PCE Lo는 H2-L1-L2-H3을 PCE Hi로 반환합니다.

- PCE Hi는 이제 전체 경로\(H1-H2-L1-L2-H3-H4\)를 계산하여 H1으로 반환할 수 있습니다.

물론 최적의 엔드투엔드 경로를 원하는 경우에는 더욱 복잡한 협력이 필요할 수 있습니다.

```text
                                -----
                               | PCE |
                               | Hi  |
                                --+--
                                  |
       -----    -----             |            -----    -----
      | LSR |--| LSR |............|...........| LSR |--| LSR |
      | H1  |  | H2  |            |           | H3  |  | H4  |
       -----    -----\          --+--         /-----    -----
                      \        | PCE |       /
                       \       | Lo  |      /
                        \       -----      /
                         \                /
                          \-----    -----/
                          | LSR |--| LSR |
                          | L1  |  | L2  |
                           -----    -----

           Figure 3: Multiple PCE Inter-Layer Path Computation
                       with Inter-PCE Communication
```

그림 4는 PCE 간 통신 없이 다중 PCE 계층 간 경로 계산을 보여줍니다. 섹션 2에서 설명한 것처럼 TE-LSP 헤드엔드와 새로운 계층의 진입점인 각 전송 경계 LSR을 대신하여 별도의 경로 계산이 수행됩니다.

```text
                                -----
                               | PCE |
                               | Hi  |
                                -----
       -----    -----                          -----    -----
      | LSR |--| LSR |........................| LSR |--| LSR |
      | H1  |  | H2  |                        | H3  |  | H4  |
       -----    -----\          -----         /-----    -----
                      \        | PCE |       /
                       \       | Lo  |      /
                        \       -----      /
                         \                /
                          \-----    -----/
                          | LSR |--| LSR |
                          | L1  |  | L2  |
                           -----    -----

           Figure 4: Multiple PCE Inter-Layer Path Computation
                     without Inter-PCE Communication
```

---
### **3.3.  General Observations**

- 구현 세부 사항에 따라 단일 PCE 계층 간 경로 계산 모델에서 계층 간 경로 계산을 수행하는 시간은 메시지 교환 요구 사항이 없기 때문에 단일 계층 PCE가 협력하는 다중 PCE 모델의 시간보다 짧을 수 있습니다. 협력 PCE 사이.

- 모든 계층 네트워크에 대한 TE 토폴로지가 하나의 라우팅 도메인 내에서 보이는 경우, PCE는 하나의 라우팅 도메인에만 참여하여 모든 계층의 TE 토폴로지를 수집할 수 있으므로 단일 PCE 계층 간 경로 계산 모델을 채택할 수 있습니다.

- 단일 PCE 계층 간 경로 계산 모델은 다중 PCE 경로 계산 모델에서 PCE가 사용하는 것보다 한 번의 계산에서 더 많은 TE 토폴로지 정보를 사용하므로 더 많은 계산 능력과 메모리가 필요합니다.

여러 후보 계층 경계 노드가 있는 경우\(상위 계층이 다중 홈이라고 말할 수 있음\) 최적의 경로 계산에서는 서로 다른 계층 경계 노드 또는 링크를 통과하는 가능한 모든 경로를 검사해야 합니다. 이는 PCE가 완전한 가시성을 갖기 때문에 단일 PCE 계층 간 경로 계산 모델에서는 상대적으로 간단합니다. 계산은 단일 계층의 단일 도메인 내 계산과 유사합니다. 다중 PCE 계층 간 경로 계산 모델에서는 계층을 별도의 도메인으로 간주하여 \[RFC5441\]에 설명된 역방향 재귀 기술을 사용할 수 있습니다.

---
## **4.  Inter-Layer Path Control**
---
### **4.1.  VNT Management**

단일 계층 경로 계산의 결과로 PCE는 현재 또는 미래의 상위 계층 LSP를 지원하기 위해 상위 계층 네트워크에서 사용 가능한 대역폭이 충분하지 않다고 결정할 수 있습니다. 하위 계층 네트워크를 통해 새로운 LSP가 프로비저닝되면 문제가 해결될 수 있습니다. 또한 하위 계층 LSP의 수정, 재구성 및 새로운 프로비저닝을 통해 상위 계층 네트워크의 요구 사항에 따라 하위 계층 네트워크 리소스를 더 잘 활용할 수 있습니다. 즉, VNT는 계층 간 경로 계산과 협력하여 제어 또는 관리되어야 합니다.

VNTM\(VNT Manager\)은 VNT를 관리하고 제어하는 ​​기능 요소로 정의됩니다. PCE와 VNT Manager는 함께 배치되거나 배치되지 않을 수 있는 별개의 기능 요소입니다.

---
### **4.2.  Inter-Layer Path Control Models**
---
#### **4.2.1.  PCE-VNTM Cooperation Model**

```text
         -----      ------
        | PCE |--->| VNTM |
         -----      ------
           ^           :
           :           :
           :           :
           v           V
          -----      -----                  -----      -----
         | LSR |----| LSR |................| LSR |----| LSR |
         | H1  |    | H2  |                | H3  |    | H4  |
          -----      -----\                /-----      -----
                           \-----    -----/
                           | LSR |--| LSR |
                           | L1  |  | L2  |
                            -----    -----

                   Figure 5: PCE-VNTM Cooperation Model
```

다중 계층 네트워크는 상위 계층 네트워크와 하위 계층 네트워크로 구성됩니다. 그림 5와 같이 LSR H1, H2, H3, H4는 상위 계층 네트워크에 속하고 LSR H2, L1, L2, H3은 하위 계층 네트워크에 속한다. 단일 PCE 계층 간 경로의 경우 여기서는 PCE와 VNTM 간의 협력 모델을 설명하기 위해 계산이 고려되지만, PCE 간 통신이 있거나 없는 다중 PCE 경로 계산도 이 모델에 적용될 수 있습니다.

H1이 PCE에 H1과 H4 사이의 계층 간 경로를 계산하도록 요청한다고 생각해 보세요. 경로 계산 요청 이전에는 H2와 H3 사이의 상위 계층에 TE 링크가 없으므로 요청이 실패합니다. 그러나 PCE는 향후 상위 계층 LSP 설정을 위한 상황을 해결하는 데 도움이 될 수 있는 하위 계층 네트워크를 담당하는 VNT 관리자에게 정보를 제공할 수 있습니다.

PCE와 VNTM의 역할은 다음과 같습니다. PCE는 계층 간 경로 계산을 수행하지만 H2와 H3 사이에 TE 링크가 없기 때문에 경로를 제공할 수 없습니다. 계산은 실패하지만 PCE는 향후 LSP 요청을 지원하기 위해 하위 계층 LSP\(H2-H3\)를 설정할 수 있다고 VNTM에 제안합니다. PCE에서 VNTM으로의 메시지에는 상위 계층 수요\(H2에서 H3까지\)에 대한 정보가 포함되어 있으며, 하위 계층에 제안된 경로가 포함될 수 있습니다\(PCE가 하위 계층 네트워크에 대한 가시성이 있는 경우\). VNTM은 로컬 정책 및 관리/구성 입력을 사용하여 PCE의 제안을 처리하는 방법을 결정하고 수신 LSR\(예: H2\)을 요청할 수 있습니다.

하위 계층 LSP를 설정합니다. VNTM 또는 수신 LSR\(H2\)은 이 새로운 LSP의 경로를 계산하기 위해 하위 계층에 대한 가시성을 갖춘 PCE를 사용할 수 있습니다.

상위 계층 PCE가 경로 계산에 실패하고 VNTM에 알리면 하위 계층 LSP가 설정되어 TE 링크로 광고될 때까지 기다릴 수 있습니다. PCE에는 타이머가 있을 수 있습니다. TED가 지정된 기간 내에 업데이트되면 PCE는 새로운 TE 링크를 알게 됩니다. 그런 다음 상위 계층 LSP에 대한 완전한 종단 간 경로를 계산하고 결과를 PCC에 반환할 수 있습니다. 이 경우 PCC는 한동안 계속 대기하게 될 수 있으므로 PCC가 이를 이해하는 것이 중요하다. 또한 PCE와 VNTM이 하위 계층 LSP를 적시에 설정하거나 새로운 LSP를 사용할 수 없다는 사실을 VNTM이 PCE에 통보한다는 합의를 하는 것도 중요합니다. 어떤 경우에도 PCE가 기다리기로 결정하면 타임아웃을 실행해야 합니다. PCE와 VNTM 간의 협력 절차의 예는 그림 4의 예시 네트워크를 사용하여 다음과 같습니다.

1단계: H1\(PCC\)은 PCE에 H1과 H4 사이의 경로를 계산하도록 요청합니다.

2단계: 하위 계층 네트워크에 TE 링크가 없기 때문에 경로 계산이 실패합니다.

3단계: PCE는 H2와 H3을 연결하는 새로운 TE 링크가 유용할 것이라고 VNTM에 제안합니다. PCE는 TE 링크가 생성되기를 기다리고 있음을 VNTM에 알립니다. VNTM은 필요하고 VNTM의 정책 제약 내에서 허용되는 경우 하위 계층 LSP를 설정해야 하는지 여부를 고려합니다.

4단계: VNTM은 하위 계층 LSP를 설정하기 위해 하위 계층 네트워크\(예: H2\)에서 수신 LSR을 요청합니다. 요청 메시지에는 하위 계층 네트워크를 담당하는 PCE로부터 획득한 하위 계층 LSP 경로가 포함될 수 있다.

5단계: 수신 LSR은 하위 계층 LSP를 설정하기 위해 신호를 보냅니다.

6단계: 하위 계층 LSP 설정이 성공하면 수신 LSR은 LSP가 완료되었음을 VNTM에 알리고 터널 정보를 제공합니다.

7단계: 수신 LSR\(H2\)은 새로운 LSP를 상위 계층 네트워크 라우팅 인스턴스의 TE 링크로 광고합니다.

8단계: PCE는 새로운 TE 링크 광고를 확인하고 요청된 경로를 다시 계산합니다.

9단계: PCE는 계산된 상위 계층 LSP 경로를 사용하여 H1\(PCC\)에 응답합니다. 계산된 경로는 이미 설정된 하위 계층 LSP를 상위 계층의 단일 홉으로 포함하는 단일 계층 경로로 분류됩니다. 상위 계층 경로는 모든 홉이 엄격한 H1-H2-H3-H4로 지정됩니다.

10단계: H1은 상위 계층 LSP를 설정하기 위해 계산된 경로 H2-H3-H4로 시그널링을 시작합니다.

---
#### **4.2.2.  Higher-Layer Signaling Trigger Model**

```text
         -----
        | PCE |
         -----
           ^
           :
           :
           v
          -----      -----                  -----    -----
         | LSR |----| LSR |................| LSR |--| LSR |
         | H1  |    | H2  |                | H3  |  | H4  |
          -----      -----\                /-----    -----
                           \-----    -----/
                           | LSR |--| LSR |
                           | L1  |  | L2  |
                            -----    -----

              Figure 6: Higher-Layer Signaling Trigger Model
```

그림 6은 상위 계층 신호 트리거 모델을 보여줍니다. 여기서는 상위 계층 시그널링 트리거 모델을 설명하기 위해 단일 PCE 경로 계산의 경우를 고려하지만, PCE 간 통신이 있거나 없는 다중 PCE 경로 계산도 이 모델에 적용될 수 있습니다.

섹션 4.2.1에 설명된 경우와 같이 H1이 PCE에 H1과 H4 사이의 경로를 계산하도록 요청하는 것을 고려하십시오. 경로 계산 요청 이전에는 H2와 H3 사이의 상위 계층에 TE 링크가 없습니다.

PCE는 단일 계층 경로를 계산할 수 없지만 H2와 H3 사이에 하위 계층 LSP를 설정하면 적절한 연결성을 제공할 수 있다고 판단할 수 있습니다. PCE가 계층 간 가시성을 가지면 하위 계층의 홉을 포함하는 경로\(H1-H2-L1-L2-H3-H4\)를 반환할 수 있지만, 하위 계층에 대한 가시성이 없는 경우에는 다음을 반환할 수 있습니다. H2에서 H3\(H1-H2-H3\(loose\)-H4\)까지 느슨한 홉이 있는 경로입니다. 전자는 다중 레이어 경로이고 후자는 느슨한 홉을 포함하는 단일 레이어 경로입니다.

다중 계층 경로를 갖는 상위 계층 시그널링 트리거 모델에서 PCE가 제공하는 LSP 경로에는 아직 설정되지 않은 하위 계층 LSP의 경로가 포함됩니다. 상위계층과 하위계층 네트워크의 경계에 위치한 경계 LSR\(이 예에서는 H2\)은 상위계층 시그널링 메시지를 수신하고 다음 홉이 하위계층 네트워크에 있음을 알아차린 후 설정을 시작한다. \[RFC4206\]에 설명된 대로 하위 계층 LSP를 위로 올립니다. 이러한 작업은 경계 LSR에 적용되는 정책에 따라 달라집니다. 다계층 경로를 갖는 시그널링 트리거 모델의 예시적인 절차는 다음과 같다.

1단계: H1\(PCC\)은 PCE에 H1과 H4 사이의 경로를 계산하도록 요청합니다. 요청은 계층 간 경로 계산이 허용됨을 나타냅니다.

2단계: 계층간 경로 계산 결과, PCE는 새로운 하위 계층 LSP를 구축해야 한다고 판단한다.

3단계: PCE는 상위 계층 및 하위 계층 LSP 경로를 포함하는 계산된 다중 계층 경로로 H1\(PCC\)에 응답합니다. 경로는 모든 홉이 엄격한 H1-H2-L1-L2-H3-H4로 지정될 수 있습니다.

4단계: H1은 H2-L1-L2-H3-H4의 계산된 명시적 라우터를 사용하여 상위 계층 신호를 시작합니다.

5단계: 상위 계층 시그널링 메시지를 수신한 경계 LSR\(H2\)은 H2-L1-L2-H3의 지정된 하위 계층 경로를 따라 하위 계층 LSP를 설정하기 위해 하위 계층 시그널링을 시작합니다. 즉, 경계 LSR은 하위 계층 네트워크에 적용되는 명시적 경로 내의 홉을 인식하고, 새로운 LSP가 허용되는지 로컬 정책으로 확인하고, 필요한 하위 계층 LSP를 설정합니다. 계산이 수행된 시간과 상위 계층 시그널링 메시지가 경계 LSR에 도달한 순간 사이에 적절한 하위 계층 LSP가 이미 설정\(또는 사용 가능\)되었을 가능성이 있다는 점에 유의하십시오. 이 경우, 경계 LSR은 하위 계층 LSP가 상위 계층 시그널링 요청의 명시적 경로를 만족한다면 새로운 LSP를 시그널링할 필요 없이 그러한 하위 계층 LSP를 선택할 수 있습니다.

6단계: 하위 계층 LSP가 설정된 후 상위 계층 시그널링은 계층적 시그널링\[RFC4206\]을 사용하여 H2-H3-H4의 지정된 상위 계층 경로를 따라 계속됩니다.

반면, 모노 레이어 경로를 사용하는 시그널링 트리거 모델에서는 상위 레이어 LSP 경로에 두 경계 LSR 사이의 하위 레이어 네트워크를 통과하는 느슨한 홉이 포함됩니다. 상위 계층 시그널링 메시지를 수신한 경계 LSR은 새로운 하위 계층 LSP에 대한 경로를 결정해야 합니다. 이는 새로운 LSP가 수용 가능한지 확인하기 위해 로컬 정책을 적용한 다음 하위 계층 네트워크에 대한 책임이 있는 PCE와 협의하거나 자체적으로 경로를 계산하고 하위 계층 LSP를 설정하기 위한 신호를 시작합니다. 다시 말하지만, 적합한 하위 계층 LSP가 이미 확립되어 있거나 사용 가능해졌을 가능성이 있습니다. 이 경우, 기존 하위 계층 LSP가 상위 계층 시그널링 요청의 명시적 경로를 만족한다면 경계 LSR은 새로운 LSP를 시그널링할 필요 없이 그러한 하위 계층 LSP를 선택할 수 있습니다. 상위 계층 시그널링 요청은 하위 계층 네트워크 내 경로의 특정 사항을 지정하지 않고 느슨한 홉을 사용했기 때문에 경계 LSR은 이전 예보다 하위 계층 LSP를 선택할 수 있는 자유가 더 큽니다.

다중 계층 경로를 갖는 시그널링 트리거 모델과 단일 계층 경로를 갖는 시그널링 트리거 모델의 절차 차이점은 Step 5입니다. 단일 계층 경로를 갖는 시그널링 트리거 모델의 5단계는 다음과 같습니다.

5' 단계: 상위 계층 시그널링 메시지를 수신한 경계 LSR\(H2\)은 로컬 정책을 적용하여 새로운 LSP가 허용되는지 확인한 다음 하위 계층 LSP 설정을 시작합니다. 하위 계층 네트워크를 담당하는 PCE와 협의하거나 자체적으로 경로를 계산하여 상위 계층 경로에서 느슨한 홉 경로를 확장합니다.

마지막으로 가상 TE 링크가 상위 계층 네트워크에 광고되었을 수 있습니다. 이로 인해 PCE는 모든 홉이 엄격한 H1-H2-H3-H4 경로를 반환합니다. 그러나 상위 계층 신호 메시지가 계층 경계 노드 H2\(가상 TE 링크 광고를 담당함\)에 도달하면 TE 링크가 아직 존재하지 않는다는 것을 깨닫고 해당 메시지를 사용하여 하위 계층 네트워크를 통해 필요한 LSP에 신호를 보냅니다. 상위 계층 신호를 계속하기 전에 자체 경로 결정\(상위 계층의 느슨한 홉과 마찬가지로\).

```text
   PCE
    ^
    :
    :
    V
   H1--H2                  H3--H4
        \                  /
         L1==L2==L3--L4--L5
                  |
                  |
                 L6--L7
                       \
                        H5--H6

                Figure 7: Example of a Multi-Layer Network
```

다중 계층 ERO의 예는 그림 7을 사용하여 설명됩니다. 그림 7은 상위 계층과 하위 계층 모두에 하위 객체를 포함할 수 있는 ERO를 사용하여 상위 계층 시그널링 트리거 모델에서 하위 계층 LSP 설정이 수행되는 방법을 보여줍니다. 상위 계층 신호 트리거 모델은 상위 계층 상위 계층 네트워크\(H2\)의 마지막 LSR에 도달할 때 ERO에 대한 여러 옵션을 제공합니다.

1. 다음 하위 객체는 H3\(단층 ERO\)으로의 느슨한 홉입니다.

2. 다음 하위 개체는 L1으로의 엄격한 홉과 H3으로의 느슨한 홉입니다.

3. 다음 하위 개체는 하위 계층 네트워크의 일련의 홉\(엄격하거나 느슨함\)이며, 그 뒤에는 H3이 있습니다. 예를 들어 {L1\(엄격\), L3\(느슨함\), L5\(느슨함\), H3\(엄격\)}입니다.

첫 번째 예에서 하위 계층은 엔드 투 엔드 LSP를 H3에 전달하는 모든 LSP 터널을 활용할 수 있습니다. 세 번째 경우, 하위 계층은 L3과 L5를 통과하는 LSP 터널을 선택해야 합니다. 그러나 이것이 하위 계층이 L1에서 L3까지 그리고 L3에서 L5까지 다른 LSP를 사용할 수 있거나 사용해야 한다는 의미는 아닙니다.

---
#### **4.2.3.  NMS-VNTM Cooperation Model**

이 모델에서는 NMS와 VNTM이 협력하여 하위 계층 LSP를 구축합니다. 이 모델에는 두 가지 맛이 있습니다. 하나는 경로 계산의 계층 간 상호 작용이 PCE 수준에서 수행되는 경우입니다. 이것을 "통합 맛"이라고 합니다. 다른 하나는 경로 계산의 계층 간 상호 작용이 NMS와 VNTM 협력을 통해 달성되는 곳으로, 이는 관리, 청구 및 보안 정책의 적용 지점이 될 수 있습니다. 이것을 "분리된 맛"이라고 합니다.

```text
   o NMS-VNTM Cooperation Model (integrated flavor)

      ------      -----
     | NMS  |<-->| PCE |
     |      |     -----
     | ---- |
     ||VNTM||
     | ---- |
      ------
       :  :
       :   ---------
       :            :
       V            V
       -----      -----                  -----      -----
      | LSR |----| LSR |................| LSR |----| LSR |
      | H1  |    | H2  |                | H3  |    | H4  |
       -----      -----\                /-----      -----
                        \-----    -----/
                        | LSR |--| LSR |
                        | L1  |  | L2  |
                         -----    -----

         Figure 8: NMS-VNTM Cooperation Model (integrated flavor)
```

그림 8은 NMS-VNTM 협력 모델\(통합 플레이버\)을 보여줍니다. 여기서는 NMS-VNTM 협력 모델\(통합 플레이버\)을 설명하기 위해 단일 PCE 경로 계산의 경우를 고려하지만, PCE 간 통신을 통한 다중 PCE 경로 계산도 이 모델에 적용될 수 있습니다. PCE 간 통신이 없는 다중 PCE 경로 계산은 이 모델에 적합하지 않습니다. 이 모델이 의미를 갖기 위해서는 VNTM과 NMS가 밀접하게 결합되어 있습니다.

NMS는 경로 계산 요청을 PCE로 보냅니다. PCE는 계층 간 경로 계산 결과를 반환합니다. NMS가 경로 계산 결과를 수신하면 NMS는 VNTM과 협력하여 LSR H2에 하위 계층 LSP를 설정하라는 요청을 보냅니다. VNTM은 로컬 정책과 관리/구성 입력을 사용하여 PCE의 계산 결과를 처리하는 방법을 결정합니다.

NMS-VNTM 협력 모델\(통합 플레이버\)의 예시적인 절차는 다음과 같다.

1단계: NMS는 PCE에 H1과 H4 사이의 경로를 계산하도록 요청합니다. 요청은 계층 간 경로 계산이 허용됨을 나타냅니다.

2단계: PCE가 경로를 계산합니다. 결과\(H1-H2-L1-L2-H3-H4\)가 NMS로 다시 전송됩니다.

3단계: NMS는 하위 계층 LSP가 필요하다는 것을 발견합니다. NMS는 VNTM과 협력하여 정책 등에 따라 새로운 TE LSP H2-L1-L2-H3이 허용되는지 여부를 결정합니다.

4단계: VNTM은 하위 계층 네트워크\(H2\)의 수신 LSR에 하위 계층 LSP를 설정하도록 요청합니다. 요청 메시지에는 PCE에서 얻은 하위 계층 LSP 경로가 포함됩니다.

5단계: H2 신호를 보내 하위 계층 LSP를 설정합니다.

6단계: 하위 계층 LSP 설정이 성공하면 H2는 LSP가 완료되었음을 VNTM에 알리고 터널 정보를 제공합니다.

7단계: H2는 새로운 LSP를 상위 계층 네트워크 라우팅 인스턴스의 TE 링크로 광고합니다.

8단계: VNTM은 기본 하위 계층 LSP가 설정되었음을 NMS에 알리고 NMS는 새로운 TE 링크 광고를 알립니다.

9단계: NMS는 H1에게 2단계에서 계산된 경로를 사용하여 H1과 H4 사이에 상위 계층 LSP를 설정하도록 요청합니다. 하위 계층 링크는 해당 상위 계층 TE 링크로 대체됩니다. 따라서 NMS는 H1-H2-H3-H4 경로를 H1으로 보냅니다.

10단계: H1은 상위 계층 LSP를 설정하기 위해 H2-H3-H4 경로로 시그널링을 시작합니다.

```text
   o NMS-VNTM Cooperation Model (separate flavor)

       -----
      | NMS |
      |     |   -----
       -----   | PCE |
       ^   ^   | Hi  |
       :   :    -----
       :   :    ^
       :   :    :
       :   :    :
       :   v    v
       :   ------    -----                          -----    ------
       :  | LSR  |--| LSR |........................| LSR |--| LSR  |
       :  | H1   |  | H2  |                        | H3  |  | H4   |
       :   ------    -----\                        /-----    ------
       :             ^     \                      /
       :             :      \                    /
       :     --------        \                  /
       v    :                 \                /
       ------      -----       \-----    -----/
      | VNTM |<-->| PCE |      | LSR |--| LSR |
      |      |    | Lo  |      | L1  |  | L2  |
       ------      -----        -----    -----

          Figure 9: NMS-VNTM Cooperation Model (separate flavor)
```

그림 9는 NMS-VNTM 협력 모델을 보여줍니다\(별도의 버전\). NMS는 상위 계층을 관리합니다. 여기서는 PCE 간 통신이 없는 다중 PCE 계산의 경우를 사용하여 NMS-VNTM 협력 모델을 설명하지만, 단일 PCE 경로 계산도 이 모델에 적용될 수 있습니다. PCE 간 통신을 통한 다중 PCE 경로 계산은 이 모델에 적합하지 않습니다.

NMS는 어떠한 경로도 지정하지 않고 헤드엔드 LSR과 테일엔드 LSR 사이에 상위 계층 LSP를 설정하기 위해 헤드엔드 LSR\(이 예에서는 H1\)을 요청합니다. PCC인 헤드엔드 LSR은 상위 계층 PCE에 헤드엔드와 테일엔드 LSR 간의 경로 계산을 요청합니다. 경계 LSR\(이 예에서는 H2와 H3\) 사이의 상위 계층에는 TE 링크가 없습니다. PCE가 경로 계산에 실패하면 이를 PCC\(즉, 헤드엔드 LSR\)에 알리고 PCC는 NMS에 알립니다. 통지에는 실패 이유에 대한 정보\(예: 경계 LSR 사이에 TE 링크가 없거나 계산 제약 조건을 충족할 수 없음\)가 포함될 수 있습니다.

상위 계층 PCE가 헤드엔드 LSR이 아닌 NMS에 의해 참조되는 것도 동일하게 유효합니다. 이 경우 결과는 동일합니다. NMS는 H2와 H3 사이의 TE 링크 부족으로 인해 엔드투엔드 LSP를 프로비저닝할 수 없음을 발견합니다.

NMS는 이제 경계 LSR 사이의 하위 계층 LSP가 설정되고 향후 상위 계층 LSP 요청을 지원하기 위해 상위 계층에서 TE 링크로 광고되도록 VNTM에 제안\(또는 요청\)할 수 있습니다. NMS와 VNTM 간의 통신은 자동 또는 수동으로 이루어질 수 있으며, 별도의 관리 도메인일 수도 있는 계층 간의 핵심 상호 작용이다. 따라서 이 통신은 잠재적으로 관리, 청구 및 보안 정책의 적용 지점이 됩니다. NMS는 하위 계층 LSP가 설정되어 TE 링크로 광고될 때까지 기다릴 수도 있고, 상위 계층 LSP가 필요한 서비스에 대한 운영자의 요청을 거부하고 운영자에게 나중에 다시 시도하라는 제안을 할 수도 있습니다.

VNTM은 하위 계층 PCE에 경로 계산을 요청한 다음 H2에 하위 계층 LSP 설정을 요청합니다. 대안적으로, VNTM은 H2에게 LSP를 직접 요청할 수도 있고, H2는 하위 계층 PCE에 문의할 수도 있다. NMS는 하위 계층 LSP가 설정되었음을 알리거나 통지한 후 H1과 H4 사이에 상위 계층 단대단 LSP를 설정하도록 헤드엔드 LSR\(H1\)에 요청할 수 있습니다.

따라서 NMS와 VNTM 간의 통신을 통해 상위계층과 하위계층 간의 협력이 이루어진다. NSM-VNTM 협력 모델의 이러한 절차의 예는 그림 6의 예시 네트워크를 사용하여 다음과 같습니다.

1단계: NMS는 어떠한 경로도 지정하지 않고 H1과 H4 사이에 상위 계층 LSP를 설정하도록 헤드엔드 LSR\(H1\)에 요청합니다.

2단계: H1\(PCC\)은 PCE에 H2와 H3 사이의 경로를 계산하도록 요청합니다.

3단계: 하위 계층 네트워크에 TE 링크가 없기 때문에 경로 계산이 실패합니다.

4단계: H1\(PCC\)이 NMS에 알립니다. 통지에는 H2와 H4 사이에 TE 링크가 없다는 표시가 포함될 수 있습니다.

5단계: NMS는 H2와 H3을 연결하는 새로운 TE 링크가 유용할 것이라고 VNTM에 제안\(또는 요청\)합니다. NMS는 TE 링크가 생성되기를 기다리고 있음을 VNTM에 알립니다. VNTM은 필요하고 VNTM의 정책 제약 내에서 허용되는 경우 하위 계층 LSP를 설정해야 하는지 여부를 고려합니다.

6단계: VNTM은 경로 계산을 위해 하위 계층 PCE를 요청합니다.

7단계: VNTM은 하위 계층 네트워크\(H2\)의 수신 LSR에 하위 계층 LSP를 설정하도록 요청합니다. 요청 메시지에는 하위 계층 네트워크를 담당하는 하위 계층 PCE로부터 획득한 하위 계층 LSP 경로가 포함됩니다.

8단계: H2는 하위 계층 LSP에 신호를 보냅니다.

9단계: 하위 계층 LSP 설정이 성공하면 H2는 LSP가 완료되었음을 VNTM에 알리고 터널 정보를 제공합니다.

10단계: H2는 새로운 LSP를 상위 계층 네트워크 라우팅 인스턴스의 TE 링크로 광고합니다.

11단계: VNTM은 기본 하위 계층 LSP가 설정되었음을 NMS에 알리고 NMS는 새로운 TE 링크 광고를 알립니다.

12단계: NMS는 H1과 H4 사이에 상위 계층 LSP를 설정하도록 다시 H1에 요청합니다.

13단계: H1은 상위 계층 PCE에 경로 계산을 요청하고 모든 홉이 엄격한 H1-H2-H3-H4로 지정된 상위 계층 경로를 포함하는 성공적인 결과를 얻습니다.

단계 14: H1은 상위 계층 LSP를 설정하기 위해 계산된 경로 H2-H3-H4로 시그널링을 시작합니다.

4.2.4. 레이어 간 경로 계산과 레이어 간 경로 제어 모델의 가능한 조합

표 1은 계층 간 경로 계산과 계층 간 경로 제어 모델의 가능한 조합을 요약합니다. 계층 간 경로 계산 모델에는 단일 PCE 경로 계산 모델, PCE 간 통신이 포함된 다중 PCE 경로 계산 모델, PCE 간 통신이 없는 다중 PCE 경로 계산 모델의 세 가지가 있습니다. 또한 PCE-VNTM 협력 모델, 상위 계층 신호 트리거 모델, NMS-VNTM 협력 모델\(통합 버전\) 및 NMS-VNTM 협력 모델\(별도 버전\)의 네 가지 계층 간 경로 제어 모델도 있습니다. 다중 PCE 경로 계산과 계층 간 PCE 통신 모델의 조합 및 NMS-VNTM 협력 모델을 제외하고 계층 간 경로 계산과 경로 제어 모델 간의 모든 조합이 가능합니다.

- 표 1: 레이어 간 경로 계산과 레이어 간 경로 제어 모델의 가능한 조합

```text
    ------------------------------------------------------
   | Path computation    | Single | Multiple  | Multiple  |
   |      \              | PCE    | PCE with  | PCE w/o   |
   | Path control        |        | inter-PCE | inter-PCE |
   |---------------------+--------------------------------|
   | PCE-VNTM            |  Yes   | Yes       | Yes       |
   | cooperation         |        |           |           |
   |---------------------+--------+-----------+-----------|
   | Higher-layer        |  Yes   | Yes       | Yes       |
   | signaling trigger   |        |           |           |
   |---------------------+--------+-----------+-----------|
   | NMS-VNTM            |  Yes   | Yes       | No        |
   | cooperation         |        |           |           |
   | (integrated flavor) |        |           |           |
   |---------------------+--------+-----------+-----------|
   | NMS-VNTM            |  No*   | No        | Yes       |
   | cooperation         |        |           |           |
   | (separate flavor)   |        |           |           |
    ---------------------+--------+-----------+-----------
```

\* NSM-VNTM 협력\(별도의 플레이버\) 및 단일 PCE 계층 간 경로 계산의 경우 NMS와 VNTM에서 사용하는 PCE 기능이 함께 배치될 수 있지만 별도의 TED에서 작동합니다.

---
## **5.  Choosing between Inter-Layer Path Control Models**

이 섹션에서는 PCE-VNTM 협력 모델, 상위 계층 시그널링 트리거 모델, NMS-VNTM 협력 모델을 VNTM 기능, 경계 LSR 기능, 상위 계층 시그널링 시간 및 복잡성\(상태 수 측면\) 측면에서 비교합니다. 및 메시지\). 네트워크 운영자는 다양한 배포 시나리오에서 이러한 모든 고려 사항을 고려하여 적절한 모델을 선택할 수 있습니다.

---
### **5.1.  VNTM Functions**

VNTM 기능은 PCE-VNTM 협력 모델과 NMS-VNTM 모델 모두에 필요합니다. PCE-VNTM 협력 모델에서는 PCE와 VNTM 간, VNTM과 국경 LSR 간 통신이 필요합니다. 상위 계층 PCE와 VNTM 간의 통신은 이벤트 알림이며 PCE MIB 모듈\[PCE-MIB\]의 SNMP\(Simple Network Management Protocol\) 알림을 사용할 수 있습니다. PCE에서 VNTM으로의 통신에는 승인이 없습니다. VNTM-LSR 통신은 기존 GMPLS-TE MIB 모듈 \[RFC4802\]을 사용할 수 있습니다.

NMS-VNTM 협력 모델에서는 NMS와 VNTM 간, VNTM과 하위 계층 PCE 간, VNTM과 경계 LSR 간 통신이 필요합니다. 이 문서의 범위를 벗어나는 NMS-VNTM 통신은 독점 또는 표준 인터페이스를 사용할 수 있으며, 예를 들어 그 중 일부는 TM 포럼에 표준화되어 있습니다. VNTM과 하위 계층 PCE 간의 통신은 PCEP\(Path Computation Element Communication Protocol\) \[RFC5440\]을 사용합니다. VNTM-LSR 통신은 PCE-VNTM 협력 모델과 동일합니다.

상위 계층 시그널링 트리거 모델에서는 VNTM 기능이 필요하지 않으며 그러한 통신도 필요하지 않습니다.

다중 계층 네트워크에서 VNTM 기능이 지원되지 않는 경우 상위 계층 신호 트리거 모델을 선택해야 합니다.

VNTM 기능을 포함하면 교차 네트워크 LSP 터널의 더 나은 조정과 여러 경계 LSR 간의 정책 조정이 필요하기 때문에 트리거 모델에 적용하기 훨씬 어려운 네트워크 전체 정책 적용이 가능해집니다.

또한 VNTM의 경로를 따라 각 노드를 구성함으로써 시그널링 기능이 없는 비MPLS/GMPLS 네트워크에서 LSP\(또는 연결\)를 설정하기 위해 VNTM 기능을 적용할 수 있습니다.

---
### **5.2.  Border LSR Functions**

상위 계층 신호 트리거 모델에서 경계 LSR에는 몇 가지 추가 기능이 있어야 합니다. 상위 계층 경로 메시지가 하위 계층 LSP 설정이 필요하다고 제안하는 경우 하위 계층 신호를 트리거해야 합니다. 가상 TE 링크가 사용되는 경우 경계 LSR은 트리거된 신호를 보낼 수 있어야 합니다.

상위 계층 Path 메시지의 ERO가 단일 계층 경로를 사용하거나 느슨한 홉을 지정하는 경우 Path 메시지를 수신하는 경계 LSR은 PCE를 참조하거나 자체 계산 엔진을 사용하여 하위 계층 경로를 획득해야 합니다. 상위 계층 경로 메시지의 ERO가 다중 계층 경로를 사용하는 경우 경계 LSR은 하위 계층 신호가 필요한지 여부를 판단해야 합니다.

PCE-VNTM 및 NMS-VNTM 협력 모델에서는 가상 TE 링크가 사용되는 경우를 제외하고 경계 LSR에 트리거된 신호 전달을 위한 추가 기능이 필요하지 않습니다. 따라서 이러한 추가 기능이 VNTM에 의해 제어되어 하위 계층 LSP를 설정하는 경계 LSR에서 지원되지 않는 경우 협력 모델을 선택해야 합니다.

---
### **5.3.  Complete Inter-Layer LSP Setup Time**

완전한 레이어 간 LSP 설정 시간에는 레이어 간 경로 계산, 시그널링, PCC와 PCE, PCE와 VNTM, NMS와 VNTM, VNTM과 LSR 간의 통신 시간이 포함됩니다. PCE-VNTM 및 NMS-VNTM 협력 모델에서는 상위 계층 시그널링 트리거 모델에 비해 추가적인 통신 단계가 필요합니다. 반면에 협력 모델은 서비스 설정 시간이 길어지지만 더 나은 제어 기능을 제공합니다.

상위 계층 시그널링 시간 측면에서 상위 계층 시그널링 트리거 모델에서는 상위 계층 시그널링이 시작될 때부터 완료될 때까지 필요한 시간이 가상 TE 링크가 연결되는 경우를 제외하고 협력 모델보다 길다는 점에 유의하세요. 포함됩니다. 이는 이전 모델에서는 상위 계층 시그널링 중에 하위 계층 시그널링이 발생하도록 요구하기 때문입니다. 상위 계층 수신 LSR은 상위 계층 시그널링이 완료될 때까지 더 많은 시간을 기다려야 합니다. 더 긴 경로 설정 시간을 견디려면 상위 계층 수신 LSR이 필요합니다.

---
### **5.4.  Network Complexity**

상위 및 하위 계층 네트워크에 여러 개의 상호 연결이 있는 경우 계층 경계를 교차하는 종단 간 LSP에 대한 최적의 경로 계산은 중요합니다. 상위 계층 LSP는 두 계층 모두에서 최적성을 달성하기 위해 올바른 계층 경계 노드로 라우팅되어야 합니다.

하위 계층 LSP가 상위 계층 네트워크에 TE 링크로 광고되는 경우 계산은 상위 계층 네트워크에서 해결될 수 있습니다. 상위 계층 네트워크에 TE 링크로 광고되므로 하위 계층 LSP에 TE 메트릭\(예: 비용\)을 할당할 때 주의가 필요하며 이는 VNT Manager 구성 요소의 기능일 수 있습니다. 마찬가지로, 하위 계층 네트워크를 통과하는 LSP는 공통 실패 지점\(예: 하위 계층 네트워크의 동일한 링크를 통과할 수 있음\)을 공유할 수 있다는 사실과 공유 위험 링크 그룹\(SRLG\)에 주의해야 합니다. 상위 계층에 광고되는 TE 링크는 그에 따라 설정되어야 합니다.

단일 PCE 모델에서는 두 레이어 모두에 대한 완전한 가시성이 있고 모든 레이어 상호 연결을 통해 가능한 모든 경로를 고려할 수 있기 때문에 단일 계산에서 엔드 투 엔드 경로를 찾을 수 있습니다.

PCE가 협력하여 경로를 결정하는 경우 \[RFC5441\]과 같은 반복 계산 모델을 사용하여 계층 전체에서 최적의 경로를 선택할 수 있습니다.

각각 별도의 레이어에 있는 비협력 단일 레이어 PCE가 트리거된 LSP 모델과 함께 사용되는 경우 최상의 경계 LSR을 결정할 수 없으며 연결도 보장할 수 없습니다. 이 경우 크랭크백 신호 기술\[RFC4920\]을 사용하여 결국 연결성을 달성할 수 있지만 최적성을 달성하기는 훨씬 어렵습니다. 이 모델에서 경로를 계산하기 위해 수신 LSR에 의해 요청된 PCE는 경계 LSR 사이에 TE 링크가 없을 때 상위 계층 시그널링에 의해 트리거되는 하위 계층 경로를 설정하기 위해 경계 LSR을 기대합니다.

---
### **5.5.  Separation of Layer Management**

많은 네트워크 운영자는 서로 다른 계층 네트워크 관리를 명확하게 구분하기를 원할 수 있습니다. 어떤 경우에는 하위 계층 네트워크가 조직의 별도 상업 부서에서 나오거나 완전히 다른 기업에서 나올 수도 있습니다. 이러한 경우 하위 계층 네트워크에서 LSP를 설정하고 상위 계층 네트워크에서 이러한 LSP를 TE 링크로 광고하는 데 적용되는 정책은 상업적 계약 및 보안 문제를 반영합니다\(섹션 8 참조\). 하위 계층 네트워크의 LSP 용량은 클라이언트 상위 계층 네트워크\(다중 서버 모델\)의 LSP 용량보다 훨씬 클 가능성이 높으므로 하위 계층 네트워크 관리자는 다음을 허용하기 전에 주의를 기울여야 할 수 있습니다. 하위 계층의 귀중한 자원을 묶기 위해 상위 계층의 단일 작은 수요가 발생합니다.

이러한 관리와 관리 분리에 필요한 정책 포인트는 트리거된 신호를 사용하는 것보다 VNTM 접근 방식을 통해 더 쉽게 달성됩니다. 실제로 VNTM은 모든 하위 계층 LSP의 조정 지점이며 인간 운영자는 물론 정책 및 청구와도 밀접하게 연결될 수 있습니다. 이러한 모델은 트리거된 신호를 사용하여 달성할 수도 있습니다.

---
## **6.  Stability Considerations**

불안정성 문제가 발생하지 않도록 하려면 계층 간 트래픽 엔지니어링을 올바르게 관리하고 운영해야 합니다.

하위 계층 LSP는 계층화된 네트워크에 사용되는 기술의 특성상 상위 계층 LSP보다 용량이 훨씬 더 높을 가능성이 높습니다. 이는 단일 하위 계층 LSP의 하위 계층 네트워크를 통해 여러 상위 계층 LSP를 전달할 수 있다는 이점이 있습니다. 그러나, 상위 계층 네트워크에 적절한 경로가 없기 때문에 상위 계층 LSP에 대한 요청을 지원하기 위해 새로운 하위 계층 LSP가 설정되는 경우, 이를 지원하기 위해 매우 큰 LSP가 설정되는 경우가 발생할 수 있습니다. 교통 수요가 매우 적습니다. 또한, 상위 계층 LSP의 수명이 짧은 경우 하위 계층 LSP에 대한 요구 사항은 그대로 유지되거나 사라지게 됩니다.

사용하지 않거나 철거해야 하는 경우. 이로 인해 사용되지 않는 하위 계층 네트워크 리소스가 과도하게 정체되거나 하위 계층 네트워크가 불안정해질 수 있습니다. 하위 계층 LSP\(소위 "요청 시 대역폭"\)의 수요 주도 설정이 하위 계층 네트워크의 요구 사항에 따라 필터링되도록 적절한 정책 제어 또는 구성 기능을 사용할 수 있는 것이 중요합니다.

상위 계층 LSP 설정이 요청될 때, 상위 계층 LSP에 대해 요청된 대역폭을 갖는 경로가 없으면 새로운 하위 계층 LSP가 설정될 수 있다. 하위 계층 LSP가 설정된 후 하위 계층 LSP를 사용하는 것이 기존 LSP가 사용하는 것보다 더 나은 경로를 제공하는 경우 기존 상위 계층 LSP는 새로 설정된 하위 계층 LSP를 사용하도록 다시 라우팅될 수 있습니다. 이러한 재라우팅은 기존 상위 계층 LSP를 전달하는 데 사용되는 다른 하위 계층 LSP의 활용도를 낮출 수 있습니다. 하위 계층 LSP의 활용도가 임계값 이하로 떨어지면\(또는 0으로 떨어지면\) 해당 LSP는 하위 계층 네트워크 정책에 따라 삭제됩니다.

그러나 다른 새로운 상위 계층 LSP가 즉시 요청되어 하위 계층 LSP의 설정 또는 재설정이 필요할 수 있다는 점을 고려하십시오. 이는 결국 상위 계층의 재라우팅을 야기하여 다른 하위 계층 LSP를 순환 방식으로 활용도가 낮게 만들 수 있습니다. 이 동작은 상위 계층 네트워크를 불안정하게 만듭니다.

계층 간 트래픽 엔지니어링은 네트워크 불안정 문제를 방지해야 합니다. 문제를 해결하기 위해 네트워크 운영자는 하위 계층 LSP의 재라우팅 및 삭제와 같은 계층 간 경로 제어 작업이 쉽게 허용되지 않는 구성 또는 정책을 통해 달성된 몇 가지 제약을 가질 수 있습니다. 예를 들어, 히스테리시스 제어 동작이 수행될 수 있도록 동작에 대한 임계값 매개변수가 결정됩니다.

---
## **7.  Manageability Considerations**

계층 간 MPLS 또는 GMPLS 트래픽 엔지니어링은 기술 계층 경계와 일치할 수 있는 행정 및 관리 경계를 고려하여 고려해야 합니다. 즉, 각 계층 네트워크는 네트워크에 적용되는 서로 다른 정책과 계층 간 경계에 적용되는 특정 정책 규칙을 사용하여 별도의 관리 제어를 받을 수 있습니다.

네트워크 운영자가 사용하는 정책 및 관리 운영 절차를 위반하지 않고 계층 간 트래픽 엔지니어링을 적용할 수 있도록 관리 메커니즘이 필요합니다.

---
### **7.1.  Control of Function and Policy**
---
#### **7.1.1.  Control of Inter-Layer Computation Function**

계층 간 계산을 지원할 수 있는 PCE 구현은 계층 간 경로 계산 지원을 활성화하거나 비활성화할 수 있는 구성 스위치를 제공해야 합니다.

PCE가 계층 간 경로 계산이 가능하고 구성되면 \[PCC-PCE\]에 설명된 대로 이 기능을 광고해야 하지만 이 광고는 보조 구성 옵션을 통해 억제될 수 있습니다.

---
#### **7.1.2.  Control of Per-Layer Policy**

각 계층이 별도의 네트워크로 운영되는 경우 운영자는 각 네트워크에 적용되는 정책을 제어해야 하며, 해당 제어는 다른 네트워크에 대한 정책 제어와 독립적이어야 합니다.

여러 계층이 동일한 네트워크의 일부로 운영되는 경우 운영자는 모든 계층에 걸쳐 통합 정책에 대한 단일 제어 지점을 갖거나 각 계층에 대해 별도의 정책을 제어할 수 있습니다.

---
#### **7.1.3.  Control of Inter-Layer Policy**

아마도 레이어 간 트래픽 엔지니어링에서 가장 중요한 문제는 레이어 간 정책일 것입니다. 이는 상위 계층 네트워크에서 연결성을 제공하기 위해 하위 계층 LSP가 설정될 수 있는 상황과 같은 문제를 다룰 수 있습니다. 상위 계층 네트워크의 매우 역동적인 마이크로 수요 변화로부터 하위 계층\(고용량\) 네트워크를 보호하기 위한 계층 간 정책이 존재할 수 있습니다\(섹션 6 참조\). 또한 하위 계층 LSP에 대한 적절한 청구를 보장하는 데 사용될 수도 있습니다.

계층 간 정책에는 네트워크 계층 간의 연결 지점 정의, 적용할 계층 간 TE 모델\(예: 이 문서에 설명된 모델 간의 선택\), 경로 계산 및 LSP에 대한 규칙이 포함되어야 합니다. 설정. 계층 간 정책이 정의된 경우 네트워크 전체에서 일관되게 사용해야 하며 적절한 경로가 계산되도록 계층 간 계산을 수행하는 PCE에서 사용할 수 있어야 합니다. PCE에 정책 정보를 제공하는 메커니즘은 \[RFC5394\]에서 논의됩니다.

VNTM은 계층 간 정책 구현에 적합한 기능 구성 요소를 제공할 수 있습니다. VNTM을 사용하면 하위 계층 네트워크 관리자가 해당 정책을 상위 계층 네트워크 운영자에게 공개하지 않고도 계층 간 정책을 적용할 수 있습니다. 마찬가지로, 협력적 PCE 모델\(PCE 간 통신 포함 또는 제외\)을 사용하면 경로 선택 중에 정책을 별도로 적용할 수 있습니다.

---
### **7.2.  Information and Data Models**

레이어 간 계산을 지원하는 모든 프로토콜 확장에는 프로토콜 확장의 제어 및 모니터링을 위한 MIB 개체 정의가 수반되어야 합니다. 이러한 MIB 개체 정의는 일반적으로 프로토콜 확장을 정의하는 문서와 별도의 문서에 배치됩니다. MIB 객체는 확장되는 기본 프로토콜의 관리에 사용되는 것과 동일한 MIB 모듈에 제공될 수 있습니다.

레이어 간 PCE 기능 자체는 MIB 모듈을 통해 관리할 수 있어야 합니다. 일반적으로 이는 PCE 관리를 위한 MIB 모듈에 각 PCE의 계층 간 동작을 선택하고 보고하는 데 사용할 수 있는 개체가 포함되어야 함을 의미합니다. 또한 계층 간 PCE 상호 작용에 대해 보고하는 통계 정보를 제공하는 것이 적절할 수도 있습니다.

PCE와 VNTM 간에 통신이 있는 경우 이러한 통신을 관리하고 모델링하려면 추가 MIB 모듈이 필요할 수 있습니다. 반면에 이러한 통신이 MIB 알림을 통해 제공되는 경우 해당 알림은 MIB 모듈 정의의 일부를 구성해야 합니다.

정책 정보 베이스\(PIB\) 모듈은 섹션 7.1 및 \[RFC5394\]에 설명된 요구 사항을 충족하는 데 적합할 수도 있습니다.

---
### **7.3.  Liveness Detection and Monitoring**

\[RFC4657\]에 설명된 대로 PCE와 PCC 사이, 협력 PCE 사이에 활성 감지 및 모니터링이 필요합니다. 레이어 간 트래픽 엔지니어링은 이 요구 사항을 변경하지 않습니다.

PCE와 VNTM 간에 통신이 있는 경우 VNTM이 실패한 경로 계산 및 원하는 TE 링크에 대한 정보를 수신했는지 여부를 PCE가 알 수 있도록 추가 활성 감지 및 모니터링이 필요할 수 있습니다.

하위 계층 LSP가 실패하거나\(아마도 하위 계층 네트워크 자원의 실패로 인해\) 하위 계층 네트워크 정책의 결과로 철거되면 그에 따른 변경 사항이 LSP에 보고되어야 합니다.

상위 계층은 VNT의 변경으로 간주되지만 계층 간 정책은 이러한 변경이 상위 계층에서 숨겨지도록 규정할 수 있습니다. 상위 계층 네트워크는 연결의 활성 상태를 모니터링하기 위해 VNT의 가상 TE 링크를 통해 데이터 평면 오류 기술을 추가로 작동할 수 있습니다. 그러나 가상 TE 링크가 광고되지만 아직 LSP로 설정되지 않은 경우 주의해야 합니다. 하위 계층에서는 이러한 상위 계층 OAM\(운영, 관리 및 관리\) 기술이 실패를 보고합니다.

---
### **7.4.  Verifying Correct Operation**

PCE 계산 및 상호 작용의 올바른 작동은 \[RFC4657\], \[RFC5440\] 등에 설명되어 있으며 여기서는 추가 논의가 필요하지 않습니다.

계층 간 트래픽 엔지니어링의 올바른 작동은 여러 가지 방법으로 측정할 수 있습니다. 첫째, 하위 계층에 걸친 연결성 부재로 인한 상위 계층 경로 계산의 실패율은 VNT의 효율성에 대한 척도로 관찰될 수 있으며 섹션 7.2에 설명된 데이터 모델의 일부로 보고될 수 있습니다. 둘째, VNT의 변경 속도\(즉, 하위 계층 LSP를 기반으로 한 상위 계층 TE 링크의 설정 및 제거 속도\)는 VNT의 올바른 계획을 측정하는 척도로 볼 수 있으며 섹션 7.2에 설명된 데이터 모델. 셋째, 하위 계층의 네트워크 자원 활용도\(자원 혼잡 측면과 가상 TE 링크를 지원하기 위해 설정된 LSP의 낮은 활용도를 고려한 측면\)는 효과적인 계층 간 트래픽 엔지니어링이 적용되고 있는지 여부를 나타낼 수 있습니다.

상위 계층 네트워크의 관리 도구는 어떤 TE 링크가 계획된 하위 계층 용량\(즉, 물리적 연결 또는 영구 연결\)을 사용하여 제공되는지, 어떤 TE 링크가 동적이며 계층 간 트래픽 엔지니어링을 통해 달성되는지에 대한 보기를 제공해야 합니다. 하위 계층의 관리 도구는 하위 계층 LSP가 VNT에서 TE 링크를 지원하도록 설정되었는지 여부, 그렇다면 어떤 클라이언트 네트워크에 대해 설정되었는지를 포함하여 하위 계층 LSP의 용도에 대한 보기를 제공해야 합니다.

---
### **7.5.  Requirements on Other Protocols and Functional Components**

이 문서에는 프로토콜이나 프로토콜 확장이 정의되어 있지 않으므로 다른 프로토콜과의 특정 상호 작용을 고려하는 것은 적절하지 않습니다. 그러나 이 문서의 목적은 MPLS-TE 및 GMPLS 네트워크에 대한 계층 간 트래픽 엔지니어링을 활성화하는 것이므로 라우팅 및 신호 프로토콜의 계층 간 작동에 필요한 기능이 다음과 같다고 가정합니다. 존재하거나 발전할 것이다.

이 문서에서는 다양한 네트워크 구성 요소\(PCE, LSR, NMS 및 VNTM\)의 역할을 소개합니다. 이러한 구성 요소는 모두 계층 간 TE가 효과적일 수 있도록 제 역할을 해야 합니다. 즉, 이러한 기능 구성 요소 중 하나의 존재와 작동을 가정하는 계층 간 TE 모델은 분명히 이 문서에 설명된 대로 역할을 수행하는 구성 요소에 따라 달라집니다.

---
### **7.6.  Impact on Network Operation**

계층 간 경로를 계산하기 위해 PCE를 사용하면 네트워크 운영에 중요하고 유익한 영향을 미칠 것으로 예상됩니다. 계층 간 트래픽 엔지니어링 자체는 상위 계층 네트워크에 추가적인 유연성을 제공하는 동시에 하위 계층 네트워크가 더 효율적인 방식으로 더 많고 다양한 클라이언트 네트워크를 지원할 수 있도록 허용할 수 있습니다. 네트워크 계층 전반의 트래픽 엔지니어링을 통해 모든 계층에서 네트워크 리소스를 최적으로 사용할 수 있습니다.

본 문서에 설명된 PCE의 사용은 네트워크 계층에 대한 보다 독립적인 운영 모델을 촉진하면서 계층 간 경로 계산을 수행하는 PCE 로딩에 유익한 효과를 줄 수도 있습니다.

---
## **8.  Security Considerations**

PCE를 사용한 레이어 간 트래픽 엔지니어링은 세 가지 레이어 간 경로 제어 모델 모두에서 새로운 보안 문제를 제기합니다.

PCE와 VNTM 간의 협력 모델에서 PCE가 새로운 하위 계층 LSP가 바람직하다고 판단하면 PCE와 VNTM 사이, VNTM과 경계 LSR 사이에 통신이 필요합니다. 이 경우 이러한 통신에는 교환된 정보의 신뢰성, 개인 정보 보호 및 무결성을 보장하는 보안 메커니즘이 있어야 합니다. 특히, 하위 계층 네트워크에서 LSP 설정을 위한 잘못된 트리거로부터 보호하는 것이 중요합니다. 이러한 위조는 하위 계층 네트워크 리소스를 묶을 수 있기 때문입니다\(하위 계층 네트워크와 네트워크에서 서비스 거부 공격 달성\). 사용을 시도하는 상위 계층 네트워크\) 하위 계층 네트워크에서 제공하는 서비스에 대해 잘못된 청구가 발생할 수 있습니다. PCE MIB 모듈을 사용하여 상위 계층 PCE와 VNTM 간의 알림 교환을 제공하는 경우 적절한 보안을 보장하기 위해 SNMPv3를 사용해야 합니다. 또한 VNTM은 상위 계층 PCE로부터 알림을 받을 때 VNTM 동작을 제어할 수 있도록 구성 가능하거나 동적 정책 기능을 제공해야 합니다.

상위 계층 신호 트리거 모델의 주요 보안 문제는 기밀성과 관련이 있습니다. PCE는 하위 계층에 ERO를 포함하는 다중 계층 경로를 상위 계층 PCC에 알릴 수 있다.

네트워크에 있지만 PCC에는 하위 계층 네트워크에 대한 TE 토폴로지 가시성이 없을 수 있으며 이 정보로 신뢰되지 않을 수 있습니다. 하위 계층 네트워크 전체에 걸쳐 느슨한 홉을 사용할 수 있지만 이는 다중 계층 트래픽 엔지니어링의 이점을 감소시킵니다. 더 나은 대안은 하위 계층 네트워크 내에서 확장될 수 있는 경로 키 \[RFC5520\]를 사용하여 하위 계층 경로를 마스크하는 것일 수 있습니다. 하위 계층에서 기록된 경로 정보를 필터링하는 것도 고려해야 합니다. 예를 들어 \[RFC4208\]을 참조하세요.

또한 상위 계층 시그널링 트리거 모델에서는 계층이 서로 다른 관리 또는 신뢰 도메인에 속할 수 있으므로 계층 간 인터페이스에서 시그널링의 보안을 고려해야 합니다.

NMS-VNTM 협력 모델은 NMS와 VNTM 간의 통신을 도입합니다. 이 두 구성 요소는 모두 관리 플레인에 속하며 이러한 통신은 이 PCE 문서의 범위를 벗어납니다. NMS-VNTM 협력 모델은 다른 모델의 보다 역동적인 메커니즘과 달리 제어 및 의사결정이 운영자의 영향권 내에 위치하기 때문에 많은 보안 및 정책 문제를 해결하기 위해 고려될 수 있습니다. 그러나 보안 문제는 단순히 이동했으며 운영자 및 정책에 대한 인증이 필요합니다.

단일 PCE에 여러 계층에 적용되는 TE 정보에 대한 전체 가시성이 부여된 경우에도 보안 문제가 발생할 수 있습니다. 단일 PCE에 대한 모든 액세스는 즉시 모든 네트워크 계층의 토폴로지 정보에 대한 액세스 권한을 얻게 됩니다. 즉, 단일 보안 위반으로 인해 다른 모델에서는 여러 번의 위반이 필요한 정보가 노출될 수 있습니다.

섹션 6에 설명된 대로 계층 간 TE는 네트워크 안정성 문제를 일으킬 수 있으며, 이는 상위 또는 하위 계층 네트워크를 공격하는 데 활용될 수 있습니다. 섹션 7.1.3에 설명된 것과 같은 예방 조치는 정책이나 구성을 통해 적용되어 네트워크 진동을 완화할 수 있습니다.

---
## **9.  Acknowledgments**

유용한 의견을 주신 Kohei Shiomoto, Ichiro Inoue, Julien Meuric, Jean-Francois Peltier, Young Lee, Ina Minei, Jean-Philippe Vasseur 및 Franz Rambach에게 감사드립니다.

---
## **10.  References**
---
### **10.1.  Normative Reference**

\[RFC3031\] Rosen, E., Viswanathan, A. 및 R. Callon, "다중 프로토콜 레이블 스위칭 아키텍처", RFC 3031, 2001년 1월.

```text
   [RFC3945]  Mannie, E., Ed., "Generalized Multi-Protocol Label
              Switching (GMPLS) Architecture", RFC 3945, October 2004.
```

\[RFC4206\] Kompella, K. 및 Y. Rekhter, "GMPLS\(Generalized Multi-Protocol Label Switching\) TE\(트래픽 엔지니어링\)를 사용한 LSP\(레이블 전환 경로\) 계층 구조", RFC 4206, 2005년 10월.

---
### **10.2.  Informative Reference**

\[PCE-MIB\] Stephan, E., "경로 계산 요소에 대한 텍스트 규칙 정의", 진행 중인 작업, 2009년 3월.

\[PCC-PCE\] Oki, E., Le Roux, JL., Kumaki, K., Farrel, A. 및 T. Takeda, "계층 간 트래픽 엔지니어링을 위한 PCC-PCE 통신 및 PCE 검색 요구 사항", 작업 진행 상황, 2009년 1월.

\[RFC4208\] Swallow, G., Drake, J., Ishimatsu, H. 및 Y. Rekhter, "GMPLS\(Generalized Multiprotocol Label Switching\) UNI\(사용자-네트워크 인터페이스\): 자원 예약 프로토콜- 트래픽 엔지니어링\(RSVP-TE\) 오버레이 모델 지원", RFC 4208, 2005년 10월.

\[RFC4655\] Farrel, A., Vasseur, J.-P. 및 J. Ash, "A Path

- 컴퓨팅 요소\(PCE\) 기반 아키텍처", RFC 4655, 2006년 8월.

\[RFC4657\] Ash, J., Ed. 및 J. Le Roux, Ed., "PCE\(경로 계산 요소\) 통신 프로토콜 일반 요구 사항", RFC 4657, 2006년 9월.

\[RFC4802\] Nadeau, T., Ed. 및 A. Farrel, Ed., "일반화

- GMPLS\(Multiprotocol Label Switching\) 트래픽 엔지니어링 관리 정보 베이스", RFC 4802, 2007년 2월.

\[RFC4920\] Farrel, A., Ed., Satyanarayana, A., Iwata, A., Fujita, N. 및 G. Ash, "MPLS 및 GMPLS RSVP-TE를 위한 크랭크백 신호 확장", RFC 4920, 2007년 7월.

\[RFC5212\] Shiomoto, K., Papadimitriou, D., Le Roux, JL., Vigoureux, M. 및 D. Brungard, "GMPLS 기반 다중 지역 및 다중 계층 네트워크\(MRN/MLN\)에 대한 요구 사항", RFC 5212, 2008년 7월.

\[RFC5394\] Bryskin, I., Papadimitriou, D., Berger, L. 및 J. Ash, "정책 지원 경로 계산 프레임워크", RFC 5394, 2008년 12월.

\[RFC5440\] Vasseur, JP., Ed. 및 JL. Le Roux, Ed., "PCEP\(경로 계산 요소\) 통신 프로토콜", RFC 5440, 2009년 3월.

\[RFC5441\] Vasseur, JP., Ed., Zhang, R., Bitar, N. 및 JL. Le Roux, "최단 제한 도메인 간 트래픽 엔지니어링 레이블 전환 경로를 계산하기 위한 역방향 재귀 PCE 기반 계산\(BRPC\) 절차", RFC 5441, 2009년 4월.

\[RFC5520\] Bradford, R., Ed., Vasseur, JP. 및 A. Farrel,

- "경로 키 기반 메커니즘을 사용하여 도메인 간 경로 계산에서 토폴로지 기밀성 유지", RFC 5520, 2009년 4월.

---
# **Authors' Addresses**

Eiji Oki 전자통신대학 도쿄 일본 이메일: oki@ice.uec.ac.jp

```text
   Tomonori Takeda
   NTT
   3-9-11 Midori-cho,
   Musashino-shi, Tokyo 180-8585, Japan
   EMail: takeda.tomonori@lab.ntt.co.jp

   Jean-Louis Le Roux
   France Telecom R&D,
   Av Pierre Marzin,
   22300 Lannion, France
   EMail: jeanlouis.leroux@orange-ftgroup.com

   Adrian Farrel
   Old Dog Consulting
   EMail: adrian@olddog.co.uk
```