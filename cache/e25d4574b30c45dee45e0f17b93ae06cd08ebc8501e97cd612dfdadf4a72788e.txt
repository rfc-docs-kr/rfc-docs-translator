- Diameter 서버는 수신된 메시지의 T 플래그를 확인하여 레코드가 중복 가능성이 있는지 확인할 수 있습니다. 요청 메시지에 T 플래그가 설정된 경우 서버는 구성 가능한 복제 시간 창 내에서 앞뒤로 복제본을 검색합니다. 이는 데이터베이스 검색을 T 플래그가 설정된 레코드로 제한합니다. 잘 운영되는 네트워크에서는 네트워크 파티션 및 장치 오류가 거의 발생하지 않으므로 이 접근 방식은 중복 감지 프로세스의 실질적인 최적화를 나타냅니다. 장애 조치 중에 원본 및 중복 전송의 경로를 따라 발생하는 네트워크 지연의 차이로 인해 레코드로 표시된 T 플래그 이후에 원본 레코드가 수신될 수 있습니다. 장애 조치(failover) 간격이 줄어들면 이런 일이 발생할 가능성이 높아집니다. 순서가 잘못된 중복을 감지할 수 있으려면 Diameter 서버는 T 플래그로 표시된 요청에 대해 중복 검사를 수행할 때 역방향 및 순방향 시간 창을 사용해야 합니다. 예를 들어 원본 레코드가 네트워크를 종료하고 어카운팅 서버에 의해 기록되는 시간을 허용하기 위해 Diameter 서버는 종료 후 TIME_WAIT + RECORD_PROCESSING_TIME 기간이 경과할 때까지 T 플래그를 설정하여 레코드 처리를 지연할 수 있습니다. 원래 운송 연결. 이 기간이 만료된 후에는 원본 레코드가 전송된 경우 수신 및 기록되었다는 상대적인 확신을 가지고 데이터베이스에 대해 T 플래그 표시된 레코드를 확인할 수 있습니다.