   연결을 설정하고 종료하는 데 필요한 일련의 이벤트를 설명하는 훌륭한 메커니즘에는 상태 다이어그램이 포함됩니다. 우리는 각 소켓이 상태 머신과 연결될 수 있고 이 상태 머신이 언제든지 가능한 10가지 상태 중 하나에 있을 수 있다고 가정할 수 있습니다. 어떤 상태에서든 특정 네트워크 이벤트로 인해 연결 상태가 다른 상태로 전환됩니다. 다른 이벤트는 무시됩니다. 여전히 다른 사람들은 오류입니다. 전환에는 일부 작업을 수행하는 로컬 NCP가 포함될 수도 있습니다. 그림 7.1은 상태 머신을 보여줍니다. 원[현재 상자: Ed]은 상태를 나타냅니다(아래에 설명됨). 화살표는 상태 간의 법적 전환을 보여줍니다. 화살표의 레이블은 원인이 된 이벤트를 식별합니다(CLOSE는 시스템 호출이고 CLS는 제어 명령임). 슬래시 뒤의 문구는 해당 화살표 위로 이동하는 동안 수행해야 하는 작업을 나타냅니다. '[E]RFC'(상태 0과 1 사이에 있음)라는 레이블이 붙은 화살표는 다음을 나타냅니다.