- loca_reclaim이 TRUE이면 클라이언트는 메타데이터 서버를 다시 시작하기 전에 발생한 레이아웃에 대한 변경 사항을 커밋하려고 시도합니다. 메타데이터 서버는 인수의 loca_layoutupdate 필드에 대해 일부 일관성 검사를 적용하여 클라이언트가 저장 장치에 기록된 데이터를 파일 시스템에 커밋할 수 있는지 여부를 결정합니다. loca_layoutupdate 필드는 데이터 유형이layoutupdate4이고 레이아웃 유형별 콘텐츠(loca_layoutupdate의 lou_body 필드에 있음)를 포함합니다. loca_layoutupdate가 가질 수 있는 레이아웃 유형별 정보는 섹션 12.5.4.3에서 논의됩니다. loca_layoutupdate에 대한 메타데이터 서버의 일관성 검사가 성공하면 메타데이터 서버는 저장 장치에 기록된 데이터(인수 loca_offset, loca_length 및 loca_layoutupdate 필드에 설명된 대로)를 커밋해야 합니다. loca_layoutupdate에 대한 메타데이터 서버의 일관성 검사가 실패하면 메타데이터 서버는 LAYOUTCOMMIT 작업을 거부하고 파일 시스템을 변경하지 않습니다. 그러나 loca_reclaim TRUE를 사용한 LAYOUTCOMMIT가 실패할 때마다 pNFS 클라이언트는 <loca_offset, loca_length>에 정의된 범위의 모든 데이터를 잃게 됩니다. 클라이언트는 메모리에 동기식 또는 비동기식으로 기록된 모든 데이터를 캐시하고 LAYOUTCOMMIT가 성공할 때까지 캐시된 데이터를 해제하지 않음으로써 이러한 위험을 방어할 수 있습니다. 이 조건은 모든 레이아웃 유형에 적용되지 않습니다. 예를 들어 파일 기반 저장 장치에는 이러한 제한이 적용되지 않습니다.